/*! For license information please see invites.min.js.LICENSE */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=".",n(n.s=546)}({11:function(e,t,n){"use strict";var i=n(15),a=arguments;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var c,u=function(e){return window.setTimeout(e,1e3/60)},l=0;function f(e,t){do{l===e?l=0:l+=1}while(Object.prototype.hasOwnProperty.call(t,l));return l}var d=function(){var e;if(window.Worker&&window.Blob&&!i.a.ieVersion)try{var t={},n=new Blob(['e={};onmessage=function(a){var t,r=a.data,s=r.name,n=r.fakeId;switch(r.hasOwnProperty("time")&&(t=r.time),s){case"setInterval":e[n]=setInterval(function(){postMessage({fakeId:n})},t);break;case"clearInterval":e.hasOwnProperty(n)&&(clearInterval(e[n]),delete e[n]);break;case"setTimeout":e[n]=setTimeout(function(){postMessage({fakeId:n}),e.hasOwnProperty(n)&&delete e[n]},t);break;case"clearTimeout":e.hasOwnProperty(n)&&(clearTimeout(e[n]),delete e[n])}}']),r=window.URL.createObjectURL(n);(c=new Worker(r)).onmessage=function(e){var n,i,a,r=e.data.fakeId;Object.prototype.hasOwnProperty.call(t,r)&&(a=(n=t[r]).callback,i=n.parameters,Object.prototype.hasOwnProperty.call(n,"isTimeout")&&n.isTimeout&&delete t[r]),"function"==typeof a&&a.apply(window,i)},c.onerror=function(e){},e={setInterval:function(e,n){var i=f(2147483647,t);return t[i]={callback:e,parameters:Array.prototype.slice.call(a,2)},c.postMessage({name:"setInterval",fakeId:i,time:n}),i},clearInterval:function(e){Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],c.postMessage({name:"clearInterval",fakeId:e}))},setTimeout:function(e,n){var i=f(2147483647,t);return t[i]={callback:e,parameters:Array.prototype.slice.call(a,2),isTimeout:!0},c.postMessage({name:"setTimeout",fakeId:i,time:n}),i},clearTimeout:function(e){Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],c.postMessage({name:"clearTimeout",fakeId:e}))}}}catch(e){}return e},h=d(),E=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||u,v=function(){function e(){r(this,e)}return s(e,[{key:"requestInterval",value:function(e,t){if(h)return h.setInterval(e,t);if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(e,t);var n=(new Date).getTime();return E(function i(){(new Date).getTime()-n>=t&&(e.call(),n=(new Date).getTime()),E(i)})}},{key:"clearRequestInterval",value:function(e){h?h.clearInterval(e):window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e):window.clearInterval(e)}},{key:"requestTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(h)return h.setTimeout(e,t);if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setTimeout(e,t);var n=(new Date).getTime(),i=function i(){(new Date).getTime()-n>=t?e.call():E(i)};return E(i)}},{key:"clearRequestTimeout",value:function(e){h?h.clearTimeout(e):window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e):window.clearTimeout(e)}}]),e}();t.a=new v},13:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"uuid",value:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"".concat(e()).concat(e(),"-").concat(e(),"-4").concat(e().substr(0,3),"-").concat(e(),"-").concat(e()).concat(e()).concat(e()).toLowerCase()}},{key:"get",value:function(e){for(var t="abcdefghijklmnopqrstuvwxyz0123456789",n="",i=0,a=t.length;i<e;i+=1)n+=t.substr(0|Math.random()*a,1);return n}}])&&i(t.prototype,n),a&&i(t,a),e}();t.a=new a},136:function(e,t,n){"use strict";var i=n(13),a=n(4),r=n(16);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=window,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._chatConfig=t,this._trackingIdMap={}}var t,n,c;return t=e,(n=[{key:"check",value:function(e,t,n){this._makeServerCall(e,t,n)}},{key:"getTrackingId",value:function(e){return this._trackingIdMap[e]}},{key:"_makeServerCall",value:function(e,t,n){var i=this._getCallbackName("_tfs_"),a=this._chatConfig,o=a.overrideCaStatus,c=a.overrideQueue,u=e;c&&(u=c);var l=this._getResponseHandler(i,u,n);if(s[i]=l,o){var f={data:{caStatus:o}};"true"===o&&(f.data.trackingId="DEBUG01$12345"),l(f)}else r.a.injectScript(this._getURL(i,u,t),function(e){},document,{id:i},3e4)}},{key:"_getCallbackName",value:function(e){return e+i.a.get(10)}},{key:"_getResponseHandler",value:function(e,t,n){var i=this;return function(a){var r,o="false";a&&a.data&&(a.data.caStatus&&(o=a.data.caStatus),(r=a.data.trackingId)&&(i._trackingIdMap[t]=r));var c=document.getElementById(e);c&&c.parentNode.removeChild(c);try{delete s[e]}catch(t){s[e]=void 0}n(o,{trackingId:r})}}},{key:"_getURL",value:function(e,t,n){a.a.notEmpty(e,"callback name"),a.a.notEmpty(t,"queue");var i=this._chatConfig,r=i.assistCAEndpoint,o=i.assistAccountId,s="".concat(r,"/rest/checkAvailability?"),c={queueId:t,accountId:o,jsonp:e};n&&(c.skillId=n);var u=this.getTrackingId(t);return u&&(c.trackingId=u),s+Object.keys(c).map(function(e){return"".concat(e,"=").concat(c[e])}).join("&")}}])&&o(t.prototype,n),c&&o(t,c),e}(),u=n(17),l=n(9),f=n(60),d=n(11),h=n(21);function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var v=u.a.STATE,_="-",p=[v.MAXIMIZED,v.MINIMIZED],I=window;function m(e,t,n,i){return e["".concat(e.device,".").concat(t,".").concat(n)]||e["".concat(t,".").concat(n)]||e["".concat(n)]||i}function T(e,t,n,i){var a=!1,r=d.a.requestInterval(function(){if(t()&&!a){var r=i-n;d.a.requestTimeout(function(){o()},r),a=!0}e()},n),o=function(){d.a.clearRequestInterval(r)};return{clear:o}}var y=function(){function e(t){var n=this,i=t.config,a=t.template,r=t.apis,o=t.supportHours;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._desiredState=i.state,this._inviteId=i.inviteId,this._caqueue=i.queue,this._caskill=i.skill,this._engaged=i.engaged,this._dockId=i.dockId,this._appInteractionId="",this._caTrueOnce=!1,this._caChecked=!1,this._stateChangedByAction=!1,this._caPoller=void 0,this._trackingId="",this._apis=r,this._ruleId=i.ruleId,this._appId=i.appId,this._tabVisibleOnTrigger=i.tabVisibleOnTrigger,this._trackAction(u.a.TRACK_INTERACTION.INVITE_REQUESTED),this._assistAvailability=new c(i.workflowConfig),this._invite=new a(i,function(e,t){e.split(_).map(function(e){return n.stimulus(u.a.STIMULI_TYPE.ACTION,e,t)})},r.fifMessageSender),this._caMap={},Object.keys(v).map(function(e){var t=v[e];return n._caMap[t]=m(i,t,"caType",u.a.AVAILABILITY_CHECK.NONE),0}),this._supportHours=new f.a(o,this._caqueue),this._preCheckSupportHours=m(i,i.state,"preCheckSupportHours","false"),this._pollInterval=i.pollInterval,this._pollDuration=i.pollDuration,this._checkAndLogAfterHours(),this._requestStateUpdate()}var t,n,a;return t=e,(n=[{key:"_checkAndLogAfterHours",value:function(){this._supportHours.isWithinSupportHours()||this._track(u.a.EVENT.QUEUE_AFTER_HOURS,this._getInviteMetadata({}))}},{key:"_requestStateUpdate",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._caTrueOnce=!1,this._caChecked=!1,this._caType=this._caMap[this._desiredState],this._stopAvailabilityPoller(),this._pollInterval&&this._pollDuration&&(this._caPoller=T(this._invokeAvailabilityCheck.bind(this),function(){return!e._engaged},parseInt(this._pollInterval,10),parseInt(this._pollDuration,10))),t&&this._invokeAvailabilityCheck()}},{key:"_stopAvailabilityPoller",value:function(){this._caPoller&&this._caPoller.clear()}},{key:"_invokeAvailabilityCheck",value:function(){if(this._engaged)this.stimulus(u.a.STIMULI_TYPE.INTERACTION,!0);else if("true"!==this._preCheckSupportHours||this._supportHours.isWithinSupportHours()){switch(this._caType){case u.a.AVAILABILITY_CHECK.NONE:this.stimulus(u.a.STIMULI_TYPE.AVAILABILITY,!0,{});break;case u.a.AVAILABILITY_CHECK.REPEAT:this._checkAvailability();break;case u.a.AVAILABILITY_CHECK.ONCE:this._caChecked||this._checkAvailability();break;case u.a.AVAILABILITY_CHECK.TILL_AVAILABLE:this._caTrueOnce||this._checkAvailability()}this._caChecked=!0}else this.stimulus(u.a.STIMULI_TYPE.AVAILABILITY,!1,{})}},{key:"_trackAction",value:function(e){var t=this._state||this._desiredState;this._apis.trackInteraction({logLevel:h.a.LOG_LEVEL.INFO,message:h.a.LOG_EVENTS.USER_ACTION,logData:{action:e,inviteId:this._inviteId,appInteractionId:this._appInteractionId,state:t,tabVisibleOnTrigger:this._tabVisibleOnTrigger}},t===u.a.STATE.MAXIMIZED)}},{key:"stimulus",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="".concat(e,"_").concat(t);switch(a){case u.a.STIMULI.AGENT_AVAILABLE:if(!this._engaged){var r=!this._caTrueOnce&&!this._stateChangedByAction;this._stateChangedByAction=!1,this._setState(this._desiredState,r),this._trackingId=n.trackingId||"",this._caTrueOnce||(this._caTrueOnce=!0)}break;case u.a.STIMULI.AGENT_UNAVAILABLE:if(!this._engaged){var o=this._supportHours.isWithinSupportHours();o?(this._setState(v.BUSY),this._track(u.a.EVENT.CA_CHECK_FAIL,this._getInviteMetadata({}))):this._setState(v.OFFLINE)}break;case u.a.STIMULI.INTERACTION_STARTED:this._engaged=!0,this._setState(v.ENGAGED);break;case u.a.STIMULI.INTERACTION_ENDED:this._engaged=!1,this._requestStateUpdate();break;case u.a.STIMULI.INVITE_OFFERED:this._appInteractionId=i.a.uuid(),this._track(u.a.EVENT.INVITE_OFFERED,this._getInviteMetadata(n.event)),this._trackAction(u.a.TRACK_INTERACTION.INVITE_OFFERED);break;case u.a.STIMULI.INVITE_ACCEPTED:this._track(u.a.EVENT.INVITE_ACCEPTED,this._getInviteMetadata(n.event)),this._apis.startInteraction(this._getInviteMetadata(n.interaction)),this._trackAction(u.a.TRACK_INTERACTION.INVITE_ACCEPTED);break;case u.a.STIMULI.INVITE_DECLINED:this._track(u.a.EVENT.INVITE_DECLINED,this._getInviteMetadata(n.event)),this._trackAction(u.a.TRACK_INTERACTION.INVITE_DECLINED);break;case u.a.STIMULI.INVITE_IGNORED:this._track(u.a.EVENT.INVITE_IGNORED,this._getInviteMetadata(n.event)),this._trackAction(u.a.TRACK_INTERACTION.INVITE_IGNORED);break;case u.a.STIMULI.INVITE_REMOVED:this._apis.removeInvite(this.getInviteId());break;case u.a.STIMULI.INVITE_MINIMIZED:this._desiredState=u.a.STATE.MINIMIZED,this._state=void 0,this._engaged||(this._setState(v.MINIMIZED,!0),this._stateChangedByAction=!0),this._requestStateUpdate(!1)}}},{key:"getState",value:function(){return this._state}},{key:"getInviteId",value:function(){return this._inviteId}},{key:"_checkAvailability",value:function(){this._assistAvailability.check(this._caqueue,this._caskill,this.stimulus.bind(this,u.a.STIMULI_TYPE.AVAILABILITY)),this._apis.trackInteraction({logLevel:h.a.LOG_LEVEL.INFO,message:h.a.LOG_EVENTS.USER_ACTION,logData:{action:u.a.TRACK_INTERACTION.AVAILABILITY_CHECK}})}},{key:"_track",value:function(e,t){this._apis.logEvent({event:e,eventData:t})}},{key:"_getInviteMetadata",value:function(e){var t=Object(l.a)({},{queue:this._caqueue,ruleId:this._ruleId,state:this._state,appInteractionId:this._appInteractionId,triggerAppId:this._inviteId,inviteId:this._inviteId,trackingId:this._trackingId,appId:this._appId,dockId:this._dockId},e);return this._caskill&&!t.skill&&(t.skill=this._caskill),t}},{key:"_handleStateChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;t.inviteId=this._inviteId;try{this._apis.onStateChange(t),I.dispatchEvent(new CustomEvent(u.a.STATE_CHANGE_EVENT,{detail:t}))}catch(e){}}},{key:"_setState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._invite&&this._state!==e){var n;try{n=this._invite.setState(e,t)}catch(t){var i=t.message||t;return void this._apis.trackInteraction({logLevel:h.a.LOG_LEVEL.INFO,message:h.a.LOG_EVENTS.SYSTEM_ERROR,logData:{action:u.a.TRACK_INTERACTION.INVITE_SET_STATE_ERROR,inviteId:this._inviteId,state:e,errorMsg:i,errorStack:t.stack}},!0)}this._state!==n&&this._handleStateChange({inviteState:n}),this._state=n}}},{key:"destructor",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!e&&p.indexOf(this._state)>=0)return!1;this._stopAvailabilityPoller();try{this._invite.destructor()}catch(e){}return this._invite=void 0,!0}}])&&E(t.prototype,n),a&&E(t,a),e}(),g=n(152),A=n(14),S=n(52);function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O,w,C=!1,R=[],N={proactive:u.a.STATE.MAXIMIZED,button:u.a.STATE.MINIMIZED};function k(e){var t=e;return t.state=t.state||t.type,delete t.type,N[t.state]&&(t.state=N[t.state]),t.inviteId=t.inviteId||t.triggerAppId,delete t.triggerAppId,t}function M(e){for(var t=R,n=0;n<t.length;n+=1){var i=t[n];if(i&&i.getInviteId()===e)return{invite:i,index:n}}return{invite:void 0,index:-1}}function L(e,t){a.a.notEmpty(e,"inviteId");var n=M(e),i=n.invite,r=n.index;return a.a.assert(r>-1,"Invite doesn't exist"),!!i.destructor(t)&&(R[r]=void 0,!0)}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(e,t){C||(O=t,this._supportHours=e.supportHours,r.a.addStylesheet(u.a.LOADER_CSS_ID,u.a.LOADER_CSS),C=!0)}},{key:"triggerInvite",value:function(e,t){if(C&&t){k(t);var n=t.inviteId,i=t.state,a=M(n).invite;if(a){if(a.getState()===u.a.STATE.MAXIMIZED)return void O.trackInteraction({logLevel:h.a.LOG_LEVEL.INFO,message:h.a.LOG_EVENTS.SYSTEM_ERROR,logData:{action:u.a.TRACK_INTERACTION.INVITE_ALREADY_MAXIMIZED,inviteId:n}},!0);this.removeInvite(t)}var r,o=function(e,t){var n=t.inviteId,i={},a={};i.engaged=w;for(var r=0;r<e.length;r+=1)if(e[r]&&e[r].inviteId===n){a=e[r];break}return Object(l.a)(i,a,t),i}(e.invites||[],t),s=S.a.documentHasFocus();o.queue||(o.queue=t.fallbackQueue||e.workflowConfig.assistQueue),o.appId=e.appId,o.device=O.device,o.appleBusinessChat=O.appleBusinessChat,o.workflowConfig=e.workflowConfig,o.tabVisibleOnTrigger=s;try{var c=g.a.getTemplate(o.template),f=e.supportHours||this._supportHours;if(O.disableBackgroundInvite&&i===u.a.STATE.MAXIMIZED&&!s)return void O.trackInteraction({logLevel:h.a.LOG_LEVEL.INFO,message:h.a.LOG_EVENTS.SYSTEM_ERROR,logData:{action:u.a.TRACK_INTERACTION.INVITE_PAGE_BACKGROUND}},!0);var d=new y({config:o,template:c,supportHours:f,apis:(r=A.a.noop,{startInteraction:O.startInteraction,removeInvite:L,logEvent:O.logEvent,fifMessageSender:O.fifMessageSender||r,onStateChange:O.onStateChange||r,trackInteraction:O.trackInteraction||r})});R.push(d)}catch(e){var E=e.message||e;O.trackInteraction({logLevel:h.a.LOG_LEVEL.INFO,message:h.a.LOG_EVENTS.SYSTEM_ERROR,logData:{action:u.a.TRACK_INTERACTION.INVITE_INITIALIZATION_ERROR,inviteId:n,state:i,errorMsg:E,errorStack:e.stack}},!0)}}}},{key:"setInteractionActive",value:function(e){var t;a.a.isBoolean(e,"setInteractionActive:active"),w=e,t=function(t){return t.stimulus(u.a.STIMULI_TYPE.INTERACTION,e)},R.forEach(function(e){return e&&t(e)})}},{key:"removeInvite",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k(e);var t=e.inviteId,n=e.force;try{return L(t,n)}catch(e){return!1}}}])&&b(t.prototype,n),i&&b(t,i),e}();t.a=new D},14:function(e,t,n){"use strict";var i=n(33);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"lpad",value:function(e,t,n){var i=n||"0",a="".concat(e);return a.length>=t?a:new Array(t-a.length+1).join(i)+a}},{key:"trigger",value:function(e,t){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}else e.fireEvent("on".concat(t))}},{key:"openWindow",value:function(e,t,n){var a=i.a.normalizeUrl(e);window.open(a,t,n)}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isBlank",value:function(e){return!this.isString(e)||0===e.length}},{key:"arrayDeepEquals",value:function(e,t){if(!e||!t)return!1;if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}},{key:"setValueWithPath",value:function(e,t,n,i){var a=n.split(t);a.reduce(function(e,t,n){var r=e;return n<a.length-1?r[t]=r[t]||{}:r[t]=i,r[t]},e)}},{key:"noop",value:function(){}},{key:"getObjectReference",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return t;for(var n=t,i=e.split("."),a=0;a<i.length;a+=1)if(!(n=n[i[a]]))return;return n}},{key:"getFunctionReference",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{var i=e.split("."),a=i.pop(),r=this.getObjectReference(i.join("."),t),o=r[a];if("function"!=typeof o)return;return n?o.bind(r):o}catch(e){}}}])&&a(t.prototype,n),r&&a(t,r),e}();t.a=new r},141:function(e,t){t.KEY_CANCEL=3,t.KEY_HELP=6,t.KEY_BACK_SPACE=8,t.KEY_TAB=9,t.KEY_CLEAR=12,t.KEY_RETURN=13,t.KEY_ENTER=14,t.KEY_SHIFT=16,t.KEY_CONTROL=17,t.KEY_ALT=18,t.KEY_PAUSE=19,t.KEY_CAPS_LOCK=20,t.KEY_ESCAPE=27,t.KEY_SPACE=32,t.KEY_PAGE_UP=33,t.KEY_PAGE_DOWN=34,t.KEY_END=35,t.KEY_HOME=36,t.KEY_LEFT=37,t.KEY_UP=38,t.KEY_RIGHT=39,t.KEY_DOWN=40,t.KEY_PRINTSCREEN=44,t.KEY_INSERT=45,t.KEY_DELETE=46,t.KEY_0=48,t.KEY_1=49,t.KEY_2=50,t.KEY_3=51,t.KEY_4=52,t.KEY_5=53,t.KEY_6=54,t.KEY_7=55,t.KEY_8=56,t.KEY_9=57,t.KEY_SEMICOLON=59,t.KEY_EQUALS=61,t.KEY_A=65,t.KEY_B=66,t.KEY_C=67,t.KEY_D=68,t.KEY_E=69,t.KEY_F=70,t.KEY_G=71,t.KEY_H=72,t.KEY_I=73,t.KEY_J=74,t.KEY_K=75,t.KEY_L=76,t.KEY_M=77,t.KEY_N=78,t.KEY_O=79,t.KEY_P=80,t.KEY_Q=81,t.KEY_R=82,t.KEY_S=83,t.KEY_T=84,t.KEY_U=85,t.KEY_V=86,t.KEY_W=87,t.KEY_X=88,t.KEY_Y=89,t.KEY_Z=90,t.KEY_LEFT_CMD=91,t.KEY_RIGHT_CMD=93,t.KEY_CONTEXT_MENU=93,t.KEY_NUMPAD0=96,t.KEY_NUMPAD1=97,t.KEY_NUMPAD2=98,t.KEY_NUMPAD3=99,t.KEY_NUMPAD4=100,t.KEY_NUMPAD5=101,t.KEY_NUMPAD6=102,t.KEY_NUMPAD7=103,t.KEY_NUMPAD8=104,t.KEY_NUMPAD9=105,t.KEY_MULTIPLY=106,t.KEY_ADD=107,t.KEY_SEPARATOR=108,t.KEY_SUBTRACT=109,t.KEY_DECIMAL=110,t.KEY_DIVIDE=111,t.KEY_F1=112,t.KEY_F2=113,t.KEY_F3=114,t.KEY_F4=115,t.KEY_F5=116,t.KEY_F6=117,t.KEY_F7=118,t.KEY_F8=119,t.KEY_F9=120,t.KEY_F10=121,t.KEY_F11=122,t.KEY_F12=123,t.KEY_F13=124,t.KEY_F14=125,t.KEY_F15=126,t.KEY_F16=127,t.KEY_F17=128,t.KEY_F18=129,t.KEY_F19=130,t.KEY_F20=131,t.KEY_F21=132,t.KEY_F22=133,t.KEY_F23=134,t.KEY_F24=135,t.KEY_NUM_LOCK=144,t.KEY_SCROLL_LOCK=145,t.KEY_COMMA=188,t.KEY_PERIOD=190,t.KEY_SLASH=191,t.KEY_BACK_QUOTE=192,t.KEY_OPEN_BRACKET=219,t.KEY_BACK_SLASH=220,t.KEY_CLOSE_BRACKET=221,t.KEY_QUOTE=222,t.KEY_META=224},15:function(e,t,n){"use strict";(function(e,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){var t="function"==typeof Map?new Map:void 0;return(r=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return o(e,arguments,c(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s(i,e)})(e)}function o(e,t,n){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&s(a,n.prototype),a}).apply(null,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(){},f=window;var d=function(e){if(!f&&"object"===u(n)&&n.exports)return{ieVersion:-1,safariVersion:-1,chromeVersion:-1,isMobileSafari:!1,isAndroidTablet:!1,isAndroid:!1,isIpad:!1,isTablet:!1,iosVersion:-1,isPhone:!1,getDevice:"unknown"};var t,i,a=/.*Trident.*rv:(\d+)/,r=/Edge\/(\d+)\./,o=function(){var t,n,i=function(){var e,t=3,n=document.createElement("div");do{t+=1,n.innerHTML="\x3c!--[if gt IE ".concat(t,"]><i></i><![endif]--\x3e"),e=n.getElementsByTagName("i")}while(e[0]);return t>4?t:void 0}();return i||(f.ActiveXObject?10:((n=a.exec(e))&&(t=parseInt(n[1],10)),(n=r.exec(e))&&(t=parseInt(n[1],10)),t))}();/Safari\/([0-9.]+)/.test(e)&&/Version\/([0-9.]+)/.test(e)&&(t=RegExp.$1),/Chrome\/([0-9.]+)/.test(e)&&(i=RegExp.$1,t=void 0),o&&(document.documentElement.className+=" ie".concat(o));var s=-1!==e.indexOf("AppleWebKit")&&e.match(/(iPod|iPhone|iPad)/),c=-1!==e.indexOf("Android"),l=c&&-1===e.indexOf("Mobile"),d=s&&"iPad"===s[0],h=l||d,E=(c||s)&&!h,v=e.match(/(Macintosh)/),_=e.match(/OS (\d+)_(\d+)_?(\d+)?/),p=s&&_&&_.length>1?parseInt(_[1],10):0,I=function(e){return!!e};return{ieVersion:o,safariVersion:t,chromeVersion:i,isMobileSafari:I(s),isAndroidTablet:l,isAndroid:c,isIpad:I(d),isTablet:I(h),iosVersion:p,isPhone:I(E),isMac:I(v),getDevice:function(){var e="desktop";return E&&(e="phone"),h&&(e="tablet"),e}}},h=function(e){function t(e){var n;return i(this,t),(n=a(this,c(t).call(this))).message=e,n.name="InvalidCharacterError",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r(Error)),t}();t.a=new function t(){return i(this,t),f&&function(){if(!f.location.origin){var t=f.location.port,n="";t&&"80"!==t&&"443"!==t&&(n=":".concat(t)),f.location.origin="".concat(f.location.protocol,"//").concat(f.location.hostname).concat(n)}f.console||(f.console={log:l,debug:l,warn:l,error:l}),f.onbeforeunload||(f.onbeforeunload=l),document.head||(document.head=document.getElementsByTagName("head")[0]),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var i=e.Element?"Element":"HTMLElement";if(!("dataset"in document.createElement("span"))&&i in e&&e[i].prototype&&Object.defineProperty&&Object.defineProperty(e[i].prototype,"dataset",{get:function(){for(var e=Object.create(null),t=0;t<this.attributes.length;++t){var n=this.attributes[t];n.specified&&"data-"===n.name.substring(0,5)&&function(t,n){var i=n.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()});e[i]=t.getAttribute("data-".concat(n)),Object.defineProperty(e,i,{get:function(){return t.getAttribute("data-".concat(n))},set:function(e){t.setAttribute("data-".concat(n),e)}})}(this,n.name.substring(5))}return e}}),f.NodeList&&!f.NodeList.prototype.forEach&&(f.NodeList.prototype.forEach=f.Array.prototype.forEach),"function"!=typeof f.CustomEvent){var a=function(e,t){var n=t||{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i};a.prototype=f.Event.prototype,f.CustomEvent=a}if(!f.atob&&!f.btoa){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.btoa=function(e){for(var t,n,i=String(e),a=0,o=r,s="";i.charAt(0|a)||(o="=",a%1);s+=o.charAt(63&t>>8-a%1*8)){if((n=i.charCodeAt(a+=.75))>255)throw new h("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|n}return s},f.atob=function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new h("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,a=0,o=0,s="";i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?s+=String.fromCharCode(255&n>>(-2*a&6)):0)i=r.indexOf(i);return s}}}(),d(f.navigator.userAgent)}}).call(this,n(53),n(79)(e))},152:function(e,t,n){"use strict";var i=n(210),a=n.n(i),r=n(17),o=n(34),s=n(16),c=n(11),u=n(78),l=n(9),f=n(4),d=n(14),h=n(67),E=n(22);function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.touch=!1,this.action=!1,this.diffX=0,this.diffY=0,this.endX=0,this.endY=0,this.scroll=!1,this.sort=!1,this.startX=0,this.startY=0,this.swipe=!1,this._element=t,this._onEndBound=this.onEnd.bind(this),this._onMoveBound=this.onMove.bind(this),this._onKeyUpBound=this.onKeyUp.bind(this),this._onStartBound=this.onStart.bind(this),this._element.addEventListener("touchstart",this._onStartBound),this._element.addEventListener("mousedown",this._onStartBound),this._element.addEventListener("keyup",this._onKeyUpBound),this._element.addEventListener("touchmove",this._onMoveBound),this._element.addEventListener("touchend",this._onEndBound),this._element.addEventListener("touchcancel",this._onEndBound),this._onTap=d.a.noop,this._onSwipe=d.a.noop,this._onSwipeEnd=d.a.noop,this._onSort=d.a.noop,this._onSortEnd=d.a.noop,this._onSortGrab=d.a.noop}return _(e,[{key:"testTouch",value:function(e){if("touchstart"===e.type)this.touch=!0;else if(this.touch)return this.touch=!1,!1;return!0}},{key:"getCoord",value:function(e,t){return/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0]["page".concat(t)]:e["page".concat(t)]}},{key:"onKeyUp",value:function(e){e.preventDefault(),e.stopPropagation(),E.a.shouldHandleActivate(e)&&this._onTap()}},{key:"onStart",value:function(e){var t=this;this.testTouch(e)&&!this.action&&(this.action=!0,this.startX=this.getCoord(e,"X"),this.startY=this.getCoord(e,"Y"),this.diffX=0,this.diffY=0,this.sortTimer=c.a.requestTimeout(function(){t.sort=!0,t._onSortGrab()},200),"mousedown"===e.type&&(document.addEventListener("mousemove",this._onMoveBound),document.addEventListener("mouseup",this._onEndBound)))}},{key:"onMove",value:function(e){this.action&&(this.endX=this.getCoord(e,"X"),this.endY=this.getCoord(e,"Y"),this.diffX=this.endX-this.startX,this.diffY=this.endY-this.startY,this.sort||this.swipe||this.scroll||(Math.abs(this.diffY)>10?this.scroll=!0:Math.abs(this.diffX)>7&&(this.swipe=!0)),this.swipe&&(e.preventDefault(),this._onSwipe({start:{x:this.startX,y:this.startY},end:{x:this.endX,y:this.endY}})),this.sort&&(e.preventDefault(),this._onSort({start:{x:this.startX,y:this.startY},end:{x:this.endX,y:this.endY}})),(Math.abs(this.diffX)>5||Math.abs(this.diffY)>5)&&c.a.clearRequestTimeout(this.sortTimer))}},{key:"onEnd",value:function(e){this.action&&(this.action=!1,this.swipe?this._onSwipeEnd():this.sort?this._onSortEnd():!this.scroll&&Math.abs(this.diffX)<5&&Math.abs(this.diffY)<5&&("touchend"===e.type&&e.preventDefault(),this._onTap()),this.swipe=!1,this.sort=!1,this.scroll=!1,c.a.clearRequestTimeout(this.sortTimer),"mouseup"===e.type&&(document.removeEventListener("mousemove",this._onMoveBound),document.removeEventListener("mouseup",this._onEndBound)))}},{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a.noop;switch(e){case"swipe":this._onSwipe=t;break;case"swipeend":this._onSwipeEnd=t;break;case"sort":this._onSort=t;break;case"sortend":this._onSortEnd=t;break;case"sortgrab":this._onSortGrab=t;break;case"tap":this._onTap=t}}}]),_(e,[{key:"destroy",value:function(){this._element&&(this._element.removeEventListener("touchstart",this._onStartBound),this._element.removeEventListener("mousedown",this._onStartBound),this._element.removeEventListener("keyup",this._onKeyUpBound),this._element.removeEventListener("touchmove",this._onMoveBound),this._element.removeEventListener("touchend",this._onEndBound),this._element.removeEventListener("touchcancel",this._onEndBound))}}]),e}(),I=n(15);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A,S=document,b={},O=/^tooltip(-(.+))?/;function w(){return"undefined"!=typeof AppleBusinessChat&&AppleBusinessChat.isSupported()}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e){if(Array.isArray(e))return e.map(function(e,n){return C(e,t,n)});var i=S.createElement(t.tag),o="".concat(r.a.INVITE_PREFIX).concat(t.inviteId,"_");if(i.id="".concat(o).concat(t.name).concat(n),e.css&&s.a.setStyle(i,e.css,!0),e.text&&(i.innerHTML=e.text),e.tooltip&&O.test(e.action)){var u=e.action.match(O)[2]?e.action.match(O)[2].split("-"):["click","hover","focus"];new R(i,e.tooltip,i.id,u)}if(e.action&&t.signal&&!O.test(e.action))new p(i).on("tap",function(){var n=e.action,i=e.queue,a=e.skill,r={event:{},interaction:{}};i&&(r.event.queue=i,r.interaction.queue=i),a&&(r.event.skill=a,r.interaction.skill=a),t.signal(n,r)});if(e.attributes&&Object.keys(e.attributes).map(function(t){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return i.setAttribute(n,e.attributes[t]),0}),Array.isArray(e.animate)&&e.animate.map(function(e){var t=e.property,n=e.unit,r=e.from,o=e.to,s=e.duration,c=e.easing;return a.a.animateCSS(i,t,n,parseInt(r,10),parseInt(o,10),parseInt(s,10),c),0}),e.audio){var l=parseInt(e.audio.delay,10)||0,f=e.audio.name;h.a.register(f,e.audio),c.a.requestTimeout(function(){return h.a.play(f,!0)},l)}return t.parent&&t.parent.appendChild(i),i}}var R=function(){function e(t,n,i,a){var r=this;m(this,e),this.element=t,this.config=n,this.inviteId=i,this.tooltipElement=void 0,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),a.forEach(function(e){switch(e){case"hover":r._handle("mouseover","mouseout");break;case"click":r._handle("click","focusout");break;case"focus":r._handle("focusin","focusout")}})}return y(e,[{key:"_showTooltip",value:function(){if(!this.tooltipElement){var e=this.config,t=this.inviteId,n=C(e.container,{name:"tooltip_container",tag:"div",inviteId:t});C(e.before,{name:"tooltip_before",tag:"div",parent:n,inviteId:t}),C(e.content,{name:"tooltip_content",tag:"div",parent:n,inviteId:t}),C(e.after,{name:"tooltip_after",tag:"div",parent:n,inviteId:t}),this.tooltipElement=n,this.element.parentNode.appendChild(n)}}},{key:"_hideTooltip",value:function(){this.tooltipElement&&(this.tooltipElement.parentNode.removeChild(this.tooltipElement),this.tooltipElement=void 0)}},{key:"_handle",value:function(e,t){var n=this;this.element.addEventListener(e,function(){return n._showTooltip()}),this.element.addEventListener(t,function(){return n._hideTooltip()})}}]),e}(),N=function(){function e(t,n,i){m(this,e),this._config=P.parseConfig(t),this._signal=n,t.appleBusinessChat&&(b=t.appleBusinessChat),A=i}return y(e,[{key:"_clearTimeout",value:function(){this._timeout&&c.a.clearRequestTimeout(this._timeout)}},{key:"setState",value:function(e,t){f.a.notEmpty(e,"GenericInviteTemplate: state"),f.a.isBoolean(t,"GenericInviteTemplate: reset"),this.destructor();var n,i=this._config,a=i.device;if(!(a&&i[a]&&i[a][e]))return e;n=i[a][e],this._stateConfig=n;var h=n.timeout||{},E=h.duration,v=h.action,_=void 0===v?"ignore-remove":v;E&&(this._timeout=c.a.requestTimeout(this._signal.bind(this,_,{}),E)),u.a.alter("true"===n.restrictViewport),this._invite=function(e,t,n){var i,a,u,f;if(e.frame&&e.frame.css&&A(o.a.IFRAME_POST_MESSAGE.SET_IFRAME_CSS,e.frame.css,!0),e.appleBusinessChat&&w()){var h=b,E=h.enabled,v=h.businessId,_=h.theme,m=h.intentId,T=h.groupId;if(E&&v){var y,S=(g(y={},r.a.APPLE_BUSINESS_CHAT.ATTRIBUTES.CLASS_NAME,r.a.APPLE_BUSINESS_CHAT.REQUIRED_CLASS),g(y,r.a.APPLE_BUSINESS_CHAT.ATTRIBUTES.BUSINESS_ID,v),g(y,r.a.APPLE_BUSINESS_CHAT.ATTRIBUTES.THEME,_),y),O=d.a.getFunctionReference(m);if(O){var R=O(t);R&&"string"==typeof R&&(S[r.a.APPLE_BUSINESS_CHAT.ATTRIBUTES.INTENT_ID]=R)}var N=d.a.getFunctionReference(T);if(N){var k=N(t);k&&"string"==typeof k&&(S[r.a.APPLE_BUSINESS_CHAT.ATTRIBUTES.GROUP_ID]=k)}return C(Object(l.a)({},e.appleBusinessChat,{attributes:S}),{name:"applebusinesschat",tag:"div",inviteId:t})}}if(e.lightbox&&"true"===e.lightbox.show){var M=r.a.LIGHTBOX_CSS;e.lightbox.css&&(M=Object(l.a)({},M,{css:e.lightbox.css})),u=C({},{name:"wrapper",tag:"div",inviteId:t}),C(M,{name:"lightbox",tag:"div",parent:u,inviteId:t}),a=C(e.container,{name:"container",tag:"div",parent:u,inviteId:t}),f=u}else a=C(e.container,{name:"container",tag:"div",inviteId:t}),f=a;C(e.viewBackground?Object(l.a)({},e.viewBackground,{attributes:g({},r.a.VIEW_ENABLED_ATTRIBUTE,!0)}):void 0,{name:"view",tag:"div",parent:a,inviteId:t}),C(e.decorative,{name:"decorative",tag:"div",parent:a,inviteId:t});var L=C(e.content,{name:"content",tag:"div",parent:a,inviteId:t});if(C(e.badge?Object(l.a)({},e.badge,{css:{display:"none"},attributes:(i={},g(i,r.a.BADGE_ENABLED_ATTRIBUTE,!0),g(i,r.a.BADGE_HINT_ATTRIBUTE,e.badge.hintText),i)}):void 0,{name:"badge",tag:"div",parent:L,inviteId:t,signal:n}),C(e.context,{name:"context",tag:"div",parent:L,inviteId:t}),C(e.action,{name:"action",tag:"button",parent:L,inviteId:t,signal:n}),e.touchMove){var D,Y=new p(f),P=function(){s.a.setStyle(f,e.container.css,!0)};Y.on("sort",function(e){var t=e.start,n=e.end,i=t.x-D.left,a=t.y-D.top,r=Math.max(Math.min(n.y-a,window.innerHeight-D.height),0),o=Math.max(Math.min(n.x-i,window.innerWidth-D.width),0);s.a.setStyle(f,{top:"".concat(r,"px"),left:"".concat(o,"px"),right:"auto",bottom:"auto",transform:"initial",position:"fixed",webkitTapHighlightColor:"rgba(0,0,0,0)"})}),Y.on("sortgrab",function(){D=f.getBoundingClientRect(),s.a.setStyle(f,{opacity:"0.8"}),s.a.addClass(f,"tfs-animate"),c.a.requestTimeout(function(){s.a.removeClass(f,"tfs-animate")},500)}),Y.on("sortend",function(){D=void 0,s.a.setStyle(f,{opacity:"1"})}),window.addEventListener("orientationchange",P),I.a.isPhone||I.a.isTablet||window.addEventListener("resize",P)}return f}(n,i.inviteId,this._signal),"true"===i.cssReset&&s.a.addClass(this._invite,"tfs-reset-css"),this._lastWidgetUpdate&&this.widgetUpdate(this._lastWidgetUpdate);var m=S.querySelector(n.selector||"body");return this._invite&&m&&(m.insertBefore(this._invite,m.firstChild),w()&&AppleBusinessChat.setUpButtons()),t&&this._signal(r.a.ACTION.OFFER,{event:{state:e}}),e}},{key:"widgetUpdate",value:function(e){var t=e.unreadMessageCount,n=e.widgetView;if(this._invite){var i=this._invite.querySelector("[".concat(r.a.BADGE_ENABLED_ATTRIBUTE,"=true]"));if(i&&t){var a=i.getAttribute(r.a.BADGE_HINT_ATTRIBUTE);i.setAttribute("aria-label","".concat(t," ").concat(a)),i.textContent=t,i.style.display="block"}var o=this._invite.querySelector("[".concat(r.a.VIEW_ENABLED_ATTRIBUTE,"=true]"));if(o&&this._stateConfig&&this._stateConfig.viewBackground){this._viewBackground||(this._viewBackground=o.style.background);var s=this._stateConfig.viewBackground[n]||this._viewBackground;o.style.background=s}}else this._lastWidgetUpdate={unreadMessageCount:t,widgetView:n}}},{key:"destructor",value:function(){try{var e=this._invite;return e&&e.parentNode.removeChild(e),this._clearTimeout(),this._invite=void 0,u.a.alter(!1),!0}catch(e){return!1}}}]),e}();function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var M=document;var L=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=this._processConfig(t),this._signal=n;var i=this._config.device;f.a.notEmpty(i,"device");var a=this._config[i].selector;f.a.notEmpty(a,"Selector '".concat(a,"'")),this._element=M.querySelector(a),f.a.isObject(this._element,a),this._actionListener=function(e,t){var n=t.currentTarget.getAttribute(r.a.ACTION_ATTRIBUTE);n&&e(n,{})}.bind(this,n),this._element.addEventListener("click",this._actionListener)}var t,n,i;return t=e,(n=[{key:"_processConfig",value:function(e){var t={};Object.keys(e).map(function(n){return d.a.setValueWithPath(t,".",n,e[n])});var n=t[t.device];return t.classes=[],Object.keys(n).map(function(e){var i=n[e];return i&&i.class&&t.classes.push(i.class),e.class}),t}},{key:"_searchAndReplace",value:function(e){for(var t=this._config.classes,n=this._element,i=0;i<t.length;i+=1)t[i]&&s.a.hasClass(n,t[i])&&s.a.removeClass(n,t[i]);e&&s.a.addClass(n,e)}},{key:"setState",value:function(e,t){f.a.notEmpty(e,"ClientManagedInviteTemplate: state"),f.a.isBoolean(t,"ClientManagedInviteTemplate: reset");var n,i=this._config,a=i.device;if(!(a&&i[a]&&i[a][e]))return e;(n=i[a][e]).action?this._element.setAttribute(r.a.ACTION_ATTRIBUTE,n.action):this._element.removeAttribute(r.a.ACTION_ATTRIBUTE),t&&this._signal(r.a.ACTION.OFFER,{event:{state:e}});var o=this._config[a].eventName?this._config[a].eventName:r.a.CUSTOM_EVENT_NAME,s=new CustomEvent(o,{detail:{inviteState:e,inviteId:this._config.inviteId}});return this._element.dispatchEvent(s),this._searchAndReplace(n.class),e}},{key:"destructor",value:function(){this._element.removeEventListener("click",this._actionListener)}}])&&k(t.prototype,n),i&&k(t,i),e}();function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._signal=n}var t,n,i;return t=e,(n=[{key:"setState",value:function(e,t){var n=this;return f.a.notEmpty(e,"DirectInviteTemplate: state"),f.a.isBoolean(t,"DirectInviteTemplate: reset"),t&&(this._signal("offer-accept",{event:{state:e}}),c.a.requestTimeout(function(){n._signal("remove")},1)),e}},{key:"destructor",value:function(){}}])&&D(t.prototype,n),i&&D(t,i),e}();var P=t.a={parseConfig:function(e){var t={};return Object.keys(e).map(function(n){return function e(t,n,i){var a,r,o=t,s=!1,c=n.match(/(.+?)\.(.*)/);c?(a=c[1],r=c[2]):(a=n,s=!0);var u,l,f=a.match(/(.+?)\$(\d+)/);return f?(u=f[1],l=parseInt(f[2],10)):u=a,"number"==typeof l?(o[u]=o[u]||[],s?(o[u][l]=i,o):(o[u][l]=o[u][l]||{},e(o[u][l],r,i),o)):s?(o[n]=i,o):(o[u]=o[u]||{},e(o[u],r,i))}(t,n,e[n])}),t},getTemplate:function(e){return{generic:N,"client-managed":L,direct:Y}[e]||d.a.getFunctionReference(e,void 0,!1)}}},16:function(e,t,n){"use strict";var i=n(5),a=n(15),r=n(4),o=n(11),s=n(9),c=n(7);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,f;return t=e,(n=[{key:"trim",value:function(e){return e.replace(/^\s+|\s+$/g,"")}},{key:"addStylesheet",value:function(e,t){r.a.notEmpty(e,"addStylesheet id"),r.a.notEmpty(t,"addStylesheet cssText");var n=this.createElement("style",{id:e,type:"text/css"});try{n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),document.head.appendChild(n)}catch(e){}return n}},{key:"get",value:function(e){return document.getElementById(e)}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);return Object.keys(t).map(function(e){return i.setAttribute(e,t[e]),0}),"string"==typeof n?i.innerHTML=n:n.map(function(e){return i.appendChild(e)}),i}},{key:"removeElement",value:function(e){var t=e;"string"==typeof t&&(t=this.get(t)),t&&t.parentNode.removeChild(t)}},{key:"addClass",value:function(e,t){var n=this.trim(t),i=e;i&&("string"==typeof i&&(i=this.get(i)),i.classList?i.classList.add(n):i.className+=" ".concat(n))}},{key:"removeClass",value:function(e,t){var n=this.trim(t),i=e;i&&("string"==typeof i&&(i=this.get(i)),i.classList?i.classList.remove(t):i.className=i.className.replace(new RegExp("(^|\\b)(\\s*)".concat(n.split(" ").join("(\\s*)|(\\s*)"),"(\\s*)(\\b|$)"),"g")," "))}},{key:"hasClass",value:function(e,t){var n=this.trim(t),i=e;return"string"==typeof i&&(i=this.get(i)),i.classList?i.classList.contains(n):new RegExp("(^| )".concat(n,"( |$)"),"gi").test(i.className)}},{key:"hasSelector",value:function(e,t){return("string"==typeof e?this.createElement("div",void 0,e):e).querySelectorAll(t).length>0}},{key:"hide",value:function(e){var t=e;"string"==typeof t&&(t=this.get(t)),t.style.display="none"}},{key:"show",value:function(e){var t=e;"string"==typeof t&&(t=this.get(t)),t.style.display="block"}},{key:"getStyle",value:function(e,t){return window.getComputedStyle(e)[t]}},{key:"set",value:function(e,t,n){e&&"string"==typeof t&&"string"==typeof n&&(e.style[t]=n)}},{key:"setStyle",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e)switch(i&&e.setAttribute("style",""),u(t)){case"object":Object.keys(t).map(function(i){return Object.prototype.hasOwnProperty.call(t,i)&&n.set(e,i,t[i]),0});break;case"string":e.setAttribute("style",e.style.cssText+t)}}},{key:"injectScript",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;r.a.notEmpty(e,"injectScript url"),r.a.isNotUndefinedOrNull(i.head,"document.head");var u=!1;if(this.get(a.id))n("success");else{var l,f=this.createElement("script",Object(s.a)({},a,{async:!0,src:e,type:"text/javascript"}));i.head.appendChild(f),f.onreadystatechange=function(){u||t.readyState&&"loaded"!==t.readyState&&"complete"!==t.readyState||(u=!0,l&&o.a.clearRequestTimeout(l),n("success"),f.onreadystatechange=null)},f.onload=function(){u||t.readyState&&"loaded"!==t.readyState&&"complete"!==t.readyState||(u=!0,l&&o.a.clearRequestTimeout(l),n("success"),f.onload=null)},f.onerror=function(){f.onreadystatechange=null,f.onload=null,l&&o.a.clearRequestTimeout(l),n("error")},c&&(l=o.a.requestTimeout(function(){f.onreadystatechange=null,f.onload=null,n("timeout")},c))}}},{key:"reduceTags",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r.a.isArray(t,"reduceTags allowedTags"),r.a.isObject(n,"reduceTags allowedAttributes"),r.a.isArray(i,"reduceTags purgeTags");var a=this.createElement("div",{},e),o=a.childNodes,s=[];if(o.length>0)for(var c=0;c<o.length;c+=1){var u=o[c],l=u.nodeName.toLowerCase();if((u=Array.isArray(n[l])?this.removeAttrs(u,n[l]):this.removeAttrs(u,[])).hasChildNodes()&&-1===i.indexOf(l))if(1===u.childNodes.length&&"#text"===u.childNodes[0].nodeName)t.indexOf(l)>-1?s.push(u.outerHTML):s.push(u.textContent);else{var f=u.innerHTML.indexOf("<"),d="";f>0&&(d=u.innerHTML.substr(0,f),u.innerHTML=u.innerHTML.substr(f));var h=u.innerHTML.lastIndexOf(">"),E="";E=u.innerHTML.substr(h+1),u.innerHTML=u.innerHTML.substr(0,h+1),t.indexOf(l)>-1?(u.innerHTML=d+this.reduceTags(u.innerHTML,t,n,i)+E,s.push(u.outerHTML)):s.push(d+this.reduceTags(u.innerHTML,t,n,i)+E)}else{var v=l;-1===i.indexOf(v)&&(t.indexOf(v)>-1?s.push(u.outerHTML):s.push(u.textContent))}}else s.push(e);return s.join(" ").trim()}},{key:"removeAttrs",value:function(e,t){var n=e;if(n.attributes)for(var i=n.attributes,a=i.length-1;a>=0;a-=1)-1===t.indexOf(i[a].name)&&n.removeAttribute(i[a].name);return n}},{key:"removeCSSProp",value:function(e,t){var n=e.match(/([^\s{]+?(?=:))(:\s)([^;]*);/g),i="";return n&&n.forEach(function(e){var n=e.split(":")[0];t.indexOf(n)>-1&&(i+=e)}),i}},{key:"fixAnchorTarget",value:function(e){var t,n=this.createElement("div",{},e),i=n.getElementsByTagName("a");if(i.length>0){for(var a=0;a<i.length;a+=1){var r=i[a].getAttribute("target");c.a.isEmptyorNull(r)&&i[a].setAttribute("target","_blank")}t=n.innerHTML}else t=e;return t}},{key:"filterAttrOfTag",value:function(e,t,n){var i=this,a=this.createElement("div",{},e),r=a.getElementsByTagName(t),o=[],s=[].slice.call(r);return 0===s.length?{residueContent:a.innerHTML}:(s.map(function(e){var t={};return n.map(function(n){var i=c.a.isEmptyorNull(e.getAttribute(n))?e.getAttribute(n):e.getAttribute(n).trim();return t[n]=c.a.isEmptyorNull(e.dataset)||c.a.isEmptyorNull(e.dataset[n])?i:e.dataset[n].trim(),0}),t.innerHTML=e.innerHTML.trim(),o.push(t),i.removeElement(e),0}),{residueContent:o.length>0&&""===a.textContent.trim()&&0===a.getElementsByTagName("img").length?void 0:a.innerHTML,tagAttributes:o})}},{key:"redrawElement",value:function(e,t,n){var i=this;return e?(this.setStyle(e,t),o.a.requestTimeout(function(){i.setStyle(e,n)},40),0):0}},{key:"getOrientation",value:function(){switch(a.a.isMobileSafari?Math.abs(window.orientation):screen.width>screen.height?90:0){case 90:return i.a.ORIENTATIONS.LANDSCAPE;default:return i.a.ORIENTATIONS.PORTRAIT}}},{key:"getScreenDimensions",value:function(){var e,t;return this.getOrientation()===i.a.ORIENTATIONS.PORTRAIT?(t=screen.height>screen.width?screen.height:screen.width,e=screen.height>screen.width?screen.width:screen.height):(t=screen.height>screen.width?screen.width:screen.height,e=screen.height>screen.width?screen.height:screen.width),{width:e,height:t}}},{key:"getKeyboardHeight",value:function(){var e=this.getOrientation(),t=Object.keys(i.a.ORIENTATIONS).reduce(function(t,n){return e===i.a.ORIENTATIONS[n]?n:t}),n=window.innerHeight;if(a.a.isIpad){var r=i.a.MAX_KEYBOARD_HEIGHT[t].filter(function(e){return n>=e.MIN_SCREEN_HEIGHT&&n<=e.MAX_SCREEN_HEIGHT});if(r.length)return r[0].KEYBOARD_HEIGHT}return 0}},{key:"matches",value:function(e,t){for(var n=(e.document||e.ownerDocument).querySelectorAll(t),i=n.length;i>=0&&n.item(i)!==e;)i-=1;return i>-1}}])&&l(t.prototype,n),f&&l(t,f),e}();t.a=new f},17:function(e,t,n){"use strict";t.a={INVITE_PREFIX:"tfs_invite_",STATE_CHANGE_EVENT:"stateChange",STATE:{MAXIMIZED:"maximized",MINIMIZED:"minimized",BUSY:"busy",OFFLINE:"offline",ENGAGED:"engaged"},STIMULI_TYPE:{AVAILABILITY:"availability",INTERACTION:"interaction",ACTION:"action"},ACTION:{OFFER:"offer",ACCEPT:"accept",DECLINE:"decline",IGNORE:"ignore",MINIMIZE:"minimize",REMOVE:"remove"},STIMULI:{AGENT_AVAILABLE:"availability_true",AGENT_UNAVAILABLE:"availability_false",INTERACTION_STARTED:"interaction_true",INTERACTION_ENDED:"interaction_false",INVITE_OFFERED:"action_offer",INVITE_ACCEPTED:"action_accept",INVITE_DECLINED:"action_decline",INVITE_IGNORED:"action_ignore",INVITE_MINIMIZED:"action_minimize",INVITE_REMOVED:"action_remove"},EVENT:{INVITE_OFFERED:"inviteOffered",INVITE_ACCEPTED:"inviteAccepted",INVITE_DECLINED:"inviteDeclined",INVITE_IGNORED:"inviteIgnored",QUEUE_AFTER_HOURS:"queueAfterHours",CA_CHECK_FAIL:"caCheckFail"},AVAILABILITY_CHECK:{NONE:"none",REPEAT:"repeat",ONCE:"once",TILL_AVAILABLE:"till_available"},TRACK_INTERACTION:{AVAILABILITY_CHECK:"AVAILABILITY_CHECK",INVITE_REQUESTED:"INVITE_REQUESTED",INVITE_OFFERED:"INVITE_OFFERED",INVITE_ACCEPTED:"INVITE_ACCEPTED",INVITE_DECLINED:"INVITE_DECLINED",INVITE_IGNORED:"INVITE_IGNORED",INVITE_ALREADY_MAXIMIZED:"INVITE_ALREADY_MAXIMIZED",INVITE_PAGE_BACKGROUND:"INVITE_PAGE_BACKGROUND",INVITE_INITIALIZATION_ERROR:"INVITE_INITIALIZATION_ERROR",INVITE_SET_STATE_ERROR:"INVITE_SET_STATE_ERROR"},ACTION_ATTRIBUTE:"data-tfs-action",QUEUE_ATTRIBUTE:"data-tfs-queue",SKILL_ATTRIBUTE:"data-tfs-skill",BADGE_ENABLED_ATTRIBUTE:"data-badge",BADGE_HINT_ATTRIBUTE:"data-hint",VIEW_ENABLED_ATTRIBUTE:"data-view",CUSTOM_EVENT_NAME:"tfsInviteStateChange",APPLE_BUSINESS_CHAT:{ATTRIBUTES:{CLASS_NAME:"class",BUSINESS_ID:"data-apple-business-id",INTENT_ID:"data-apple-business-intent-id",GROUP_ID:"data-apple-business-group-id",THEME:"data-apple-button-theme"},DEFAULT_THEME:"dark",REQUIRED_CLASS:"apple-business-chat-button-container"},LIGHTBOX_CSS:{css:{backgroundColor:"#000000",position:"fixed",left:"0",top:"0",width:"100%",height:"100%",opacity:"0.85",zIndex:"2147483647"}},LOADER_CSS_ID:"tfs_loader_css",LOADER_CSS:".tfs-reset-css,.tfs-reset-css * {\n    background:none;\n    border:none;\n    bottom:auto;\n    clear:none;\n    cursor:default;\n    display:block;\n    float:none;\n    font-family:Arial, Helvetica, sans-serif;\n    font-size:medium;\n    font-style:normal;\n    font-weight:normal;\n    height:auto;\n    left:auto;\n    letter-spacing:normal;\n    line-height:normal;\n    margin:0;\n    max-height:none;\n    max-width:none;\n    min-height:0;\n    min-width:0;\n    overflow:visible;\n    outline:none;\n    position:static;\n    padding:0;\n    right:auto;\n    text-align:left;\n    text-decoration:none;\n    text-indent:0;\n    text-transform:none;\n    top:auto;\n    user-select:none;\n    -ms-user-select:none;\n    -webkit-user-select:none;\n    visibility:visible;\n    white-space:normal;\n    width:auto;\n    z-index:auto;\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n  } .tfs-animate {\n    -webkit-animation-duration: 500ms;\n    animation-duration: 500ms;\n    -webkit-animation-name: tfsRubberBand;\n    animation-name: tfsRubberBand;\n  } @-webkit-keyframes tfsRubberBand {\n  from {\n    -webkit-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n\n  30% {\n    -webkit-transform: scale3d(1.25, 0.75, 1);\n    transform: scale3d(1.25, 0.75, 1);\n  }\n\n  40% {\n    -webkit-transform: scale3d(0.75, 1.25, 1);\n    transform: scale3d(0.75, 1.25, 1);\n  }\n\n  50% {\n    -webkit-transform: scale3d(1.15, 0.85, 1);\n    transform: scale3d(1.15, 0.85, 1);\n  }\n\n  65% {\n    -webkit-transform: scale3d(0.95, 1.05, 1);\n    transform: scale3d(0.95, 1.05, 1);\n  }\n\n  75% {\n    -webkit-transform: scale3d(1.05, 0.95, 1);\n    transform: scale3d(1.05, 0.95, 1);\n  }\n\n  to {\n    -webkit-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n}\n\n@keyframes tfsRubberBand {\n  from {\n    -webkit-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n\n  30% {\n    -webkit-transform: scale3d(1.25, 0.75, 1);\n    transform: scale3d(1.25, 0.75, 1);\n  }\n\n  40% {\n    -webkit-transform: scale3d(0.75, 1.25, 1);\n    transform: scale3d(0.75, 1.25, 1);\n  }\n\n  50% {\n    -webkit-transform: scale3d(1.15, 0.85, 1);\n    transform: scale3d(1.15, 0.85, 1);\n  }\n\n  65% {\n    -webkit-transform: scale3d(0.95, 1.05, 1);\n    transform: scale3d(0.95, 1.05, 1);\n  }\n\n  75% {\n    -webkit-transform: scale3d(1.05, 0.95, 1);\n    transform: scale3d(1.05, 0.95, 1);\n  }\n\n  to {\n    -webkit-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n}"}},18:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isObject=function(e){return"object"===i(e)&&null!==e&&!t.isArray(e)},this.isString=function(e){return"string"==typeof e},this.isNumber=function(e){return"number"==typeof e},this.isArray=Array.isArray,this.isBoolean=function(e){return"boolean"==typeof e},this.isFunction=function(e){return"function"==typeof e}}},21:function(e,t,n){"use strict";t.a={LOG_LEVEL:{DEBUG:100,INFO:200,WARN:300,ERROR:400},LOG_LEVEL_STRING:{100:"DEBUG",200:"INFO",300:"WARN",400:"ERROR"},LOG_EVENTS:{SESSION_UPDATE:"user.session.update",USER_ACTION:"user.action",WINDOW_ERROR:"window.error",SYSTEM_DEBUG:"system.debug",SYSTEM_ERROR:"system.error",CONFIG_ERROR:"config.error",PAGE_INIT:"page.init"},MAX_ERROR_MESSAGE_LENGTH:100,TIME_FORMAT:"%F %T.%L %z"}},210:function(e,t,n){var i,a;a=this,void 0===(i=function(e){!function(e){e.animate=function(e,n,i,a,r,o){if("number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"function"==typeof a){"string"==typeof r&&t[r]&&(r=t[r]),"function"!=typeof r&&(r=t.linear),"function"!=typeof o&&(o=function(){});var s=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},c=!1,u=n-e;a(e);var l=window.performance&&window.performance.now?window.performance.now():+new Date;return s(function t(f){if(!c){var d=(f||+new Date)-l;d>=0&&a(r(d,e,u,i)),d>=0&&d>=i?(a(n),o()):s(t)}}),{cancel:function(){c=!0}}}},e.animateCSS=function(t,n,i,a,r,o,s,c){return e.animate(a,r,o,function(e){t.style[n]=e+i},s,c)},e.cancel=function(e){e&&e.cancel()};var t=e.easings={};t.linear=function(e,t,n,i){return n*e/i+t},t.easeInQuad=function(e,t,n,i){return n*(e/=i)*e+t},t.easeOutQuad=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},t.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},t.easeInCubic=function(e,t,n,i){return n*(e/=i)*e*e+t},t.easeOutCubic=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},t.easeInOutCubic=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},t.easeInQuart=function(e,t,n,i){return n*(e/=i)*e*e*e+t},t.easeOutQuart=function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},t.easeInOutQuart=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},t.easeInQuint=function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},t.easeOutQuint=function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},t.easeInOutQuint=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},t.easeInSine=function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},t.easeOutSine=function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},t.easeInOutSine=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},t.easeInExpo=function(e,t,n,i){return 0==e?t:n*Math.pow(2,10*(e/i-1))+t},t.easeOutExpo=function(e,t,n,i){return e==i?t+n:n*(1-Math.pow(2,-10*e/i))+t},t.easeInOutExpo=function(e,t,n,i){return 0==e?t:e==i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},t.easeInCirc=function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},t.easeOutCirc=function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},t.easeInOutCirc=function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},t.easeInElastic=function(e,t,n,i){var a=0,r=n;if(0==e)return t;if(1==(e/=i))return t+n;if(a||(a=.3*i),r<Math.abs(n)){r=n;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(n/r);return-r*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)+t},t.easeOutElastic=function(e,t,n,i){var a=0,r=n;if(0==e)return t;if(1==(e/=i))return t+n;if(a||(a=.3*i),r<Math.abs(n)){r=n;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*e)*Math.sin((e*i-o)*(2*Math.PI)/a)+n+t},t.easeInOutElastic=function(e,t,n,i){var a=0,r=n;if(0==e)return t;if(2==(e/=i/2))return t+n;if(a||(a=i*(.3*1.5)),r<Math.abs(n)){r=n;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(n/r);return e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)*-.5+t:r*Math.pow(2,-10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)*.5+n+t},t.easeInBack=function(e,t,n,i,a){return null==a&&(a=1.70158),n*(e/=i)*e*((a+1)*e-a)+t},t.easeOutBack=function(e,t,n,i,a){return null==a&&(a=1.70158),n*((e=e/i-1)*e*((a+1)*e+a)+1)+t},t.easeInOutBack=function(e,t,n,i,a){return null==a&&(a=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(a*=1.525))*e-a))+t:n/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+t},t.easeInBounce=function(e,n,i,a){return i-t.easeOutBounce(a-e,0,i,a)+n},t.easeOutBounce=function(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},t.easeInOutBounce=function(e,n,i,a){return e<a/2?.5*t.easeInBounce(2*e,0,i,a)+n:.5*t.easeOutBounce(2*e-a,0,i,a)+.5*i+n}}(a.TinyAnimate=e)}.apply(t,[t]))||(e.exports=i)},211:function(e,t,n){"use strict";t.a=function(){var e,t=!1,n=[1];try{e=n.map(function(e){return e+1}),t=n[0]+1===e[0]}catch(e){}return t}()},212:function(e,t,n){"use strict";t.a=function(){var e=!1;try{e="a"===Object.keys({a:1})[0]}catch(e){}return e}()},213:function(e,t,n){"use strict";t.a=function(){var e=!1,t=[1],n=[];try{t.forEach(function(e,t){n[t]=e+1}),e=t[0]+1===n[0]}catch(e){}return e}()},214:function(e,t,n){"use strict";t.a=function(){var e,t=!1;try{t=0===(e=["k0","k1","k2"].reduce(function(e,t,n){return e[t]=n,e},{})).k0&&1===e.k1&&2===e.k2}catch(e){}return t}()},22:function(e,t,n){"use strict";var i=n(24),a=n.n(i),r=n(4);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"shiftKey",value:function(e){return!!e.shiftKey}},{key:"ctrlKey",value:function(e){return!!e.ctrlKey}},{key:"altKey",value:function(e){return!!e.altKey}},{key:"shouldHandleActivate",value:function(e){return this.shouldHandle(e,[a.a.KEY_ENTER,a.a.KEY_RETURN,a.a.KEY_SPACE])}},{key:"shouldHandleCancel",value:function(e){return this.shouldHandle(e,[a.a.KEY_ESCAPE])}},{key:"shouldHandleFirst",value:function(e){return this.shouldHandle(e,[a.a.KEY_HOME])}},{key:"shouldHandleLast",value:function(e){return this.shouldHandle(e,[a.a.KEY_END])}},{key:"shouldHandlePrev",value:function(e){return this.shouldHandle(e,[a.a.KEY_UP,a.a.KEY_LEFT])}},{key:"shouldHandleNext",value:function(e){return this.shouldHandle(e,[a.a.KEY_DOWN,a.a.KEY_RIGHT])}},{key:"shouldHandle",value:function(e,t){return r.a.isObject(e),!(this.shiftKey(e)||this.altKey(e)||this.ctrlKey(e))&&(t.indexOf(e.keyCode)>-1&&(e.preventDefault(),e.stopPropagation(),!0))}},{key:"suppressKeyDown",value:function(e){return r.a.isObject(e),e.keyCode!==a.a.KEY_SPACE||"DIV"!==e.target.nodeName||(e.preventDefault(),!1)}}])&&o(t.prototype,n),i&&o(t,i),e}();t.a=new s},24:function(e,t,n){e.exports=n(141)},33:function(e,t,n){"use strict";var i=n(4);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=/^([a-z0-9.+-]+:)/i,o=/(https?:)\/\/([^\/]+)(\/.*)*$/i,s=/(https?:\/\/[^\/]+)(?:\/.+)*$/i,c=/^\s*$/,u=/\/(?!.*\/).*/,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,(n=[{key:"normalizeUrl",value:function(e){i.a.notEmpty(e,"url");var t=window.location;return r.test(e)?e:/^\/\/.+/.test(e)?t.protocol+e:/^\/.+/.test(e)?t.origin+e:t.origin+t.pathname.replace(/\/[^\/]+$/,"/")+e}},{key:"getOriginFromUrl",value:function(e){var t;if(i.a.assert(e,"url"),e.protocol&&e.hostname){if(!(t=e.origin)){var n=e.port,a="";n&&"80"!==n&&"443"!==n&&(a=":".concat(n)),t="".concat(e.protocol,"//").concat(e.hostname).concat(a)}}else i.a.notEmpty(e,"url"),t=this.normalizeUrl(e).replace(s,"$1");return t}},{key:"formatUrl",value:function(e){i.a.isObject(e,"urlObj"),i.a.notEmpty(e.origin,"urlObj.origin");var t=[e.origin];return e.pathname&&t.push(e.pathname),e.search&&t.push(e.search),e.hash&&t.push(e.hash),t.join("")}},{key:"parseUrl",value:function(e){var t=this;i.a.notEmpty(e,"url");var n=this.normalizeUrl(e),a=o.exec(n);if(!a)return{};var r=a[1],s=a[2],l=s.split(":");if(c.test(l[0]))return{};var f,d="",h="",E="";if(a[3]){var v=a[3].split("?");if(v.length>1)E=v[0],f=v[1].split("#"),d="?".concat(f[0]),f.length>1&&(h="#".concat(f[1]));else{var _=a[3].split("#");E=_[0],_.length>1&&(h="#".concat(_[1]))}}var p=function(e){return e},I=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",r=arguments.length>4?arguments[4]:void 0;i.a.isObject(n,"params"),i.a.assert(void 0===r||"boolean"==typeof r,"invalid encodeParams value");var o=r?encodeURIComponent:p,s=[];return e.length&&s.push(e.substring(1)),Object.keys(n).map(function(e){return s.push("".concat(e,"=").concat(void 0===e?"":o(n[e])))}),t+s.join(a)},m={protocol:r,host:s,hostname:l[0],port:l[1]?l[1]:"",origin:"".concat(r,"//").concat(s),pathname:E,search:d,hash:h,href:n,replaceResource:function(e){if(u.test(m.pathname)){var n=u.exec(m.pathname)[0];m.pathname=m.pathname.replace(n,"/".concat(e))}return m.href=t.formatUrl(m),m},secure:function(){var e=/http:/i;return m.origin=m.origin.replace(e,"https:"),m.protocol=m.protocol.replace(e,"https:"),m.href=m.href.replace(e,"https:"),m},appendToHash:function(e,n,i){return m.hash=I(m.hash,"#",e,n,i),m.href=t.formatUrl(m),m},appendToSearch:function(e,n,i){return m.search=I(m.search,"?",e,n,i),m.href=t.formatUrl(m),m}};return m}},{key:"parseUrlParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"?";i.a.notEmpty(e,"url"),i.a.assert(void 0===t||"?"===t||"#"===t,"invalid separator value");var n,a,r,o,s,c={},u=e.split(t);if(u.length>2&&(u[1]=u.splice(1,u.length-1).join(t)),u.length>1)for(n=u[1].split("&"),r=0;r<n.length;r+=1)o=(a=n[r].split("="))[0],a.splice(0,1),s=a.join("")||null,c[o]=decodeURIComponent(s);return c}}])&&a(t.prototype,n),l&&a(t,l),e}();t.a=new l},34:function(e,t,n){"use strict";t.a={SECURITY:{FRAME_IN_FRAME:"frame-in-frame",THIRD_PARTY_FRAME:"third-party-frame"},IFRAME_POST_MESSAGE:{SET_IFRAME_CSS:"SET_SN_IFRAME_CSS",SET_IFRAME_VIEWPORT:"SET_VIEWPORT",GET_BODY_CSS:"GET_BODY_CSS",SET_BODY_CSS:"SET_BODY_CSS"},IFRAME_INBOUND_MESSAGE:{MESSAGE_SOURCE:"_247_",RESP_GET_BODY_CSS:"RESP_GET_BODY_CSS"},IFRAME_BODY:"IFRAME_BODY"}},4:function(e,t,n){"use strict";var i=n(18);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"assert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"assert failed";e||c(t)}},{key:"isObject",value:function(e,t){var n=t?"".concat(t," is not an object"):"object expected";this.assert(i.a.isObject(e),n)}},{key:"isUndefinedOrNull",value:function(e,t){var n=t?"".concat(t," is not undefined or null"):"undefined or null expected";this.assert(null==e,n)}},{key:"isNotUndefinedOrNull",value:function(e,t){var n=t?"".concat(t," is undefined or null"):"undefined or null not expected";this.assert(null!=e,n)}},{key:"isBoolean",value:function(e,t){var n=t?"".concat(t," is not a boolean"):"boolean expected";this.assert(i.a.isBoolean(e),n)}},{key:"isFunction",value:function(e,t){var n=t?"".concat(t," is not a function"):"function expected";this.assert(i.a.isFunction(e),n)}},{key:"isNumber",value:function(e,t){var n=t?"".concat(t," is not a number"):"number expected";this.assert(i.a.isNumber(e),n)}},{key:"notEmpty",value:function(e,t){var n=t?"".concat(t," is not a string or is empty"):"non-empty string expected";this.assert(i.a.isString(e)&&!s.test(e),n)}},{key:"instanceOf",value:function(e,t,n){var i=n?"expected instance of ".concat(n):"unexpected instance type";this.assert(e instanceof t,i)}},{key:"isScalar",value:function(e,t){var n=a(e),i="".concat(t?"".concat(t," "):"","must be string, number, or boolean");this.assert("string"===n||"number"===n||"boolean"===n,i),"string"===n&&this.notEmpty(e,t)}},{key:"isArray",value:function(e,t){var n=t?"".concat(t," is not an array"):"array expected";this.assert(Array.isArray(e),n)}}])&&r(t.prototype,n),o&&r(t,o),e}(),s=/^\s*$/;function c(e){throw new Error(e)}t.a=new o},5:function(e,t,n){"use strict";t.a={TFS_HIDE_COBROWSE_ID:"tfs_hide_cobrowse",TFS_CONTAINER_ID:"tfs_container",TFS_CONTAINER_ROOT_ID:"tfs_container_root",TFS_CONTAINER_ROOT_PRE_ID:"tfs_container_root_pre",TFS_DRAG_ID:"tfs_drag",TFS_OVERLAY_ID:"tfs_overlay",TFS_IFRAME_ID:"tfs_interaction_iframe",TFS_SCRIPT_ID:"tfs-js-iframe-async",APPLE_SCRIPT_ID:"tfs-js-abc",TFS_RENDERER_SCRIPT_ID:"tfs-js-renderer",VISITOR_SESSION_ID:"visitorSessionId",INTERACTION_ID:"interactionId",CHAT:"chat",QUEUE:"queue",CHAT_STATUS:"chatStatus",TAB_SESSION_KEY:"tab-session-key",BROWSER_SESSION_KEY:"browser-session-key",PREVIOUS_WINDOW_NAME:"previous-window-name",LAST_UPDATED_TIME:"ts",SOURCE:"source",CARDS_RESOURCE_NAME:"cards.js",CARDS_MIN_RESOURCE_NAME:"cards.min.js",WIDGET_LOADER_ID:"widget-loader",XD_SCRIPT_RESOURCE_NAME:"xd.js",XD_SCRIPT_MIN_RESOURCE_NAME:"xd.min.js",REQUIRED_KEYS:["app.context.queue","app.context.accountId","chat.visitorSessionId","chat.domainAliases","chat.startTime","va.turnsId","va.noInput","va.poller","va.vaSurveyCompleted","messaging.userTokenId","messaging.pollInterval","widgetLoaded","initialWorkflow","reload","displayMode","asid","appId"],WORKFLOW:"workflow",PRECHAT_DATA_KEYS:{ACTIVE_SESSION:"asid",RULE_ID:"sc",APP_INTERACTION_ID:"appInteractionId",RULE_CATEGORY:"rc",VISITOR_ID:"vi"},STORE_UPDATE:"STORE_UPDATE",STORE_DELETE:"STORE_DELETE",DISPLAY_MODE:{FULLSCREEN:"fullscreen",FLOATING:"floating",NONE:"none"},FRAME_VIEW:{INPAGE:"inpage",POPUP:"popup"},WIDGET_STATE:{WIDGET_LOADING:"widgetLoading",WIDGET_LOADED:"widgetLoaded",CHAT_REQUESTED:"chatRequested",CHAT_CONNECTING:"chatConnecting",CHAT_RECONCILING:"chatReconciling",CHAT_STARTED:"chatStarted",CHAT_INTERACTIVE:"chatInteractive",CHAT_ENDED:"chatEnded",CHAT_TRANSFERRED:"chatTransferred",VA_STARTED:"vaStarted",VA_ESCALATE:"vaEscalatedToChat",VA_SURVEY_COMPLETED:"vaSurveyCompleted",VA_TERMINATE:"vaTerminated",VA_RECONCILED:"vaReconciled",MINIMIZED:"minimized",MAXIMIZED:"maximized",WIDGET_CLOSED:"widgetClosed"},ORIENTATIONS:{LANDSCAPE:"landscape",PORTRAIT:"portrait"},JOURNEY:"urls",WIDGET_LOADED:"widgetLoaded",INITIAL_WORKFLOW:"initialWorkflow",INITIATOR:"initiator",SHOW_ON_RELOAD:"reload",DISPLAY_MODE_KEY:"displayMode",CONTENT_PATH:"content",UDE_CONFIG_JSON:"config.json",CONFIG_APP_ID:"appId",TAB_STORAGE_KEY:"tfs-tab",APP_SESSION_KEY:"app",CHAT_SESSION_KEY:"chat",VA_SESSION_KEY:"va",CARDS_SESSION_KEY:"cards",MESSAGING_SESSION_KEY:"messaging",XD_COMMANDS:{INITIALIZE:"init",INITIALIZE_ERROR:"init-error",SET:"set",GET:"get",REMOVE:"remove",UPDATE:"update"},ERROR_CODES:{LOCALSTORAGE_UNAVAILABLE:"LOCALSTORAGE_UNAVAILABLE"},TRACK_PLATFORMS:{chat:"CHAT",va:"VIRTUAL_AGENT"},STATE_CHANGE_EVENT:"stateChange",POSITION:{TOP_LEFT:"topleft",TOP_RIGHT:"topright",BOTTOM_LEFT:"bottomleft",BOTTOM_RIGHT:"bottomright"},INITIAL_STATE:"initialState",IS_RECONCILED:"isReconciled",IFRAME_READY:"iframeReady",VA_TURNS_ID_KEY:"va.turnsId",VISITOR_SESSION_ID_KEY:"chat.visitorSessionId",DOMAIN_ALIASES_KEY:"chat.domainAliases",DEFAULT_CONFIG:"default",USER_LOGIN:"login",USER_PROFILE:"userProfile",MAX_KEYBOARD_HEIGHT:{LANDSCAPE:[{MIN_SCREEN_HEIGHT:600,MAX_SCREEN_HEIGHT:850,KEYBOARD_HEIGHT:400},{MIN_SCREEN_HEIGHT:851,MAX_SCREEN_HEIGHT:1100,KEYBOARD_HEIGHT:475}],PORTRAIT:[{MIN_SCREEN_HEIGHT:800,MAX_SCREEN_HEIGHT:1150,KEYBOARD_HEIGHT:315},{MIN_SCREEN_HEIGHT:1151,MAX_SCREEN_HEIGHT:1500,KEYBOARD_HEIGHT:380}]},STYLE_STATE:{MAXIMIZED:"maximized",MINIMIZED:"minimized",CARD:"card",PLUSCARD:"pluscard",HIDDEN:"hidden"},STYLE_TRANSITION:{IMMEDIATE:"immediate",SCROLL:"scroll",RESIZE:"resize"},STORAGE_TYPES:{LOCALSTORAGE:"localstorage",CUSTOM:"custom",XD:"xd"},STORAGE_KEY_NAMES:{USER_SESSION:"tfs-user-session",TAB_SESSION:"tfs-session",TAB_PREFIX:"tfs-tab-"}}},52:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"documentHasFocus",value:function(){return document.hasFocus?document.hasFocus():"hidden"in document?!document.hidden:!document.visibilityState||"visible"===document.visibilityState}}],(n=[{key:"onChange",value:function(e){var t="hidden",n=function(n){var i=n||window.event,a={focus:!0,focusin:!0,pageshow:!0,blur:!1,focusout:!1,pagehide:!1};i.type in a?e(a[i.type]):e(!document[t])};if(void 0===document.hidden){var i=["moz","webkit","ms"];Object.keys(i).forEach(function(e){var a=i[e].concat("Hidden");a in document&&(t=a,document.addEventListener(i[e].concat("visibilitychange"),n))}),"onfocusin"in document?(document.onfocusin=n,document.onfocusout=n):(window.onpageshow=n,window.onpagehide=n,window.onfocus=n,window.onblur=n)}else document.addEventListener("visibilitychange",n)}}])&&i(t.prototype,n),a&&i(t,a),e}();t.a=a},53:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},546:function(e,t,n){"use strict";n.r(t);var i=n(136),a=n(211),r=n(212),o=n(213),s=n(214);window._tfs=window._tfs||{},a.a&&r.a&&o.a&&s.a?_tfs.invites=i.a:_tfs.invites={}},60:function(e,t,n){"use strict";var i=n(7),a=n(4);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function s(e){var t=new Date,n=e,i=60*(t.getTimezoneOffset()-n)*1e3,a=t.getTime()+i;return new Date(a)}function c(e,t,n){for(var i=[],a=0;a<e.length;a+=1){var r=e[a],o=r.start,s=r.end;o=u(o,t,n),s=u(s,t,n),i.push({start:o,end:s})}return i}function u(e,t,n){var i=parseInt(e,10),a=t.getFullYear(),r=t.getMonth(),o=t.getDate()+n,s=parseInt(i/100,10);return new Date(a,r,o,s,i%100)}function l(e,t){var n=Math.abs(e-t),i=new Date(n);return{days:i.getUTCDate()-1,hours:i.getUTCHours(),minutes:i.getUTCMinutes()}}var f=function(){function e(t,n){var r,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.forEach(function(e){e.queue===n&&(r=e),"default"===e.queue&&(u=e)}),a.a.isObject(u,"SupportHours:default queue object"),r||(r=u),this.timeZoneOffset=i.a.get(["timeZoneOffset"],r,0),this.supportRange=function(e){a.a.isNumber(e.timeZoneOffset,"SupportHours::timeZoneOffset");for(var t=[],n=s(e.timeZoneOffset),i=n.getDay(),r=i;r<=i+o.length;r+=1){var u=r-i,l=c(e[o[r%7]]||[{start:"0000",end:"2359"}],n,u);t.push(l)}return t}(r),0}var t,n,u;return t=e,(n=[{key:"isWithinSupportHours",value:function(){var e=this.getNextAvailableTime();return e.days+e.hours+e.minutes===0}},{key:"getNextAvailableTime",value:function(){for(var e=this.supportRange,t=s(this.timeZoneOffset),n=0;n<e.length;n+=1)for(var i=0;i<e[n].length;i+=1){var a=e[n][i];if(t>=a.start&&t<=a.end)return l(t,t);if(t<=a.start)return l(a.start,t)}return 0}}])&&r(t.prototype,n),u&&r(t,u),e}();t.a=f},63:function(e,t,n){"use strict";var i,a=n(34),r=n(7);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,(n=[{key:"init",value:function(e){this.isFullScreen=e,this.isFullScreen&&(this.sendMessage(a.a.IFRAME_POST_MESSAGE.GET_BODY_CSS),window.addEventListener("message",this._onInboundMessageReceived.bind(this)))}},{key:"_onInboundMessageReceived",value:function(e){var t=r.a.get(["data"],e);if(!r.a.isUndefinedorNull(t)){try{t=JSON.parse(t)}catch(e){return}if(t.msgSrc===a.a.IFRAME_INBOUND_MESSAGE.MESSAGE_SOURCE)switch(t.msg){case a.a.IFRAME_INBOUND_MESSAGE.RESP_GET_BODY_CSS:i=t.css||{}}}}},{key:"sendMessage",value:function(e,t,n){switch(e){case a.a.IFRAME_POST_MESSAGE.SET_IFRAME_CSS:parent.postMessage(JSON.stringify({msg:e,css:t,clean:n}),"*");break;case a.a.IFRAME_POST_MESSAGE.SET_IFRAME_VIEWPORT:parent.postMessage(JSON.stringify({msg:e,content:t}),"*");break;case a.a.IFRAME_POST_MESSAGE.GET_BODY_CSS:parent.postMessage(JSON.stringify({msg:e}),"*");break;case a.a.IFRAME_POST_MESSAGE.SET_BODY_CSS:this.isFullScreen&&(t.isMaximized?parent.postMessage(JSON.stringify({msg:e,css:t.css,clean:n}),"*"):parent.postMessage(JSON.stringify({msg:e,css:i,clean:n}),"*"))}}}])&&o(t.prototype,n),s&&o(t,s),e}();t.a=new s},67:function(e,t,n){"use strict";var i=n(52),a=n(16),r=n(11),o=n(4);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioContainer=a.a.createElement("div",{style:"display: none"}),"complete"!==document.readyState?r.a.requestTimeout(function(){u.body.appendChild(t.audioContainer)},100):u.body.appendChild(this.audioContainer)}var t,n,c;return t=e,(n=[{key:"register",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.a.notEmpty(e,"AudioNotification::id"),!l[e]&&(l[e]=a.a.createElement("audio",{preload:"auto",controls:"false",hidden:"true"},[a.a.createElement("source",{src:t.mp3,type:"audio/mpeg"})]),this.audioContainer.appendChild(l[e]),!0)}},{key:"deregister",value:function(e){return o.a.notEmpty(e,"AudioNotification::id"),!!l[e]&&(l[e].parentNode.removeChild(l[e]),delete l[e],!0)}},{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!l[e])return!1;if(t||i.a.documentHasFocus()){try{l[e].play()}catch(e){return!1}return!0}return!1}},{key:"volume",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return!!l[e]&&(l[e].volume=t,!0)}},{key:"mute",value:function(e){return this.volume(e,0)}},{key:"unmute",value:function(e){return this.volume(e)}},{key:"destroy",value:function(){this.audioContainer.parentNode.removeChild(this.audioContainer)}}])&&s(t.prototype,n),c&&s(t,c),e}(),u=document,l={};t.a=new c},7:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.isUndefinedorNull(t)||this.isUndefinedorNull(t[e[0]])?n:1===e.length?t[e[0]]:this.get(e.slice(1),t[e[0]],n)}},{key:"isUndefinedorNull",value:function(e){return null==e}},{key:"isEmptyorNull",value:function(e){return this.isUndefinedorNull(e)||""===e}},{key:"createNestedObject",value:function(e,t,n){var i=e,a=t.pop();return t.map(function(e){return i[e]=i[e]||{},i=i[e],0}),i[a]=n,i=i[a]}},{key:"extractRequiredAttributes",value:function(e,t){for(var n={},i=0;i<t.length;i+=1){var a=t[i];if(a.indexOf(".")>0){var r=a.split("."),o=this.get(r,e,void 0);this.createNestedObject(n,r,o)}else this.isUndefinedorNull(e[a])||(n[a]=e[a])}return n}},{key:"removeEmpty",value:function(e){var t=this,n=e;return Object.keys(n).forEach(function(e){t.isEmptyorNull(n[e])&&delete n[e]}),n}},{key:"removeSpecificKeys",value:function(e,t){var n=e;return t.map(function(e){return delete n[e]}),n}}])&&i(t.prototype,n),a&&i(t,a),e}();t.a=new a},78:function(e,t,n){"use strict";var i=n(34),a=n(63);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._chatVpContent="shrink-to-fit=no,width=device-width,height=device-height,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no",this._oldVpContent="",this._viewport=void 0,this._initialized=!1}var t,n,o;return t=e,(n=[{key:"init",value:function(e){var t=document;if(d&&!this._initialized){var n=t.head||t.getElementsByTagName("head")[0];this._viewport=t.querySelector("meta[name=viewport]"),this._viewport?this._oldVpContent=this._viewport.content:(this._viewport=t.createElement("meta"),this._viewport.name="viewport",this._viewport.content="",n.appendChild(this._viewport)),this._securityRestrictions=e,this._initialized=!0}}},{key:"alter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._initialized&&(this._viewport.content=e?this._chatVpContent:this._oldVpContent,this._securityRestrictions.frameInFrame&&a.a.sendMessage(i.a.IFRAME_POST_MESSAGE.SET_IFRAME_VIEWPORT,this._viewport.content))}}])&&r(t.prototype,n),o&&r(t,o),e}(),s=window.navigator.userAgent,c=-1!==s.indexOf("AppleWebKit")&&s.match(/(iPod|iPhone|iPad)/),u=-1!==s.indexOf("Android"),l=u&&-1===s.indexOf("Mobile"),f=c&&"iPad"===c[0],d=(u||c)&&!(l||f);t.a=new o},79:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},9:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=function e(t){var n=arguments;if(void 0===t||"object"!==i(t))return t;for(var a=t,r=arguments.length<=1?0:arguments.length-1,o=function(t){var r=t+1<1||n.length<=t+1?void 0:n[t+1];void 0!==r&&"object"===i(r)&&Object.keys(r).map(function(t){return Object.prototype.hasOwnProperty.call(r,t)&&(void 0!==r[t]&&r[t].constructor&&r[t].constructor===Object?(void 0===a[t]&&(a[t]={}),"object"!==i(a[t])?a[t]=r[t]:e(a[t],r[t])):r[t]&&r[t].constructor===Array?a[t]=r[t].slice(0):a[t]=r[t]),0})},s=0;s<r;s+=1)o(s);return a}}});
//# sourceMappingURL=invites.min.js.map