!function(e,t){"function"==typeof define&&define.amd?define("tmhDynamicLocale",[],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function t(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",t]),e.decorator("numberFilter",["$delegate",t]),e.decorator("currencyFilter",["$delegate",t])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){function t(e,t,n,a){var o=document.createElement("script"),s=r?r:document.getElementsByTagName("body")[0],i=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,a(function(){i||(i=!0,s.removeChild(o),t())},30,!1))}:(o.onload=function(){i||(i=!0,s.removeChild(o),t())},o.onerror=function(){i||(i=!0,s.removeChild(o),n())}),o.src=e,o.async=!0,s.appendChild(o)}function n(e,n,a,r,i,c,d){function p(e,t){s===a&&(angular.forEach(e,function(n,a){t[a]?angular.isArray(t[a])&&(e[a].length=t[a].length):delete e[a]}),angular.forEach(t,function(n,a){angular.isArray(t[a])||angular.isObject(t[a])?(e[a]||(e[a]=angular.isArray(t[a])?[]:{}),p(e[a],t[a])):e[a]=t[a]}))}if(u[a])return s=a,u[a];var f,g=i.defer();return a===s?g.resolve(n):(f=c.get(a))?(s=a,r.$evalAsync(function(){p(n,f),o.put(l,a),r.$broadcast("$localeChangeSuccess",a,n),g.resolve(n)})):(s=a,u[a]=g.promise,t(e,function(){var e=angular.injector(["ngLocale"]),t=e.get("$locale");p(n,t),c.put(a,t),delete u[a],r.$applyAsync(function(){o.put(l,a),r.$broadcast("$localeChangeSuccess",a,n),g.resolve(n)})},function(){delete u[a],r.$applyAsync(function(){s===a&&(s=n.id),r.$broadcast("$localeChangeError",a),g.reject(a)})},d)),g.promise}var a,r,o,s,i="angular/i18n/angular-locale_{{locale}}.js",c="tmhDynamicLocaleStorageCache",l=e,u={},d={};this.localeLocationPattern=function(e){return e?(i=e,this):i},this.appendScriptTo=function(e){r=e},this.useStorage=function(e){c=e},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(e){a=e},this.storageKey=function(e){return e?(l=e,this):l},this.addLocalePatternValue=function(e,t){d[e]=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,t,r,u,p,f,g){function m(t){var a={locale:t,angularVersion:angular.version.full};return n(h(angular.extend({},d,a)),u,t,e,p,f,g)}var h=r(i);return o=t.get(c),e.$evalAsync(function(){var e;(e=o.get(l)||a)&&m(e)}),{set:m,get:function(){return s}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"}),define("EaseProperties",["angular"],function(e){"use strict";var t,n={BLUE:"#00639D",LIGHT_GRAY:"#EBEBEB",BLACK:"#273B49",RED:"#D03027",ORANGE:"#ED980C",LIGHT_GREEN:"#00D900",DARK_GREEN:"#0EA600"},a={CustomerType:"customer",ProfileType:"profile",CustomerMax:2,ProfileMax:3,BusinessAccount:"Business"},r=[{stateName:"BankDetails",url:"/{ProductName}/{accountReferenceId}",type:"ocLazyload",src:"js!Bank"},{stateName:"SBBankDetails",url:"/{ProductName}/{accountReferenceId}",type:"ocLazyload",src:"js!SBBank"},{stateName:"AutoLoanDetails",url:"/{ProductName}/{accountReferenceId}",type:"ocLazyload",src:"js!AutoLoan"},{stateName:"ChooseAccount",url:"/Card/ChooseAccount",type:"ocLazyload",src:"js!CreditCard"},{stateName:"CreditCardDetails",url:"/{ProductName}/{accountReferenceId}",type:"ocLazyload",src:"js!CreditCard"},{stateName:"BillPay",url:"/BillPay",type:"ocLazyload",src:"js!BillPay"},{stateName:"Debit",url:"/Debit",type:"ocLazyload",src:"js!Debit"},{stateName:"RecoveryDetails",url:"/{ProductName}/{accountReferenceId}",type:"ocLazyload",src:"js!Recovery"},{stateName:"CreditCardDetails.rewards",url:"/Card/{accountReferenceId}/rewards",type:"ocLazyload",src:"js!CreditCard"}],o="en-US",s="es-US",i="en-CA",c="fr-CA",l=(t={},t[o]="English",t[s]="Español",t[i]="English",t[c]="Français",t),u=/^CA$/i,d=/^US$/i,p=/^FR$/i,f=/^ES$/i,g={date:/^\d{4}-\d{2}-\d{2}$/},m={BLUE:"#0a6091",GREEN:"#00FF00",YELLOW:"#FFD600",ORANGE:"#FF9F00",RED:"#FF0C00",LIGHT_BLUE:"#00d9d9",LIGHT_GRAY:"#EBEBEB"},h="customerSettings.settings";e.module("EaseProperties",[]).constant("EaseConstant",{futureStates:r,baseUrl:"/ease-app-web",baseEaseWebEdgeUrl:"/edge",baseCreditWiseApiUrl:"",creditWiseUrl:"https://creditwise.capitalone.com/authenticated?platform=easeweb",creditKeeperUrl:"https://creditkeeper.capitalone.com/#/authenticated?platform=easeweb",dynamicAppUrl:"https://applynow.capitalone.com",rewardsWidgetURL:"CreditCard/rewards/accounts/<%accountRefId%>/balance",kBuildVersion:"1575927111129",kBuildVersionPath:"/ver1575927111129",environmentType:"prod",kRaEmail:a,env:{type:"dev",source:"/ease-ui/dist"},validSBCategories:["sa","dda","cd","ila","loc","mma"],validSBSubCategories:["retail","360"],validL2RetailCategories:["DDA","SA","MMA","CD"],retailCategory:"retail",categoryLoc:"LOC",kEnglishLocale:o,kSpanishLocale:s,kCanadianEnglishLocale:i,kCanadianFrenchLocale:c,kCountry:{CANADA:"CA",USA:"US"},deepLinkStates:{default:{settings:h}},asuTitleContext:"asu",asuWidgetProfileIcon:"/ease-ui/ver1575927111129/dist/images/profile-icon.svg",asuWidgetClipboardIcon:"/ease-ui/ver1575927111129/dist/images/clipboard-icon.svg",asuWidgetCelebrationIcon:"/ease-ui/ver1575927111129/dist/images/celebration-icon.svg",asuWidgetCelebrationIconSmall:"/ease-ui/ver1575927111129/dist/images/celebration-icon-small.svg",nextButtonImg:"/ease-ui/ver1575927111129/dist/features/AccountDetail/images/btn-next.svg",prevButtonImg:"/ease-ui/ver1575927111129/dist/features/AccountDetail/images/btn-prev.svg",errorCactusIcon:"/ease-ui/ver1575927111129/dist/features/AccountSummary/images/Error_Message_Icon.svg",atmFilterImg:"/ease-ui/ver1575927111129/dist/images/icon_filter.svg",datePickerImg:"/ease-ui/ver1575927111129/dist/images/date-picker.png",cautionImg:"/ease-ui/ver1575927111129/dist/images/modal-icon-caution.svg",creditWiseIcon:"/ease-ui/ver1575927111129/dist/features/Widgets/images/cw-icon.png",enoIcon:"/ease-ui/ver1575927111129/dist/images/eno-icon.svg",enoRightArrowIcon:"/ease-ui/ver1575927111129/dist/images/eno-right-arrow-icon.svg",enoIconBasePath:"/ease-ui/ver1575927111129",enoExtensionImageSamll:"/ease-ui/ver1575927111129/dist/features/EnoExtension/images/Eno_Extension_Image_Small.png",enoExtensionImageMedium:"/ease-ui/ver1575927111129/dist/features/EnoExtension/images/Eno_Extension_Image_Medium.png",enoExtensionImageLarge:"/ease-ui/ver1575927111129/dist/features/EnoExtension/images/Eno_Extension_Image_Large.png",creditWiseUnenrolledIcon:"/ease-ui/ver1575927111129/dist/features/Widgets/images/cw-logo-unenrolled.png",creditKeeperUnenrolledIcon:"/ease-ui/ver1575927111129/dist/features/Widgets/images/ck-logo-unenrolled.svg",virtualCardsIcon:"/ease-ui/ver1575927111129/dist/features/Widgets/images/vc-icon.svg",virtualCardsDownload:"/ease-ui/ver1575927111129/dist/features/Widgets/images/Eno_VN_Graphic.svg",virtualCardsEnoCardsIcon:"/ease-ui/ver1575927111129/dist/images/modal-icons/modal-icon-eno.svg",accountSetUpGeneric:"/ease-ui/ver1575927111129/dist/features/Widgets/images/account-set-up-widget-generic.svg",accountSetUpMultipleGeneric:"/ease-ui/ver1575927111129/dist/images/clipboard-icon.svg",accountSetUpIcon:"/ease-ui/ver1575927111129/dist/features/Widgets/images/account-set-up-widget-icon.svg",alertIconRed:"/ease-ui/ver1575927111129/dist/features/Widgets/images/alert_icon_red.svg",arrowDownIcon:"/ease-ui/ver1575927111129/dist/features/Widgets/images/arrow-down.svg",defaultProfilePicture:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/images/profileIcon.png",featureToggleFB:"ease-ui/ver1575927111129/dist/resourceBundles/",kIdleTime:540,kTimeoutTime:60,keepaliveInterval:600,maxEmailCountUPP:10,moduleName:"summary",kUndefined:"undefined",kMigrationPlaceHolder:"Please Update",states:{kWelcome:"welcome",kAccountSummaryError:"accountSummary.error",kAccountSummary:"accountSummary",kEscid:"escid",kLogOut:"logout",kAlerts:"alerts",kSecurity:"security",kAccountDetailTransactions:"accountDetails.transactions",kAccountDetailSettings:"accountDetails.settings",kAccountPreferences:h,kCreditCardDeepLink:"ChooseAccount",kCreditCardDeepLinkUrl:"/Card/ChooseAccount",kAddExternalAccountSuccess:"AddExtAccSuccessState",kVerify:"verify",kVerifyEmail:"verify.email",kCampaign:"ContactInfo",kContactInfoModal:"accountSummary.contactInfo",kKnowYourCustomer:"KnowYourCustomer",kUpdateInfo:"UpdateInfo",kUpdateInfoHomePhone:"UpdateInfo.homePhone",kUpdateInfoMobilePhone:"UpdateInfo.mobilePhone",kUpdateInfoWorkPhone:"UpdateInfo.workPhone",kUpdateInfoEmail:"UpdateInfo.email",kUpdateInfoIncome:"UpdateInfo.income",kProfile:"customerSettings.profile",kConvertExtAccount:"customerSettings.settings.convertExtAccount",kVirtualCard:"customerSettings.virtualCards",kLanguagePrefState:"customerSettings.settings.language",kLanguageAccountsState:"customerSettings.settings.languageAccount",verifyExternalAccount:"customerSettings.settings.vfyExtAccount",kLinkAccount:"LinkAccount",kEnoExtension:"customerSettings.settings.enoextension",kEditVirtualCard:"customerSettings.virtualCards.editVirtualCard",kAddExtAccount:"SummAccPrefAddExtAccount",kAddExtAccountSteps:"accountSummary.stepsAddExtAccount",kAsuAutoPay:"accountSummary.stepsAutoPay",kBankAddExternalTransferAccount:"accountSummary.stepsBankAddExternalTransferAccount",kAddAccountExperience:"accountSummary.stepsAddAccount",kBankVerifyTransferAccount:"accountSummary.stepsVerifyTransferAccount",kCombinedChoosePay:"accountSummary.stepsCombinedChoosePay",kFrontBookEnd:"accountSummary.frontbookend",kBackBookEnd:"accountSummary.backbookend",kAccountSetupLaunch:"accountSummary.accountSetup",kPaperlessModal:"accountSummary.paperlessModal",kSetPin:"accountSummary.setPin",kCardActivation:"accountSummary.cardActivation",kPaperless:"accountSummary.managePaperless",kAddUser:"accountSummary.addUser",kAddUserV2:"accountSummary.stepsAddUser",kBookEndAlerts:"accountSummary.alertModal",kCoafPaperless:"accountSummary.autoLoanPaperlessPreferenceStep",kCreditCardRewardLink:"CreditCardDetails.rewards",kModalOneClick:"accountSummary.modalOneClick",kCndaPaperless:"accountSummary.cndaPaperlessModal",kPhone:"phone",kEmail:"email",kAtmFinderWidget:"accountSummary.atmFinder",kDocumentCenter:"easeDocumentCenter",kDocumentCenterShowDocument:"easeDocumentCenter.showDoc",kProfileHub:"profileHub"},kAvailablePostStitialModals:{paperless:{feature:"paperlessPreferences",modalPartial:"/ease-ui/dist/features/Paperless/html/paperless-stateless-modal.html"}},phoneReasonCodes:{DISCONNECTED:"DISCONNECTED",EXPIRED_VERIFICATION:"EXPIRED_VERIFICATION",INVALID:"INVALID",PENDING_VERIFICATION:"PENDING_VERIFICATION",STOP:"STOP",TCPA_REVOKED:"TCPA_REVOKED"},kCategoryToFeatureMap:{DDA:"ease.bank",MMA:"ease.bank",CD:"ease.bank",LOC:"ease.bank",ILA:"ease.bank",SA:"ease.bank",CC:"ease.card",AL:"ease.coaf",COI:"ease.cofi"},kRetailGroupName:"ease.retail",kToggleOffMessageLevel:"toggleRestricted",kToggleOffMessageType:"Servicing",kGetRecoveryAccountUrl:"edge/customer/recovery/accounts/",kAccountSummaryRetrieveUrl:"customer/accountsummary",kGetStepsUrl:"customer/steps",kGetStepsAllUrl:"customer/steps/all",kGetPlatformDetails:"customer/customerPlatformDetails",kPostStepsStateUrl:"customer/steps/state",kGetMessageUrl:"customer/messages/retrieveMessage",kGetCreditCardDetailsUrl:"customer/carddetails",kFeatureRegistryUrl:"edge/featureregistry",kCoafFeaturesRetrieveUrl:"customer/features?ignoreFilter=true&groupName=EASE.COAF.L2",kLogoutUrl:"customer/logout",kGetResponseMessageUrl:"customer/messages/respondToMessage",kProfilePreferences:"customer/profile/preferences",kProfileSmallBusinessMobileUrl:"/Profile",kProfilePersonalMobileUrl:"/Profile/MobilePhone",kProfileAddEmail:"customer/contact-points/emails",kAcctPreferencesUpdateNickName:"customer/update-nickname",kRetrieveMoneyMovementAccounts:"customer/retrieveMoneyMovementAccounts",kGetEntitlementsSummary:"entitlements-summary",kUmmMakeTransfer:"customer/transfer/submitMoneyTransfer",kUmmUpdateMoneyTransfer:"customer/transfer/updateTransferDetails",kUmmCancelTransfer:"customer/transfer/deleteScheduledTransfer",kUmmTransferGetAccounts:"customer/transfer/getAccounts",kUmmTransferGetDetails:"customer/transfer/getTransferDetails",kAtmFinderUrl:"customer/locations/banking",kCreditWiseCloudFrontUrl:"api/cached-score",kCreditWiseUrl:"ease-app-web/edge/cached-score",kCreditKeeperUrl:"edge/creditKeeper",kGetEnoUrl:"customer/eno",kPostEnoUrl:"customer/eno",kEnoChatUrl:"customer/enoChat",kEnoChatLaunchUrl:"customer/enoChat/launch",kCookieUrl:"customer/cookie",deeplinkTokenUrl:"customer/token",deeplinkTrigger:"servicingLink=true",kbankDetailsUrl:"customer/getBankDetails/",ksbbankDetailsUrl:"customer/getSBBankDetails/",kSaveExternalUrl:"customer/editExtPaymentAccounts",kAddExtBankUrlTransfers:"customer/externalAcct/paymentsAndTransfers",kAddExtBankUrlPayments:"customer/externalAcct/payments",kDeleteExtAccountUrl:"customer/deleteExtPaymentAccounts",kGetAccountLanguageUrl:"customer/accounts/language",keepaliveUrl:"/customer/keepalive",kGetEmailUrl:"customer/contact-points/emails",kRaEmailUrl:"email-addresses",kDeleteEmailUrl:"customer/contact-points/emails/delete",kDeletePhoneUrl:"customer/phone",kDeleteSmallBusinessPhoneUrl:"customer/business/phones/delete",kGetPhoneNumbersUrl:"customer/phones",kGetSmallBusinessPhoneNumbersUrl:"customer/business/phones",kGetKnownPhoneNumbersUrl:"customer/getKnownPhones",kGetIncomeCollectionUrl:"customer/getIncomeCollection/",kPutPhoneNumbersUrl:"customer/phone",kPutSmallBusinessPhoneNumbersUrl:"customer/business/phones/add",kPutManySmallBusinessPhoneNumbersUrl:"customer/business/phones/addMany",kPostSmallBusinessPhoneNumbersUrl:"customer/business/phones/update",kAllPhonesUrl:"customer/saveAllPhones",kPostIncomeUrl:"customer/updateIncome",kAlertsUrl:"customer/alerts",kplatformVerificationUrl:"customer/verify",kGetDocumentsUrl:"tiger/customer/vault/documents",kGetRawDocumentUrl:"tiger/customer/vault/document/raw",defaultServiceCallTimeout:1e3,kTransferAmountUpperBound:"999999.99",kTransferAmountLowerBound:"0.01",kchangePassword:"customer/security/password",kchangeUserName:"customer/security/username",kGetUserNamesUrl:"customer/getHeader",ktransferExt:"customer/externalAccounts/verifyExternalAccounts",kconvertExt:"customer/externalAccounts/convert",kGetExternalAccountDetails:"customer/externalAccounts/getExternalAccount",ktokenLevelCheck:"customer/security/token",kMarketPlaceFeatureThrottle:"customer/v1/customers/~/marketplace/plugins",kGetLinkedApps:"customer/grants",kDeleteLinkedApps:"customer/grants/delete",kCustomerPlatformDetails:"customer/customerPlatformDetails",kGetDeviceHistory:"edge/devicehistory",kAddExtAccountTransfer:{confirmed:"Confirmed",successTypes:{partialSuccess:{templateValue:"partialSuccess",siteCatalyst:"partial success"},doubleSuccess:{templateValue:"doubleSuccess",siteCatalyst:"double success"},paymentSuccess:{templateValue:"paymentSuccess",siteCatalyst:"payment only success"},almostThere:{templateValue:"almostThere",siteCatalyst:"almost there"}}},kVerify:{kSource:"DMS",kMobilePhoneType:"mobile"},listeners:{bookendsSpinner:"toggleBookendsSpinner"},kStepsStatus:{displayed:"Displayed",completed:"Completed",precompleted:"Precompleted",dismissed:"Dismissed",error:"Error"},kStepsEntitlementAct:["Closed","Restricted","Charged Off"],kTransferViewSelection:{kOneTimeTransferView:"one-time",kDatePickerView:"date-picker"},cookies:{kNavigation:"C1_TGT",kProfRefIdCookie:"C1_PRID"},statusCode:{k200:"200",k403:"403",k401:"401"},serviceStatusMessage:{kHardError:"HARD_ERROR",kChallenge:"CHALLENGE",kCollect:"COLLECT"},serviceErrorCode:{kHardLock:"HARD_LOCK",kFraudLok:"FRAUD_LOCK",kMFAProfileLock:"MFA_PROFILE_LOCKED"},mfaStatus:{kPass:"pass",kFail:"fail"},kFailedCredentialsMessage:"We didn't recognize who you are.  Want to give it another shot?",kFailedMFAMessage:"Please check your answer and try again.",kGenericLoginFailureMessage:"We have some issue logging you in. Please try again later.",kInvalidSpecialCharacter:"Contains an invalid special character.",kConsecutiveSpecialCharacter:"Can't contain 2 consecutive special characters.",kInvalidLength:"Must be longer than 3 characters.",defaultBtn:"View Account",defaultBtnAction:"accountdetails",asStatus:{kPass:"pass",kFail:"fail"},kPathSummaryTemplate:"/ease-ui/dist/features/AccountSummary/",kPathUMMPaymentemplate:"/ease-ui/ver1575927111129/dist/features/UMMPayment/",kPathTransactiontemplate:"/ease-ui/ver1575927111129/dist/features/Transfer",kPathCroptemplate:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/html/",loading:"loading",deposits:"DEPOSITS",CreditCard:"CREDIT-CARDS",AutoLoan:"AUTO-LOANS",loans:"LOANS",mortgage:"MORTGAGE",business:"business",urlPrefixerDeposits:"edge/Bank/accountdetail/getaccountbyid/",urlPrefixerCreditCard:"CreditCard/getAccountById/",urlPrefixerTetrisTransaction:"CreditCard/v2/accounts/",urlPrefixerTetrisCCPayment:"CreditCard/accounts/payments/",urlPrefixerAutoLoan:"AutoLoan/getAccountById/",urlPostFixerTransactions:"/transactions",urlPostFixerDetails:"/details",urlQueryNext:"&next=",urlQueryFilter:"?filter=",urlCDQueryParam:"&productId=3500",kBaseSetTransactions:30,kDefaultNumberOfTransactions:25,kPathRecoveryPartial:"/ease-ui/dist/features/AccountSummary/html/partials/charged-off.html",kPathPaperlessModalPartial:"/ease-ui/dist/features/Paperless/html/paperless-setup-modal.html",kPathIncomeEmploymentModalPartial:"/ease-ui/dist/features/UpdateInfo/html/UpdateInfo-income.html",kPathGoToAccountSnagModalPartial:"/ease-ui/dist/features/UpdateInfo/html/UpdateInfo-snag.html",kPathCardPartial:"CreditCard/CreditCard.html",kPathAutoLoanPartial:"AutoLoan/AutoLoan.html",kPathCheckingPartial:"checking/checking.html",kPathSavingPartial:"saving/saving.html",kPathCDPartial:"cd/cd.html",kPathMoneyMarketPartial:"mma/mma.html",urlPrefixerAutoLoanPayment:"AutoLoan/paymentInstruction/",urlPostfixerAutoLoanPayment:"/createOneTimePayment",kPathCreditCardTransactionsPartial:"html/partials/AccountDetail-Credit-Card-Transactions.html",kPathDepositsTransactionPartial:"html/partials/AccountDetail-Deposit-Transactions.html",kPathLoansTransactionsPartial:"html/partials/AccountDetail-Loans-Transactions.html",pathAccountDetailTransactions:"/ease-ui/dist/features/AccountDetail/html/partials/AccountDetail-transactions.html",stepType:{frontBook:"FRONTBK",backBook:"BACKBOK",phoneNumber:"TCPAPHN",primeEmail:"PRMEMAIL",paymentAccount:"PAYMACCT",autoPay:"AUTOPAY",paperless:"PAPRLESS",addBankTransfer:"BKADDTFR",verifyTransferAccount:"BKVERTFR",addUser:"AUTHUSER",mobileCTA:"MOBDNL",alerts:"ALALERT",coafPaperless:"ALPLESS",autoLink:"ALTSCS",cardactivation:"CCACTCRD",cndaPaperless:"CAPPRLSS",combinedStepExperience:"Composite1",chooseHowYouPay:"CHOSEPAY",setPin:"SETPIN"},steps:{iconMap:{success:"SUCCESS",coafContactInfo:"COAFCONTACTINFO"},description:"description",title:"title"},stepIconUrl:{PAYMACCT:"/ease-ui/dist/images/modal-icons/modal-icon-external-payment.svg",PAPRLESS:"/ease-ui/dist/images/modal-icons/modal-icon-paperless.svg",AUTHUSER:"/ease-ui/dist/images/modal-icons/modal-icon-add-authorized-user.svg",SUCCESS:"/ease-ui/dist/images/modal-icons/modal-icon-bookend-success.svg",ALALERT:"/ease-ui/dist/images/modal-icons/modal-icons-notifications.svg",DEFAULT:"/ease-ui/dist/images/modal-icons/modal-icon-migration.svg",COAFCONTACTINFO:"/ease-ui/dist/images/icon-carlink.svg",ALPLESS:"/ease-ui/dist/images/modal-icons/modal-icon-paperless.svg"},productType:{regularSavings:"Regular Savings",threesixtyChecking:"360 Checking",passbookMinorSavings:"Passbook Minor Savings"},sortConstantKeys:{transactionDate:"transactionDate",kTransactionDate:"dteTransactionDate",kMerchantName:"strMerchantName",kMerchantCategory:"strMerchantCategory",kTransactionAmount:"numTransactionAmount",kTransactionBalance:"numTransactionBalance",kDescription:"transactionDescription"},accountType:{money_market:"MONEY_MARKET",checking:"CHECKING",savings:"SAVINGS"},accountUseType:{business:"Business",personal:"Personal",consumerDescription:"CONSUMER",businessDescription:"BUSINESS"},customerRole:{primary:"PRIMARY",authorizedUser:"AUTHORIZED USER"},descendingSort:{posted:!0,pending:!0,scheduled:!0},kActStatusClosed:"Closed",externalAccountStatus:{Unconfirmed:"Unconfirmed",Disabled:"Disabled For Transfers"},lineOfBusiness:{checking:"DDA",checking360:"DDA360",saving:"SA",saving360:"SA360",accounts360:"360",AutoLoan:"AL",cd:"CD",CreditCard:"CC",moneyMarket:"MMA",HomeLoansILA:"ILA",Recovery:"REC"},partialFilePath:{al:["/ease-ui/bower_components/AutoLoan/partials/","AutoLoan.html","AutoLoan-transactions.html"],sa:["/ease-ui/bower_components/saving-retail/partials/","saving.html","saving-transactions.html"],sa360:["/ease-ui/bower_components/saving-360/partials/","saving-360.html","saving-360-transactions.html"],dda:["/ease-ui/bower_components/checking-retail/partials/","checking.html","checking-transactions.html"],dda360:["/ease-ui/bower_components/checking-360/partials/","checking-360.html","checking-360-transactions.html"],mma:["/ease-ui/bower_components/mma/partials/","mma.html","mma-transactions.html"],cd:["/ease-ui/bower_components/cd/partials/","cd.html","cd-transactions.html"],cc:["/ease-ui/bower_components/CreditCard/partials/","CreditCard.html","CreditCard-transactions.html"]},kFilePathLists:{atmFinderWidget:["features/Widgets/atmFinder/AtmFinderWidget-module.js","features/Widgets/Component/easeWidget-component.js","features/Widgets/Component/easeWidget-controller.js","features/Widgets/atmFinder/AtmFinderWidget-component.js","features/Widgets/atmFinder/AtmFinderWidget-service.js","features/Widgets/atmFinder/AtmFinderWidget-controller.js"],creditWiseWidget:["features/Widgets/CreditWise/CreditWiseWidget-module.js","features/Widgets/CreditWise/CreditWiseWidget-service.js","features/Widgets/Component/easeWidget-component.js","features/Widgets/Component/easeWidget-controller.js","features/Widgets/CreditWise/CreditWiseWidget-component.js","features/Widgets/CreditWise/CreditWiseWidget-controller.js","features/Widgets/CreditWise/CreditWiseScore/CreditWiseScore-component.js","features/Widgets/CreditWise/CreditWiseScore/CreditWiseScore-controller.js"],virtualCardsWidget:["features/Widgets/VirtualCards/VirtualCardsWidget-module.js","features/Widgets/Component/easeWidget-component.js","features/Widgets/Component/easeWidget-controller.js","features/Widgets/VirtualCards/VirtualCardsWidget-component.js","features/Widgets/VirtualCards/VirtualCardsWidget-controller.js"],harmonyWidget:["features/Widgets/Harmony/HarmonyWidget-module.js","features/Widgets/Component/easeWidget-component.js","features/Widgets/Component/easeWidget-controller.js","features/Widgets/Harmony/HarmonyWidget-component.js","features/Widgets/Harmony/HarmonyWidget-controller.js"],profilePhoneComponent:["features/CustomerSettings/ProfilePhone/ProfilePhone-module.js","features/CustomerSettings/ProfilePhone/ProfilePhone-component.js","features/CustomerSettings/ProfilePhone/ProfilePhone-controller.js","features/CustomerSettings/ProfilePhone/ProfilePhone-directives.js"]},kCacheRefresh:"cacheRefresh",cacheRefresh:{nickname:["customer/cacheRefresh","CreditCard/cacheRefresh","Bank/cacheRefresh"],accountSummary:["customer/cacheRefresh"],transfers:["customer/cacheRefresh"],core:"customer/cacheRefresh"},customerSettings:{kSettings:"ease.common.settings",kPersonalInfo:"ease.common.profile",kSignOut:"ease.common.signout",kAlerts:"ease.common.alerts",accountPreference:{baseImageLocation:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/images/",deleteICON:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/images/clearfield.png",editICON:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/images/customerSettingsEdit.png",checkICON:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/images/profileCheckmarkIcon.png",addNickName:"Add Nickname",kPermissionNamePayments:"Payments Only",kPermissionNameTransfers:"Transfers Only",kPermissionNamePaymentsTransfers:"Payments and Transfers Allowed",kPaymentsLinked:"Linked",kPaymentsType:"Type: ",kPaymentsDisplay:"Payment: ",nicknameLength:30},settings:{retrieveExternalAccount:"External",retrieveInternalAccount:"Internal",targetedActionCodePrimaryEligible:"PrimaryPaymentAccountEligible",targetedActionDecision:"ALLOW"},capitaloneLogoImg:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/images/capitalone-logo-card.svg"},googleMaps:{kMapUrl:"https://www.google.com/maps/place/",urlEnhTransaction:"https://maps.googleapis.com/maps/api/js?client=gme-capitaloneservices1&v=3"},pubsub:{accountSummary:"account summary",accountSetup:"account setup",multiASU:"multi",accountdetailState:"account details",customersettingState:"customer profile preferences",documentCenter:{list:"document center",show:"view document"},alertsModal:{securityAlerts:"edit security alerts",securityAlertsLob:"customer",accountAlerts:"edit alerts",steps:"steps"},profileState:"profile",addDebitPaymentCard:"add debit card as a payment account",emailModal:{addEmail:"add email",editEmail:"edit email",deleteEmail:"delete email"},mfaL3State:"mfa security question",fraudlockL3State:"fraud lock",collectquL3State:"collect mfa security questions",securityModal:{securityUnlinkApp:"unlink app",securityChangePassword:"change password",securityChangeUsername:"change username",securityStatus:"success"}},kGreetingNameLength:20,kDefaultPdfUrl:"/ease-ui/ver1575927111129/dist/file/NotFound.pdf",kDefaultPdfScale:1.6,easeHeaderOptions:{navAuthenticated:"/ease-ui/dist/features/SummaryHeader/html/partials/authenticatedNav.html",capOneIcon:"/ease-ui/ver1575927111129/dist/features/AccountSummary/images/capital_one_logo.svg",sneakPeekIcon:"/ease-ui/ver1575927111129/dist/features/Login/images/sneak-peek.svg",profileOptionsPartial:"/ease-ui/dist/features/SummaryHeader/html/partials/authenticatedProfile.html",backButtonPartial:"/ease-ui/dist/features/SummaryHeader/html/partials/backButton.html"},easeFooterOptions:{fdic:"/ease-ui/ver1575927111129/dist/features/GlobalFooter/images/fdic.jpg",house:"/ease-ui/ver1575927111129/dist/features/GlobalFooter/images/house.jpg",norton:"/ease-ui/ver1575927111129/dist/features/GlobalFooter/images/norton.jpg",houseActive:"/ease-ui/ver1575927111129/dist/images/house-active.svg",houseInActive:"/ease-ui/ver1575927111129/dist/images/house-inactive.svg",profileInActive:"/ease-ui/ver1575927111129/dist/images/profile-fallback-inactive.svg",profileActive:"/ease-ui/ver1575927111129/dist/images/profile-fallback-active.svg"},enoChat:"enoChat",features:{showAngularSingleProductView:"ease.core.singleproductview.angular",enableContactInfoAngularElementPage:"ease.core.contactinfo.angular",enableVerifyAngularElementPage:"ease.core.verify.angular",enableDocumentCenterAngularPage:"ease.core.documentcenter.angular",enableOneClickInterstitialElement:"ease.core.oneclickinterstitials.angular",enableTwoClickInterstitialElement:"ease.core.twoclickinterstitials.angular",transferFeatureName:"ease.core.transferbutton",transferScheduledCancelFeatureName:"ease.core.transferscheduledcancel",transferScheduledEditFeatureName:"ease.core.transferschedulededit",transferRecurringCancelFeatureName:"ease.core.transferrecurringcancel",transferScheduledFeature:"ease.core.transferscheduled",transferFrequencyFeature:"ease.core.transferfrequency",transferFrequencyDropdown:"ease.core.transferfrequency.dropdown",transferDateFormat:"mm/dd/yyyy",coafSingleAccountTransactionViewFeature:"ease.coaf.singleaccounttrxview",suppressCabelasAndBassProRewardsLink:"ease.core.suppressCabelasAndBassProRewardsLink",globalMessageFeatureName:"ease.core.globalmessaging",addExternalAccountFeature:"ease.core.managePaymentService",nickNameFeature:"ease.core.accountnickname",enableShowNickname:"ease.core.enableShowNickname",usabillaFeature:"ease.core.usabilla",adobeTargetFeature:"ease.core.adobeTarget",chat247:"ease.core.chat247",cardDetails:"ease.core.carddetails",manageExternalAccountFeature:"ease.core.manageexternalaccounts",enableRetailNavigation:"ease.core.enableretailnavigation",manageExternalDelAccountFeature:"ease.core.manageexternaldelaccounts",enableMudFlap:"ease.core.mudflap",isRetailToggleRestricted:"ease.retail.accounttiles",enableEscapeHatch:"ease.core.escapehatch",enableCofiTileNavigation:"ease.core.cofi",enableCofiTileDisplay:"ease.cofi.accounttiles.display",enableCllTileNavigation:"ease.core.cll",enableCllRoutingL2:"ease.core.cll.navigation.l2",cofiCTAButton:"ease.core.cofi.ctabutton",enableATMFinder:"ease.core.atmfinder",enableCreditWise:"ease.core.widgets.creditwise",enableCreditKeeper:"ease.core.widgets.creditkeeper",enableWidgetFramework:"ease.core.widgetframework",enableENO:"ease.core.eno",enableSeparateEnrollPersonal:"ease.core.eno.separatepersonalenrollmenttext",enableSeparateEnrollBusiness:"ease.core.eno.separatebusinessenrollmenttext",enableEnoChat:"ease.core.enochat",enableEnoFeedback:"ease.core.eno.usabilla",enableEnoExtension:"ease.core.enoextensionmodal",enableEnoExtensionAngular:"ease.core.enoextensionmodalangular",showCICLinkFeature:"ease.core.personalinfo.CICLink",enableShowEmail:"ease.core.showEmail",enableShowEmailNGElement:"ease.core.displayEmailNGElement",enableAddEmail:"ease.core.addEmail",enableEditEmail:"ease.core.editEmail",enableChangePassword:"ease.core.changepassword",enableChangeUsername:"ease.core.changeusername",enableHarmonyAsu:"ease.core.harmonyasu",enableShowPhone:"ease.core.showPhone",enableShowPhoneAngular:"ease.core.showPhone.angular",enableEditPhone:"ease.core.editPhone",enableShowSmallBusinessPhone:"ease.core.showSmallBusinessPhone",enableEditSmallBusinessPhone:"ease.core.editSmallBusinessPhone",enableEditSmallBusinessPhoneMigration:"ease.core.editSmallBusinessPhoneMigration",enableEditPassword:"ease.core.editpassword",enableDisplayAlerts:"ease.core.displayalerts",enableDisplayCoafAlerts:"ease.coaf.displayalerts",enableDisplayCardAlerts:"ease.card.displayalerts",enableDisplayRetailAlerts:"ease.retail.displayalerts",enableEditAlerts:"ease.core.editalerts",enableEditCardAlerts:"ease.card.editalerts",enableEditRetailAlerts:"ease.retail.editalerts",enableDisplaySecurityAlerts:"ease.card.displaysecurityalerts",enableDisplayOsrAlerts:"ease.card.displayosralerts",enableDisplayCustomerSecurityAlerts:"ease.core.displaycustomersecurityalerts",enableEditCustomerSecurityAlerts:"ease.core.editcustomersecurityalerts",enableShowAddress:"ease.core.showaddress",enableEditBankAddress:"ease.core.editbankaddress",enableEditBankAutoAddressModal:"ease.core.editBankAutoAddressModal",enableEditCardAddress:"ease.core.editcardaddress",enableEditGreetingName:"ease.core.editgreeting",enableShowGreetingName:"ease.core.enableShowGreetingName",enableShowGreetingNameAngular:"ease.core.enableShowGreetingName.angular",enableMigrateFeature:"ease.core.displaymigrate",enablePhoneOnMigrate:"ease.core.migrate.displayphone",enableEmailOnMigrate:"ease.core.migrate.displayemail",enableNoMobileNumber:"ease.core.migrate.displaynomobilenumber",enableNoMobileNumberConfirmation:"ease.core.migrate.displaynomobilenumber.confirmation",enableAngularIncome:"ease.core.income.angular",enableIncomeCollection:"ease.core.migrate.displayincome",enableIncomeCollectionChkbox:"ease.core.migrate.displayincome.checkbox",enableEditPicture:"ease.core.editpicture",enableShowLanguage:"ease.core.showLanguage",enableEditLanguage:"ease.core.editLanguage",enableEditAccountLanguage:"ease.core.editAccountLanguage",enableShowLanguageCommunication:"ease.core.showLanguageCommunication",combinedmoneymovementAccounts:"ease.core.combinedmoneymovement",retrieveMoneyMovementAccounts:"ease.core.retrievemoneymovement",retrieveEntitlementsSummary:"ease.core.retrieveEntitlementsSummary",
defaultPaymentAccount:"ease.core.defaultpaymentaccounts",editExternalAccountFeature:"ease.core.manageexternaleditaccounts",enableInterstitialModal:"ease.core.interstitialmessage.modalpopup",enableInterstitialMsgLogout:"ease.core.interstitialmessage.logout",enableRecoveryTiles:"ease.core.recoverytiles",enableSteps:"ease.core.steps",enableAccountSetUpWidget:"ease.core.widgets.accountsetup",enableAngularAccountSetUpWidget:"ease.core.widgets.accountsetup.angular",verifyTransferExternalAccount:"ease.core.verifyexternaltransferaccount",enableShowDocumentCenter:"ease.core.showDocumentCenter",addExternalAccountTypeChooser:"ease.core.addextaccounttypechooser",externalAccountChooser:"ease.core.externalaccountchooser",enableFrontBookend:"ease.core.campaign.frontbookend",enableBackBookend:"ease.core.campaign.backbookend",enableCardSteps:"ease.core.campaign.cardSteps",enableBankSteps:"ease.core.campaign.bankSteps",enableBankAddExternalTransferAccount:"ease.core.campaign.showBankAddExternalTransferAccount",enableBankVerifyTransferAccount:"ease.core.campaign.showBankVerifyTransferAccount",enableCombinedStepExperience:"ease.core.campaign.showCombinedStepExperience",enableMultiAccountSetup:"ease.core.steps.multiAccount",enablePhoneOnCampaign:"ease.core.campaign.showPhone",enableEmailOnCampaign:"ease.core.campaign.showEmail",enableCoafAutoLinking:"ease.core.campaign.showCoafAutoLinking",enablePaymentOnCampaign:"ease.core.campaign.showPaymentAccount",enablePaperless:"ease.core.campaign.showPaperless",enableAddUser:"ease.core.campaign.showAddUser",enableAsuAutoPay:"ease.core.campaign.showAutoPay",enableAsuChoosePay:"ease.core.campaign.showChoosePay",enableNoMobNumOnCampaign:"ease.core.campaign.displaynomobilenumber",enableShowLinkedApps:"ease.core.displayLinkedApps",enableShowLinkedAppsNGElement:"ease.core.displayLinkedAppsNGElement",enableShowBusinessPhone:"ease.core.campaign.showBusinessPhone",enableEditLinkedApps:"ease.core.editLinkedApps",enableSignInAngular:"ease.core.displaySignIn.angular",enableMobileCTA:"ease.core.campaign.displaymobilecta",enableHarmonyWidget:"ease.core.widgets.harmony",enableRewardsWidget:"ease.core.widgets.rewards",AdobeTargetGlobal:"ease.core.AdobeTargetGlobal",cardRewards:"ease.core.cardrewards",enableVirtualCardsWidget:"ease.core.widgets.virtualcards",hideUnenrolledVirtualCardsWidget:"ease.core.virtualcards.hideUnenrolled",enableShowSetPin:"ease.core.campaign.showSetPin",enableCardActivation:"ease.core.campaign.showCardActivation",enableCoafSteps:"ease.core.campaign.coafSteps",enableCoafAlerts:"ease.core.campaign.showCoafAlerts",enableCoafPaperless:"ease.core.campaign.showCoafPaperless",enableUpdateInfoPage:"ease.core.updateInfoPage",enableUpdateInfoPageAngular:"ease.core.updateInfoPage.angular",enableSBAccounts:"ease.core.nsb.tile",enablebookendCndaAlerts:"ease.core.campaign.showCndaAlerts",enableCndaPaperless:"ease.core.campaign.showCndaPaperless",enableDeviceHistory:"showDeviceManagement",enableDeviceHistoryFeature:"ease.core.showDeviceManagement",enableNewWidgetFramework:"ease.core.widget.framework.upgrade",groups:{security:"EASE.security",alerts:"EASE.alerts",migrate:"EASE.migrate",moneymovement:"EASE.moneymovement"},virtualCards:"ease.core.virtualcards",editVirtualCard:"ease.core.editVirtualCard",showRevealVirtualCards:"ease.core.virtualcards.showReveal",smallBusinessHideSingleAccountview:"ease.core.smallbusiness.hidesingleaccountview",enableHarmonyForVirtualNumbers:"ease.core.virtualnumbers.enableHarmony",enableConvertExternalPaymentAccount:"ease.core.convertexternalpaymentaccount",enableVerifyExtaAccountLink:"ease.core.verifyextaccountlink",enableFeedback:"ease.core.feedback",enableCardPrefetchMX:"ease.card.prefetchmx",settingsPageAngular:"ease.core.settingsPage.angular",enableAngularFooter:"ease.core.footer.upgrade",enableShowETDateTime:"ease.core.transactionstable.localizetoeasterntime",enableAngularHeader:"ease.core.header.angular",enableAngularAccountSummary:"ease.core.accountsummary.angular",enableAngularAccountSummaryErrorMessage:"ease.core.accountsummary.errormessage.angular",enableAngularEnoEnrollment:"ease.core.enoEnrollment.angular",enableAngularEnoChat:"ease.core.enochat.angular",enableAngularEnoUsabilla:"ease.core.eno.usabilla.angular",enableAngularUsabilla:"ease.core.usabilla.angular",enableAngularVirtualCards:"ease.core.virtualcards.angular",enableDevXCreditWiseUrl:"ease.core.widgets.creditwise.devx",settings:{addExternalAccountElement:"ease.core.addExternalAccount.angular",enableExternalAccountsAngularTile:"ease.core.externalAccounts.angular",enableShowLanguageAngularTile:"ease.core.showLanguageTile.angular"}},coBrandId:{bassPro:"16",cabelas:"17"},busEvtId:{coreCardDetails:"50081",acctSummary:"50000",respondToMessages:"50000",verifyExternalAccount:"50160",addStepsExternalAccount:"50195",transferExternalAccountInSteps:"50274",setPinInSteps:"50402",transferExternalAccount:"50269",moneyMovementAccount:"50042",addStepAuthorizeUser:"50210",atmFinder:"50066",getPhone:"50086",deletePhone:"50087",managePhone:"50088",campaign:{putBusinessPhones:"50267",savePhones:"50184",getPhones:"50185",putEmail:"50187",getEmails:"50189",addEmail:"50077"},accountLinkingContactInfo:{putBusinessPhones:"92725",savePhones:"92725",getPhones:"92809",putEmail:"92479",getEmails:"92809",addEmail:"92479"},email:{get:"50076",add:"50077",edit:"50078",delete:"50079"},harmonyASU:{fetchInterContent:"50290"},migration:{putBusinessPhones:"50222",savePhones:"50131",getPhones:"50124",saveEmail:"50078",getIncome:"50151",customerPlatformDetails:"50108",updateIncome:"50152"},settings:{deleteExternalAccount:"50053",getAccountLanguage:"50165",putAccountLanguage:"50166",putExternalAccount:"50135",getEntitlementsSummary:"50257"},security:{fetchUsername:"50100",getLinkedApps:"50200",deleteLinkedApps:"50201",getDeviceHistory:"50273"},alerts:{getPhones:"50259"},updateInfo:{getPhones:"50247",savePhones:"50248",getEmail:"50247",saveEmail:"50248",updateIncome:"50248",fetchIncome:"50247",fetchUpdateInfo:"50247",respondUpdateInfo:"50248"},personalInfo:{editGreetingName:{submitGreetingName:"50069"},editProfilePicture:{submitProfilePicture:"50023"},editAccountReorder:{submitReorder:"50278"}},harmonyWidget:{harmonyPresentedId:"50265",respondToOfferId:"50266"},creditKeeper:{getCreditScore:50271},documentCenter:{getDocuments:"50250",getRawDocument:"50272"},accountLinking:{getAccounts:"50291",linkAccounts:"50291",dismiss:"50291"},eno:{getEnoAccounts:"50161"}},stepsStatus:{displayed:"Displayed",completed:"Completed"},busEvtExceptionCause:"Business Event ID is passed as null",busEvtExceptionMesage:"Please pass in a valid Business event ID",stateNames:{transferScheduleUnavailable:"transferScheduleUnavailable",addExtAccountChooser:"AddExtAccountChooser",addExtAccount:"AddExtAccount",transferCancelConfirm:"transferCancelConfirm",transferCancel:"transferCancel",transferEdit:"transferEdit"},C_Off:"Charged Off",C_Off_bg_circle:"radial-gradient(circle at 50% 61%, rgba(255,255,255, 0.18), rgba(0,0,0,0.5))",C_Off_bg_color:"#24303D",feedbackForm:{typeField:"What would you like to share with us?",emailField:"Enter an email so we may contact you.",descriptionField:"Share your thoughts with us.",ratingField:"Please rate your overall experience."},isEnableActionButton:!0,defaultErrorMessage:{msgHeader:"core.common.snag.modal.header2",msgBody:"core.common.snag.account.label",modalClass:"",modalType:"errorModal"},defaultErrorOptions:{closeAlert:!0,iconColor:"#D03027",isCloseIcon:!1,alertIcon:!0},deniedErrorMessage:{msgHeader:"core.common.snag.accessdenied",msgBody:""},documentCenter:{firstYear:2016,assetTypes:{tax:"taxForm",statement:"statement"}},requestHeaders:{appName:"Ease",jsonContentTypeV3:"application/json;v=3",jsonContentTypeV2:"application/json;v=2",jsonContentTypeV1:"application/json;v=1",stepsApiKey:"EASE",web:"WEB",featureRegistryCoreApp:"EASE_WEB_CORE",featureRegistryCoafApp:"EASE_WEB_COAF",featureRegistryBankApp:"EASE_WEB_Bank",appVersion:"1.0.0",featureRegistryWeb:"Web"},prefetchLobGet:["CreditCard"],prefetchCreditCard:"CreditCard",prefetchBank:"Bank",prefetchSBBank:"SBBank",prefetchAutoLoan:"AutoLoan",prefetchRecovery:"Recovery",prefetchBusinessEvents:{CreditCard:"50330",SBBank:"50310",Bank:"50310",AutoLoan:"50300"},easeURLs:{accountSummary:"/accountSummary",transfer:"/:referenceId/Transfer",editTransfer:"/:moneyTransferReferenceId/TransferEdit",cancelTransfer:"/:moneyTransferReferenceId/TransferCancel",cancelConfirmTransfer:"/:moneyTransferID/ConfirmTransferCancel",payment:"/{accountReferenceId}/Pay",addExtPayAcct:"/AddAccount?accountType",feedback:"/feedback",accountSetup:"/accountSetup?{accountRefIds}&{stepFlowMode}&{source}",documentCenter:"/documentCenter",documentCenterShowDocument:"/show/:ownerId/:assetId/:displayName"},modalCredentials:{FRONTBK:{controller:"FrontBookendModalController as frontBookendCtrl",file:"front"},BACKBOK:{controller:"BackBookendModalController as backBookendCtrl",file:"back"}},kTransferProductGroup:{C1Direct_360:"capital one direct (360)",C1Direct_360_Ext:"capital one direct (360) external",C1Retail:"capital one retail",C1Reatil_Ext:"capital one retail external",C1Investing:"capital one investing"},kDefaultLengthForDropDownItem:20,creditWise:{belavg:{desc:"belavg",low:300,high:620,lowColor:n.RED,highColor:n.RED},avg:{desc:"avg",low:621,high:700,lowColor:n.RED,highColor:n.ORANGE},good:{desc:"good",low:701,high:760,lowColor:n.ORANGE,highColor:n.LIGHT_GREEN},excellent:{desc:"excellent",low:761,high:850,lowColor:n.LIGHT_GREEN,highColor:n.DARK_GREEN},colors:n},creditKeeper:{poor:{desc:"poor",low:300,high:574,lowColor:m.RED,highColor:m.ORANGE},fair:{desc:"fair",low:575,high:649,lowColor:m.ORANGE,highColor:m.YELLOW},good:{desc:"good",low:650,high:719,lowColor:m.YELLOW,highColor:m.GREEN},verygood:{desc:"verygood",low:720,high:779,lowColor:m.GREEN,highColor:m.LIGHT_BLUE},excellent:{desc:"excellent",low:780,high:900,lowColor:m.LIGHT_BLUE,highColor:m.BLUE},colors:m},kLocale2Language:l,kLanguageOptionsByCountry:{US:[{label:l[o],locale:o},{label:l[s],locale:s}],CA:[{label:l[i],locale:i},{label:l[c],locale:c}]},ISO8601Regex:g,kRegExpCanada:u,kRegExpUSA:d,kRegExpFrench:p,kRegExpSpanish:f,kFrenchSpecialChars:"àâäèéêëîïôœùûüÿçÀÂÄÈÉÊËÎÏÔŒÙÛÜŸÇ",kSpanishSpecialChars:"ñüáéíóúÑÁÉÍÓÚ",kVirtualCards:{apiUrl:"customer/virtualcards",c1LogoImg:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/images/capitalone-logo-card.svg",defaultMerchantBgColor:"#004977",chromeEnoExtensionStore:"https://chrome.google.com/webstore/detail/clmkdohmabikagpnhjmgacbclihgmdje",firefoxEnoExtensionStore:"https://addons.mozilla.org/firefox/downloads/latest/capital-one-eno/addon-latest.xpi?src=external-EWE",http:{nocontent:204,ok:200},mastercardLogoImg:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/images/mastercard-logo-card.svg",primaryCards:"primarycards",VIRTUAL_CARDS_PAGE_LIMIT:9,VIRTUAL_CARDS_PAGE_LIMIT_MOBILE:3,visaLogoImg:"/ease-ui/ver1575927111129/dist/features/CustomerSettings/images/visa-logo-card.svg",virtualNumbersUrl:"https://www.capitalone.com/applications/eno/virtualnumbers/?external_id=EWE_modal",virtualNumberGetNowUrl:"https://www.capitalone.com/applications/eno/virtualnumbers/getitnow"},kChallengeMethods:{OTPSMS:"OTPSMS",OTP:"OTP"},errorIdStrings:{SUSPECTED_FRAUD:"200006",BANK_NOT_ACH_CAPABLE:"200286",INVALID_PRODUCT_TO_ADD_TRANSFER_ACCT:"210347",MONEY_MOVEMENT_DELETE_ONLY_EXTACCT:"210437",MULTIPLE_ESCID:"200900",MOBILE_IS_OPTED_IN_ALREADY_FOR_ANOTHER_ACCOUNT:"202638",CONFLICTING_TCPA_CONSENT_ON_TWO_OR_MORE_PHONES:"202630",MOBILE_FORMATTING_ERROR:"202623",HOME_AND_WORK_IS_OPTED_IN_ALREADY_FOR_ANOTHER_ACCOUNT:"202644",NO_SERVICEABLE_ACCOUNTS:"201933",NO_ACCOUNTS:"201934"},keyCodes:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,ESCAPE:27,SPACE_BAR:32,UP_ARROW:38,DOWN_ARROW:40},retrieveMessageParams:{pageContext:{accountSummary:"AccountSummary",updateInfo:"UpdateInfo"},messagePlacement:{accountAction:"AccountAction",accountMessage:"AccountMessage",interPage:"InterPage",customerMessage:"CustomerMessage"},messageLayout:{pageOneClick:"PageOneClick",modalOneClick:"ModalOneClick",modalTwoClick:"ModalTwoClick",personalizedPage:"PersonalizedPage",accountSetup:"accountSetup",linkAccounts:"linkAccounts"},type:{banner:"Banner",interContent:"InterContent",interPage:"InterPage"}},kAdobeTargetGlobalMbox:"target-global-mbox",kAdobeTargetPages:{asuSteps:"asuSteps",asuWidgetSingleStep:"asuWidgetSingleStep",asuWidgetMultipleStep:"asuWidgetMultipleStep",qam:"qam",enoChat:"enoChat",migrationPhone:"migrationPhone",profilePageIcon:"profilePageIcon",NavigationBottomBar:"NavigationBottomBar",accountReorder:"accountReorder"},kAdobeActivities:{asuCTAABTest:"asuCTAABTest",asuFrontBookendHeaders:"asuFrontBookendHeaders",masuFrontBookend:"masuFrontBookend",asuCloseButton:"asuCloseButton",asuWidget:"asuWidgetAbTest",enoChatCTAABTest:"enoChatCTAABTest",phoneConfirmTcpaButton:"phoneConfirmTcpaButton",phoneConfirmTcpaContent:"phoneConfirmTcpaContent",profileIconTest:"profileIconTest",profileIconText:"Edit"},kAdobeBaselines:{frontBookendMasu:"core-frontbookend.masu",frontBookendModalOptions:"core-frontbookend.modaloptions",backBookend:"core-backbookend"},kKeymasterMapping:{investing:201979,cofi:201979,360:206294,bank:206294,retail:206294,checking:206294,saving:206294,saving360:206294,autoloan:313660,coaf:313660,creditcard:864020,card:864020,_unique:[201979,206294,313660,864020]},kHarmony:{button:{primary:"primary",secondary:"secondary"},media:{thumbnail:"thumbnail",primary:"primary"}},enoEnrollment:{chatbot:"Chatbot"},kC1HelpCenterUrl:"https://www.capitalone.com/support-center",kC1DocumentHelpCenterUrl:"https://www.capitalone.com/support-center/bank/receive-tax-form",images:{"360-checking":"/EASE/assets/images/BANK/L1/360-checking.png","360-savings":"/EASE/assets/images/BANK/L1/360-savings.png","360CD":"/EASE/assets/images/BANK/L1/360CD.png",ATMFinder_FeatureIcon:"/EASE/assets/images/CORE/ATMFinder/ATMFinder_FeatureIcon.png",ATM_Finder_Icon:"/EASE/assets/images/CORE/ATMFinder/ATM_Finder_Icon.png",Icon_360ATM:"/EASE/assets/images/CORE/ATMFinder/Icon_360ATM.png",Icon_BankATM:"/EASE/assets/images/CORE/ATMFinder/Icon_BankATM.png",Icon_BankATM_CashBack:"/EASE/assets/images/CORE/ATMFinder/Icon_BankATM_CashBack.png",Icon_Branch:"/EASE/assets/images/CORE/ATMFinder/Icon_Branch.png",Icon_CashBack:"/EASE/assets/images/CORE/ATMFinder/Icon_CashBack.png",Icon_ExternalLInk:"/EASE/assets/images/CORE/ATMFinder/Icon_ExternalLInk.png",Icon_Filter:"/EASE/assets/images/CORE/ATMFinder/Icon_Filter.png",Icon_NoResults:"/EASE/assets/images/CORE/ATMFinder/Icon_NoResults.png",Icon_Search:"/EASE/assets/images/CORE/ATMFinder/Icon_Search.png",Icon_SearchClear:"/EASE/assets/images/CORE/ATMFinder/Icon_SearchClear.png",MapMarker_360ATM:"/EASE/assets/images/CORE/ATMFinder/MapMarker_360ATM.png","MapMarker_ATM-360":"/EASE/assets/images/CORE/ATMFinder/MapMarker_ATM-360.png","MapMarker_ATM-360_Large":"/EASE/assets/images/CORE/ATMFinder/MapMarker_ATM-360_Large.png","MapMarker_ATM-Retail":"/EASE/assets/images/CORE/ATMFinder/MapMarker_ATM-Retail.png","MapMarker_ATM-Retail_Large":"/EASE/assets/images/CORE/ATMFinder/MapMarker_ATM-Retail_Large.png",MapMarker_BankATM_CashBack:"/EASE/assets/images/CORE/ATMFinder/MapMarker_BankATM_CashBack.png",MapMarker_Branch:"/EASE/assets/images/CORE/ATMFinder/MapMarker_Branch.png",MapMarker_Branch_Large:"/EASE/assets/images/CORE/ATMFinder/MapMarker_Branch_Large.png",MapMarker_CB:"/EASE/assets/images/CORE/ATMFinder/MapMarker_CB.png",MapMarker_CB_Large:"/EASE/assets/images/CORE/ATMFinder/MapMarker_CB_Large.png",abaNumberDetails:"/EASE/assets/images/CORE/AddAccount/abaNumberDetails.png",alert_icon_yellow:"/EASE/assets/images/CORE/AcctSummary/alert_icon_yellow.png",bg_360_sml:"/EASE/assets/images/BANK/L1/bg_360_sml.jpg",bg_bank_sml:"/EASE/assets/images/BANK/L1/bg_bank_sml.jpg",bg_coaf_sml:"/EASE/assets/images/COAF/L1/bg_coaf_sml.jpg",bg_cofi_sml:"/EASE/assets/images/COFI/L1/bg_cofi_sml.png",bg_homeloan:"/EASE/assets/images/HOME/L1/bg_homeloan.png",fdic:"/EASE/assets/images/CORE/Footer/fdic.jpg",house:"/EASE/assets/images/CORE/Footer/house.jpg",norton:"/EASE/assets/images/CORE/Footer/norton.jpg"}}).provider("EaseConstantFactory",["EaseConstant",function(e){this.accountSummary_url=e.baseUrl+"/customers",this.billPayUrl_start=e.baseUrl+"/api/billPay/start",this.billPayAccounts=e.baseUrl+"/billPay/accounts",this.billPay_confirm=e.baseUrl+"/api/billPay/confirm",this.login_url=e.baseUrl+"/customers",this.loginAuthenticate_url=e.baseUrl+"/customers/answers",this.backEndServerURL=e.baseUrl+"/api/login/authenticate",this.$get=function(){return{storageName:function(){return e.moduleName.concat("_").concat(e.userID).concat("_").concat(e.acctNum)},baseUrl:function(){return e.baseUrl},baseCreditWiseApiUrl:function(){return e.baseCreditWiseApiUrl},creditWiseUrl:function(){return e.creditWiseUrl},requestHeaders:function(){return e.requestHeaders},featureRegistryUrl:function(){return e.kFeatureRegistryUrl}}}}])}),define("optional",[],function(){return{load:function(e,t,n,a){var r=function(e){n(e)},o=function(e){var n=e.requireModules&&e.requireModules[0];console.log("Could not load optional module: "+n),requirejs.undef(n),define(n,[],function(){return{}}),t([n],r)};t([e],r,o)}}}),function(){function e(e){this._value=e}function t(e,t,n,a){var r,o,s=Math.pow(10,t);return o=(n(e*s)/s).toFixed(t),a&&(r=new RegExp("0{1,"+a+"}$"),o=o.replace(r,"")),o}function n(e,t,n){var a;return a=t.indexOf("$")>-1?r(e,t,n):t.indexOf("%")>-1?o(e,t,n):t.indexOf(":")>-1?s(e,t):c(e._value,t,n)}function a(e,t){var n,a,r,o,s,c=t,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],u=!1;if(t.indexOf(":")>-1)e._value=i(t);else if(t===h)e._value=0;else{for("."!==g[m].delimiters.decimal&&(t=t.replace(/\./g,"").replace(g[m].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+g[m].abbreviations.thousand+"(?:\\)|(\\"+g[m].currency.symbol+")?(?:\\))?)?$"),a=new RegExp("[^a-zA-Z]"+g[m].abbreviations.million+"(?:\\)|(\\"+g[m].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+g[m].abbreviations.billion+"(?:\\)|(\\"+g[m].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+g[m].abbreviations.trillion+"(?:\\)|(\\"+g[m].currency.symbol+")?(?:\\))?)?$"),s=0;s<=l.length&&!(u=t.indexOf(l[s])>-1&&Math.pow(1024,s+1));s++);e._value=(u?u:1)*(c.match(n)?Math.pow(10,3):1)*(c.match(a)?Math.pow(10,6):1)*(c.match(r)?Math.pow(10,9):1)*(c.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=u?Math.ceil(e._value):e._value}return e._value}function r(e,t,n){var a,r,o=t.indexOf("$"),s=t.indexOf("("),i=t.indexOf("-"),l="";return t.indexOf(" $")>-1?(l=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(l=" ",t=t.replace("$ ","")):t=t.replace("$",""),r=c(e._value,t,n),o<=1?r.indexOf("(")>-1||r.indexOf("-")>-1?(r=r.split(""),a=1,(o<s||o<i)&&(a=0),r.splice(a,0,g[m].currency.symbol+l),r=r.join("")):r=g[m].currency.symbol+l+r:r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,l+g[m].currency.symbol),r=r.join("")):r=r+l+g[m].currency.symbol,r}function o(e,t,n){var a,r="",o=100*e._value;return t.indexOf(" %")>-1?(r=" ",t=t.replace(" %","")):t=t.replace("%",""),a=c(o,t,n),a.indexOf(")")>-1?(a=a.split(""),a.splice(-1,0,r+"%"),a=a.join("")):a=a+r+"%",a}function s(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),a=Math.round(e._value-60*t*60-60*n);return t+":"+(n<10?"0"+n:n)+":"+(a<10?"0"+a:a)}function i(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function c(e,n,a){var r,o,s,i,c,l,u=!1,d=!1,p=!1,f="",v=!1,y=!1,b=!1,C=!1,S=!1,E="",A="",k=Math.abs(e),D=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],T="",_=!1;if(0===e&&null!==h)return h;if(n.indexOf("(")>-1?(u=!0,n=n.slice(1,-1)):n.indexOf("+")>-1&&(d=!0,n=n.replace(/\+/g,"")),n.indexOf("a")>-1&&(v=n.indexOf("aK")>=0,y=n.indexOf("aM")>=0,b=n.indexOf("aB")>=0,C=n.indexOf("aT")>=0,S=v||y||b||C,n.indexOf(" a")>-1?(f=" ",n=n.replace(" a","")):n=n.replace("a",""),k>=Math.pow(10,12)&&!S||C?(f+=g[m].abbreviations.trillion,e/=Math.pow(10,12)):k<Math.pow(10,12)&&k>=Math.pow(10,9)&&!S||b?(f+=g[m].abbreviations.billion,e/=Math.pow(10,9)):k<Math.pow(10,9)&&k>=Math.pow(10,6)&&!S||y?(f+=g[m].abbreviations.million,e/=Math.pow(10,6)):(k<Math.pow(10,6)&&k>=Math.pow(10,3)&&!S||v)&&(f+=g[m].abbreviations.thousand,e/=Math.pow(10,3))),n.indexOf("b")>-1)for(n.indexOf(" b")>-1?(E=" ",n=n.replace(" b","")):n=n.replace("b",""),s=0;s<=D.length;s++)if(r=Math.pow(1024,s),o=Math.pow(1024,s+1),e>=r&&e<o){E+=D[s],r>0&&(e/=r);break}return n.indexOf("o")>-1&&(n.indexOf(" o")>-1?(A=" ",n=n.replace(" o","")):n=n.replace("o",""),A+=g[m].ordinal(e)),n.indexOf("[.]")>-1&&(p=!0,n=n.replace("[.]",".")),i=e.toString().split(".")[0],c=n.split(".")[1],l=n.indexOf(","),c?(c.indexOf("[")>-1?(c=c.replace("]",""),c=c.split("["),T=t(e,c[0].length+c[1].length,a,c[1].length)):T=t(e,c.length,a),i=T.split(".")[0],T=T.split(".")[1].length?g[m].delimiters.decimal+T.split(".")[1]:"",p&&0===Number(T.slice(1))&&(T="")):i=t(e,null,a),i.indexOf("-")>-1&&(i=i.slice(1),_=!0),l>-1&&(i=i.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g[m].delimiters.thousands)),0===n.indexOf(".")&&(i=""),(u&&_?"(":"")+(!u&&_?"-":"")+(!_&&d?"+":"")+i+T+(A?A:"")+(f?f:"")+(E?E:"")+(u&&_?")":"")}function l(e,t){g[e]=t}function u(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function d(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=u(e),a=u(t);return n>a?n:a},-(1/0))}var p,f="1.5.3",g={},m="en",h=null,v="0,0",y="undefined"!=typeof module&&module.exports;p=function(t){return p.isNumeral(t)?t=t.value():0===t||"undefined"==typeof t?t=0:Number(t)||(t=p.fn.unformat(t)),new e(Number(t))},p.version=f,p.isNumeral=function(t){return t instanceof e},p.language=function(e,t){if(!e)return m;if(e&&!t){if(!g[e])throw new Error("Unknown language : "+e);m=e}return!t&&g[e]||l(e,t),p},p.languageData=function(e){if(!e)return g[m];if(!g[e])throw new Error("Unknown language : "+e);return g[e]},p.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),p.zeroFormat=function(e){h="string"==typeof e?e:null},p.defaultFormat=function(e){v="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,a,r=this.length>>>0,o=!1;for(1<arguments.length&&(a=t,o=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(o?a=e(a,this[n],n,this):(a=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return a}),p.fn=e.prototype={clone:function(){return p(this)},format:function(e,t){return n(this,e?e:v,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:a(this,e?e:v)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t,a,r){return e+n*t}var n=d.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t,a,r){return e-n*t}var n=d.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t,n,a){var r=d(e,t);return e*r*(t*r)/(r*r)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t,n,a){var r=d(e,t);return e*r/(t*r)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(p(this._value).subtract(e).value())}},y&&(module.exports=p),"undefined"==typeof ender&&(this.numeral=p),"function"==typeof define&&define.amd&&define("numeral",[],function(){return p})}.call(this),define("ContentProperties",["angular"],function(e){"use strict";e.module("ContentProperties",[]).constant("ContentConstant",{urlContentOne:"customer/content",loginPage:"login",kLanguagePreferences:"en_US",kSnag:"snag",kCoreTransfer:"core_transfer_",kTransfer:"transfer",kCoreSession:"core_session_",kSessionTimeout:"sessiontimeout",kAccountPreferences:"acctpreferences",kCoreAccountPreferences:"core_settings_account_",kCoreGlobalHeader:"core_global_header_",kCoreGlobalDropdown:"core_profiledropdown_",kCoreAccountSummary:"core_acctsummary_",kCoreMigrationAcctsetup:"core_migrationacctsetup_",kCoreCampaignAcctsetup:"core_campaignacctsetup_",kCoreEno:"core_eno_chatbot_",kEnosetup:"enosetup",kCoreEnoTsCsArticle:"core_eno_tclegal_disclaimer_",kCoreAlerts:"core_alertsprefs_",kCoreAlertsInvalidMsg:"core_alerts_invalidphone",kCoreAlertsInvalidMsgSmb:"core_alerts_invalidphone_smb",kCoreProfileprefs:"core_profileprefs_",kCoreRecovery:"core_recovery_",kRecovery:"recovery",k360Savings:"360-savings",k360Checking:"360-checking",kAlertIconYellow:"alert_icon_yellow",kHeader:"header",kAddExternalAccount:"addexternalaccount",kVerifyExternalAccount:"transferextaccount",kRemoveExternalAccount:"removeexternalaccount",kCoreAddExternalAccounts:"core_addaccount_",kAbaNumberDetails:"abaNumberDetails",kGlobalFooter:"globalfooter",kCoreGlobalFooter:"core_global_footer_",kCoreGlobalFooterArticle:"core_global_footer_discl",kCoreSecurityPrefs:"core_securityprefs_",kAccountSummary:"accountsummary",kCoaf:"bg_coaf_sml",k360:"bg_360_sml",kVenture:"bg_venture_sml",kBank:"bg_bank_sml",kCommonSnag:"common_snag_",kSnagUrl:"snag",kProfileprefs:"profileprefs",kCofi:"bg_cofi_sml",kCoreFinder:"core_widget_atmfinder_en_US",kSearchIcon:"Icon_Search",kClearSearchIcon:"Icon_SearchClear",kNoResultsIcon:"Icon_NoResults",kIconFilter:"Icon_Filter",kIconExternalLink:"Icon_ExternalLInk",kMapMarkerAtmRetail:"MapMarker_ATM-Retail",kMapMarkerAtmRetailLarge:"MapMarker_ATM-Retail_Large",kMapMarkerBranch:"MapMarker_Branch",kMapMarkerBranchLarge:"MapMarker_Branch_Large",kMapMarker360:"MapMarker_ATM-360",kMapMarker360Large:"MapMarker_ATM-360_Large",kMapMarkerCashBack:"MapMarker_CB",kMapMarkerCashBackLarge:"MapMarker_CB_Large",k360ATMIcon:"Icon_360ATM",kBankATMIcon:"Icon_BankATM",kCashBackIcon:"Icon_CashBack",kBranchIcon:"Icon_Branch",kATMFinder:"ATM_Finder_Icon",kRemoveAccount:"core_removeaccount_",kRemoveAccountMsgUrl:"core_removeaccountmsg_",kRemoveAccountMsg:"removeaccountmsg",kAlertPrefs:"alertprefs",kMigrationAcctsetup:"migrationacctsetup",kCampaignAcctsetup:"campaignacctsetup",kcoreAccountSettingsCIC:{"ease.core.settings.account.cic.header.label":"Credentials","ease.core.common.multiusernames":"Looks like you have multiple usernames.","ease.core.settings.account.cic.linktext.label":"Would you like to combine them?","ease.core.settings.account.cic.link.label":"https://ems.capitalone.com/cic-ui"},kSecurityPrefs:"securityprefs",kCoreGlobalHeaderData:{"ease.core.global.header.aria.label":"Header","ease.core.global.header.capone.logo.link":"http://www.capitalone.com/","ease.core.global.header.back.aria.label":"Click Here to go back","ease.core.global.header.capone.logo.aria.label":"Capital One Home","ease.core.global.header.back.label":"Back","ease.common.capitalone.text":"Capital One"},kCoreGlobalHeaderPageTitle:"ease.common.capitalone.text",kSnagModalHeader:"core.common.snag.modal.header",kSnagFeatureOffLabel:"core.common.snag.modal.featureoff.label",kSnagFeatureOffShortLabel:"core.common.snag.featureoff.short.label",kSnagFeatureOffButtonLabel:"ease.common.okay",kcommon_snag_en_US:{common_snag_en_US:{"ease.common.okay":"Okay","core.common.snag.modal.featureoff.label":"This feature isn’t available right now, but we’re working on it. Try again in a bit.","core.common.snag.featureoff.short.label":"This feature is currently unavailable.Try again in a bit.","core.common.snag.modal.cantsave1.label":"Something went wrong and we can’t save your","core.common.snag.modal.header":"We’ve hit a snag.","core.common.snag.modal.header2":"Oops, we’ve hit a snag!","core.common.snag.modal.needtofix.label":"Looks like we need to fix something, so we’re working on it. Try again in a bit.","core.common.snag.transactions.label":"We can’t display your transactions right now, but we’re working on it. Please try again in a bit.","core.common.snag.modal.cantsave2.label":" Give it another try in a moment."}},kcore_migrationacctsetup_en_US:{core_migrationacctsetup_en_US:{"ease.core.migrationacctsetup.migration.header.label":"Welcome to our new site!","ease.core.migrationacctsetup.migration.instructions.label":"Let's verify your email and phone numbers","ease.common.email":"Email","ease.common.mobile":"Mobile","ease.common.home":"Home","ease.common.work":"Work","ease.core.migrationacctsetup.migration.select.label":"Select Number","ease.core.migrationacctsetup.migration.TCPA.on.label":"You can call or text me through automated means","ease.core.migrationacctsetup.migration.TCPA.off.label":"You can only contact me through non-automated means","ease.common.change":"Change"}},kEnoFallBack:{core_enomodal_en_US:{"ease.core.eno.primarydesctext.label":"Give Eno your digits","ease.core.eno.secondarydesctext.label":"When you start texting with Eno, you can talk about these accounts:","ease.core.eno.phonedesctext.label":"Eno will text you at this number:","ease.core.eno.acceptdesctext.label":"I accept the","ease.core.eno.alertfrauddesctext.label":"By providing my mobile number, I verify this is my mobile phone number and I consent to receive autodialed and prerecorded/ artifical calls, including text messages, relating to my relationship with Capital One. I understand these calls or text messages may relate to the handling, servicing, and billing for any Capital One account I have. Message and Data rates may apply.","ease.core.eno.completedesctxt.label":"Complete Setup","ease.core.eno.agreementdesctext.label":"Capital One will also text you at this number to get in touch about the potential fraud, important charges, or other alerts you set up.","ease.core.eno.tandclink.label":"Terms & Conditions.","ease.core.eno.successprimarydesctext.label":"You're all set!","ease.core.eno.successsecondesctext.label":"Phone buzzing yet? It's me, Eno. I just texted you at","ease.core.eno.donedesctext.label":"I'm Done"}}})}),define("errorDetailsService",["angular","coreloader"],function(e,t){"use strict";function n(e){this.attributes={};var t=new Error,n=this;if(arguments[0]){this.attributes=arguments[0];for(var a in this.attributes)"undefined"!=typeof this.attributes[a]&&(n[a]=this.attributes[a])}t.stack&&("undefined"!=typeof Components?this.stack=t.stack.substring(t.stack.indexOf("\n")+1):"undefined"!=typeof chrome||"undefined"!=typeof process?this.stack=t.stack.replace(/\n[^\n]*/,""):this.stack=t.stack),"undefined"==typeof this.stack&&(this.stack="NA"),"undefined"==typeof this.fileName&&(this.fileName=t.fileName),"undefined"==typeof this.lineNumber&&(this.lineNumber=t.lineNumber),"undefined"==typeof this.message&&(this.message=t.message)}n.prototype=new Error||Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.name="EaseException",n.prototype.toString=function(){return"Error in function "+this.function+" at module "+this.module+" : "+this.message};var a=e.module("EaseExceptionsModule",[]).factory("easeExceptionsService",["$rootScope","$log","$document","$injector","ContentConstant","i18nContent",function(a,r,o,s,i,c){return{createEaseException:function(e){return new n(e)},stopSpinner:function(){if(t.isNativeMobileApp())a.showEaseLoader=!1;else{var n=s.get("EaseConstant"),r=["loading","formatLoading","loadingModal"];r.forEach(function(t){e.element(document.querySelector("."+t)).removeClass(t)}),n.isEnableActionButton=!0}},displayErrorHandler:function(e,t,n,r){void 0===r&&(r=!1);s.get("EASEUtilsFactory");a.$broadcast("error",{msgHeader:e||c["core.common.snag.modal.header2"],
msgBody:t||c["core.common.snag.modal.needtofix.label"],isPolicy:n,keepWebviewOpen:r})},displayErrorHadler:function(e,t,n){this.displayErrorHandler(e,t,n)},throwFeatureUnavailableSnag:function(){var e=i.kcommon_snag_en_US.common_snag_en_US["core.common.snag.modal.header"],t=i.kcommon_snag_en_US.common_snag_en_US["core.common.snag.modal.featureoff.label"];this.displayErrorHandler(e,t)},snag:function(e){this.displayErrorHandler(e.headerMessage,e.displayMessage)},generateLoggableErrorString:function(e){if(e){var t="Error in";return e.function&&(t+=" function "+e.function),e.module&&(t+=" module "+e.module),e.lineNumber&&(t+=" line "+e.lineNumber),e.cause&&(t+=" cause "+e.cause),e.stack&&(t+=" stack: "+e.stack.replace(/\?t=\d+/gim,"?t=")),t}return"Error in function with no exception object."}}}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","$injector","$log",function(e,t,n){return function(e,a){var r=t.get("easeExceptionsService"),o=t.get("pubsubService");n.error(e,a),o.pubsubError(r.generateLoggableErrorString(e),!0),r.stopSpinner()}}])}]);return a}),define("easeLocalize",["angular"],function(e){"use strict";return e.module("EaseLocalizeModule",[]).provider("languagePreferencesFactory",["EaseConstant",function(e){var t=this,n=function(t){return e.kLocale2Language[t]},a=function(e){var t="string"==typeof e?e.split("-"):[];return 2===t.length?t[0].toUpperCase():"EN"};t.kCurrentLocale="",t.kCurrentLocaleText="",t.kCurrentCountry="",t.kCurrentLanguage="",t.currentLocale="",t.currentLocaleText="",t.currentCountry="",t.currentLanguage="",t.initLocalizationPreferences=function(e,n){t.setLanguagePreferences(e),t.kCurrentCountry=n,t.currentCountry=n},t.setLanguagePreferences=function(e){t.kCurrentLocale=e,t.kCurrentLocaleText=n(e),t.kCurrentLanguage=a(e),t.currentLocale=e,t.currentLocaleText=n(e),t.currentLanguage=a(e)},t.$get=function(){return t.kCurrentLocale||t.setLanguagePreferences(e.kEnglishLocale),{getCurrentLocale:function(){return t.kCurrentLocale},getCurrentCountry:function(){return t.kCurrentCountry},getCurrentLanguage:function(){return t.currentLanguage},getCurrentLocaleText:function(){return t.kCurrentLocaleText},setLanguagePreferences:t.setLanguagePreferences,currentLocale:t.currentLocale,currentLocaleText:t.currentLocaleText,currentCountry:t.currentCountry,currentLanguage:t.currentLanguage}}}])}),define("easeInterceptor",["angular","coreloader","errorDetailsService"],function(e,t){return e.module("EaseExceptionsModule").factory("easeHttpInterceptor",["$q","easeExceptionsService","$rootScope","$injector","EaseConstant","$window","LogOutLinks","pubsubService","_","languagePreferencesFactory","$timeout","$location","$log",function(e,n,a,r,o,s,i,c,l,u,d,p,f){var g,m=o.defaultErrorMessage,h=o.deniedErrorMessage,v=function(e){var t=e||m,n=g||"error";a.$broadcast(n,t),n===g&&(n=null)},y=function(e){g=e},b=function(e){return e&&e.config&&e.config.headers&&e.config.headers.disableErrorInterceptor};return{resetBroadCastEvent:function(){g=null},setBroadCastEventOnce:y,request:function(e){return e.headers=l.extend(e.headers,{"c1-xhr":!0,"Accept-Language":u.getCurrentLocale(),"c1-card-accept-language":u.getCurrentLocale()}),e},responseError:function(a){var c=b(a),l=a.status||null,u={module:"EaseExceptionsModule",function:"easeHttpInterceptor",config:a.config||null,statusCode:l+"",statusMessage:a.statusText||null,cause:a||null},d=n.createEaseException(u),p=r.get("$state");return t.isNativeMobileApp()&&/[a-zA-Z]+\/accountsummary/.test(u.config.url)?(n.stopSpinner(),v(m)):401===a.status?s.location.href=i.eSICUrl:""!==p.current.name&&/[a-zA-Z]+\/prefetch/.test(u.config.url)||(n.stopSpinner(),c?f.log(d,"ErrorInterceptor disabled"):""!==p.current.name&&"undefined"!=typeof a.status&&/[a-zA-Z]+\/content/.test(u.config.url)||""!==p.current.name&&a.config.url.indexOf(o.kCacheRefresh)===-1&&a.config.url.indexOf(o.kCreditWiseUrl)===-1&&v(m)),e.reject(d)},response:function(e){var l=b(e);if(e&&"object"==typeof e.data&&null!==e.data&&(e.data.isDisplayData=!0,e.data.easeDisplayError)){var u=r.get("$state");if("1"===e.data.easeDisplayError.severity)l?f.log(e,"ErrorInterceptor disabled"):(n.stopSpinner(),a.$broadcast("error",{msgHeader:e.data.easeDisplayError.headerMessage,msgBody:e.data.easeDisplayError.displayMessage})),e.data.isDisplayData=!1;else if("2"===e.data.easeDisplayError.severity){if(e.data.easeDisplayError.errorIdString===o.errorIdStrings.MULTIPLE_ESCID){var d={};d.value=e.data.easeDisplayError,u.go(o.states.kEscid,d)}}else"3"===e.data.easeDisplayError.severity&&"Canada SPI"===e.data.easeDisplayError.headerMessage&&(c.pubsubTrackAnalytics({taxonomy:{level1:"ease",level2:"welcome",level3:"",level4:"",level5:"",country:"us",language:"english",system:t.getSiteCatalystSystem()},name:"canada non-ease validation error",error:"Canada Kickout"}),v(h),s.location.href=i.eSICUrl)}return e}}}]).config(["$httpProvider",function(e){var t="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",n=document.documentMode;(/edge/i.test(t)||n)&&(e.defaults.headers.get||(e.defaults.headers.get={}),e.defaults.headers.get["If-Modified-Since"]="Thu, 01 Jan 1970 00:00:00 GMT",e.defaults.headers.get["Cache-Control"]="no-cache",e.defaults.headers.get.Pragma="no-cache"),e.interceptors.push("easeHttpInterceptor")}])});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("easeUtils",["require","angular","coreloader"],function(e,t,n){function a(e,t){return function(n,a){var r=e.id.toLowerCase();if(n<0&&"fr-ca"!==r){var o=Math.abs(n);return t("currency")(o,"-"+e.NUMBER_FORMATS.CURRENCY_SYM,a)}return t("currency")(n,e.NUMBER_FORMATS.CURRENCY_SYM,a)}}function r(){return function(e){if(!e||!Array.isArray(e.list)||0===e.list.length)return"";var t=e.list;e.inBetweenSeparator=e.inBetweenSeparator?e.inBetweenSeparator+" ":", ",e.lastSeparator=e.lastSeparator?" "+e.lastSeparator+" ":" and ";var n=1===t.length?t[0]:t.splice(0,t.length-1).join(e.inBetweenSeparator).concat(e.lastSeparator).concat(t[t.length-1]);return n}}function o(){return function(e,t){return"string"!=typeof e&&"boolean"!=typeof e?t:"true"===e||e===!0}}var s=t.module("easeAppUtils",["restangular","ngStorage","ngSanitize","oc.lazyLoad","LogOutLinks","CreditCardCosLink","EaseLocalizeModule","ui.router","pubsubServiceModule","coreUtils","ContentAccountLinks"]).run(["$rootScope",function(e){e.isEASEMobileApp=n.isNativeMobileApp(),e.loadingEaseText="Loading something really awesome",e.$on("$stateChangeStart",function(t,n,a,r,o,s){e.showEaseLoader=!0,e.isFooterHiddenState=n.data&&n.data.hideFooter}),e.$on("$viewContentLoading",function(t,n,a,r,o,s){e.showEaseLoader=!0}),e.$on("$stateChangeSuccess",function(t,n,a,r,o,s){e.showEaseLoader=!1}),e.$on("$stateChangeError",function(t,n,a,r,o,s){e.showEaseLoader=!1})}]).directive("easeLoader",function(){return{restrict:"E",template:'<div class="establish-secure"><div class="establish-loading"><div class="center-loading"></div></div></div>'}});return s.filter("easeCurrency",a),a.$inject=["$locale","$filter"],s.filter("easeHumanizeList",r),r.$inject=["$filter"],s.filter("convertStringToBool",o),o.$inject=["$filter"],s.provider("easeModules",["EaseConstant",function(e){var n=this;t.extend(this,{get:function(t){return"/ease-ui"+e.kBuildVersionPath+"/dist/features/"+t+"/"+t+"-module.js"}}),this.$get=function(){return n}}]).provider("easeTemplates",[function(){var e=this;t.extend(this,{get:function(e,t,n){switch(n=n?n:"index",e){case"template":return"/ease-ui/bower_components/"+t+"/partials/"+t+"-"+n+".html";case"PersonalInformation":case"ProfilePhone":case"MessagesAlerts":case"Settings":return"/ease-ui/dist/features/CustomerSettings/"+e+"/html/"+e+"-"+n+".html";case"AccountServices":return"/ease-ui/dist/partials/account-services.html";default:return"/ease-ui/dist/features/"+e+"/html/"+e+"-"+n+".html"}},getFeatureTemplate:function(e,t,n){return"/ease-ui/bower_components/"+e+"/features/"+t+"/partials/"+t+"-"+n+".html"}}),this.$get=function(){return e}}]).provider("easePartials",function(){var e=this;t.extend(this,{get:function(e,t){return"/ease-ui/dist/features/"+e+"/html/partials/"+t+"-partial.html"}}),this.$get=function(){return e}}).provider("easeFiles",["EaseConstant",function(e){var n=this;t.extend(this,{get:function(t,n,a){var r,o,s,i=["AutoLoan","Bank","CreditCard","BillPay","Debit","Recovery","SBBank"];if(i.indexOf(n)!==-1)return"string"==typeof a&&(s=[a],a=s),r=/,/gi,o=void 0!==a?"features/"+a.toString().replace(r,"/")+"/"+a[a.length-1]:n,"/ease-ui/bower_components/"+n+"/"+o+"-"+t+".js";if("string"==typeof n){var c=[n];n=c}return r=/,/gi,o=n.toString().replace(r,"/"),"/ease-ui"+e.kBuildVersionPath+"/dist/features/"+o+"/"+n[n.length-1]+"-"+t+".js"}}),this.$get=function(){return n}}]).provider("easeEvent",function(){var e,n=this;t.extend(this,{entering:function(t){e=t},exiting:function(t){e=t}}),this.$get=function(){return n}}).provider("externalAccountState",["$stateProvider","easeFilesProvider","easeTemplatesProvider","EaseConstant",function(e,n,a,r){function o(t,a,r,o,s,i){e.state(t,{parent:a,url:s,pageViewObject:i,resolve:{extPaymentContentData:["$ocLazyLoad","$q","$injector","ContentConstant","languagePreferencesFactory","featureToggleFactory","$log",function(e,t,a,r,o,s,i){return e.load({serie:!0,files:[n.get("services","UMMPayment"),n.get("controller","UMMPayment"),n.get("directives","UMMPayment")]}).then(function(){return s.initializeFeatureToggleData().then(function(e){var t=a.get("UmmPaymentFactory");t.setFeatToggleData(e)})},function(e){i.log("Failed to load UMMPaymentDependencies: "+e)})}]},onEnter:["easeUIModalService","easeTemplates",function(e,t){e.showModal({templateUrl:t.get("UMMPayment","",o),controller:r})}]})}var s=this;t.extend(s,{set:function(e,t,n,a,r,s){void 0===s&&(s=null),o(e,t,n,a,r,s)}}),this.$get=function(){return s}}]).provider("addAccountState",["$stateProvider","easeFilesProvider","easeTemplatesProvider","EaseConstant",function(e,n,a,r){function o(t,a,o){e.state(t,{url:r.easeURLs.addExtPayAcct,parent:a,params:{isTransferAccount:""},pageViewObject:o,controller:["$state","$scope",function(e,t){t.returnToParentState=function(){var t="string"==typeof a?a:a.name;e.go(t)}}],template:'<c1-element-core-features-settings-add-external-account\n                          ng-custom-element\n                          ngce-on-exit="returnToParentState()"\n                          >\n                      </c1-element-core-features-settings-add-external-account>',resolve:{featureToggleData:["featureToggleFactory",function(e){return e.initializeFeatureToggleData()}],extPaymentContentData:["$ocLazyLoad","$q","$injector","ContentConstant","languagePreferencesFactory","featureToggleData","$log",function(e,t,a,r,o,s,i){return e.load({serie:!0,files:[n.get("services","UMMPayment"),n.get("controller","UMMPayment"),n.get("directives","UMMPayment")]}).then(function(){return a.get("UmmPaymentFactory").setFeatToggleData(s)},function(e){i.log("Failed to load UMMPaymentDependencies: "+e)})}],addAccountStateSettingsNGEntrypoint:["featureToggleData","angularElementsUtils","$q",function(e,t,n){return e[r.features.settingsPageAngular]?t.getAngularElementsDependencies().then(function(){return t.getAngularElementsFeature(["ease-web-core-settings"]).then(function(e){return!!e})}).catch(function(){return!1}):n.when(!1)}]},onEnter:["featureToggleData","easeUIModalService","easeTemplates","addAccountStateSettingsNGEntrypoint",function(e,t,n,a){var o=e[r.features.settings.addExternalAccountElement]&&a;o||t.showModal({templateUrl:n.get("UMMPayment","","addExternalAcc"),controller:"AddExternalAccountCtrl as addExtPayAcct"})}]})}var s=this;t.extend(s,{set:function(e,t,n){void 0===n&&(n=null),o(e,t,n)}}),this.$get=function(){return s}}]).factory("EASEUtilsFactory",["$http","$q","$state","$location","$sessionStorage","$rootScope","$animate","i18nContent","$window","$document","$timeout","$injector","Restangular","EaseConstantFactory","EaseConstant","easeExceptionsService","CreditCardCosLink","LogOutLinks","ContentConstant","pubsubService","$filter","$locale","$ocLazyLoad","languagePreferencesFactory","$log","coreloader","EaseCoreRestangular",function(e,n,a,r,o,s,i,c,l,u,d,p,f,g,m,h,v,y,b,C,S,E,A,k,D,T,P){String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var n=new RegExp("\\{"+t+"\\}","gi");e=e.replace(n,arguments[t])}return e},String.prototype.shuffle=function(){for(var e=this.split(""),t=e.length,n=t-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),r=e[n];e[n]=e[a],e[a]=r}return e.join("")};var w=function(){this.afterElement=!!l.getComputedStyle&&l.getComputedStyle(u[0].body,":after"),this.currentBreakpoint="",this.lastBreakpoint="",this.init()};return w.prototype={init:function(){var e=this;e.afterElement&&e._resizeListener()},_resizeListener:function(){var e=this;t.element(l).on("resize orientationchange load",function(){e.currentBreakpoint=e.afterElement.getPropertyValue("content"),e.currentBreakpoint!==e.lastBreakpoint&&(t.element(l).triggerHandler("breakpoint-change",e.currentBreakpoint),e.lastBreakpoint=e.currentBreakpoint)})}},parent.mediaqueryListener=parent.mediaqueryListener||new w,{navigateOrCloseWebview:function(e){return T.isNativeMobileApp()?T.postClose():a.go(e)},isEaseError:function(e){return e.easeDisplayError&&e.easeDisplayError.displayMessage},missingContentLabel:function(e,t){for(var n in e)t.hasOwnProperty(n)||s.$broadcast("error",{msgHeader:c["core.common.snag.modal.header"],msgBody:c["core.common.snag.modal.contentErrorSnag.snagBody"],msgType:"missingLabel"})},getFocusForEscapeHatch:function(){var e=p.get("featureToggleFactory");e.initializeFeatureToggleData().then(function(e){t.element(document).ready(function(){e[m.features.enableEscapeHatch]?document.getElementById("escapeHatchLink")&&document.getElementById("escapeHatchLink").focus():document.getElementById("caplogo")&&document.getElementById("caplogo").focus()})})},calculateCurBalanceAndPaymentDueAndSassName:function(e){e.forEach(function(e){"undefined"!=typeof e.displayBalance&&(e.amount=e.displayBalance),0===e.displayBalance||e.displayBalance&&""!==e.displayBalance.toString().trim()&&""!==e.displayBalance?e.showPrimaryData=!0:e.showPrimaryData=!1,e.sassName="_lob_"+e.category,e.category!==m.lineOfBusiness.checking&&e.category!==m.lineOfBusiness.saving&&e.category!==m.lineOfBusiness.cd&&e.category!==m.lineOfBusiness.moneyMarket||!e.subCategory?e.subCategory&&"retail"===e.subCategory.toLowerCase()&&(e.sassName+=e.subCategory):e.sassName+=e.subCategory,e.amount<0&&(e.negativeBalance=!0)})},isCanada:function(){return m.kRegExpCanada.test(k.getCurrentCountry())},isHighDensityScreen:function(){var e="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return l.devicePixelRatio>=1.5||l.matchMedia&&l.matchMedia(e).matches},createAccountDetailUrl:function(e,t){var n=e.ProductCategory,a=e.filter,r=e.type,o="";switch(n){case m.lineOfBusiness.checking:case m.lineOfBusiness.checking360:case m.lineOfBusiness.saving:case m.lineOfBusiness.saving360:case m.lineOfBusiness.moneyMarket:case m.lineOfBusiness.CreditCard:case m.lineOfBusiness.AutoLoan:case m.lineOfBusiness.HomeLoansILA:o="customer/account/"+n+"/"+t+"/transactions";break;case m.lineOfBusiness.cd:o=m.urlPrefixerDeposits+t+r+m.urlQueryFilter+a+m.urlCDQueryParam;break;default:o="customer/account/"+n+"/"+t+"/transactions"}return o},commaFormattedFixedByCurrency:function(e,t){var n="";return t=t||"USD","USD"===t&&(n=numeral(parseFloat(e)).format("0,0")),n},commaFormattedMoneyByCurrency:function(e,t){var n="";return t=t||"USD",parseFloat(e)<0&&(e=Math.abs(e)),"USD"===t&&(n=numeral(e).format("$0,0.00")),isNaN(e)?"":n},formatGlobalAmountValue:function(e){return this.getAmountFromValue(e)+"."+this.getCentsFromValue(e)},getAmountFromValue:function(e,t){var n=this;return e.toString().indexOf(".")!==-1?n.commaFormattedFixedByCurrency(e.toString().split(".")[0],t):n.commaFormattedFixedByCurrency(e.toString(),t)},getCentsFromValue:function(e){return e.toString().indexOf(".")!==-1?(e=Math.round(100*e)/100,parseFloat(e).toFixed(2).toString().split(".")[1]):"00"},getDollarsAndCents:function(e){var t=S("currency")(e),n=E.NUMBER_FORMATS,a=n.DECIMAL_SEP,r=n.CURRENCY_SYM,o=t.split(a),s=o[0].replace(r,"").trim(),i=(o[1]||"00").replace(r,"").trim();return{dollars:s,cents:i}},doubleEncodeSlashes:function(e){return e.replace(/%2F/g,"%252F")},redirectURLS:function(e,t){var n,a,r,o,s=decodeURIComponent(t).replace("/ease-ui/#","").split("/"),i=decodeURIComponent(t),c=i.split("/"),l=this;return e&&e.accounts&&e.accounts.forEach(function(e){"bank"===s[1].toLowerCase()&&e.referenceId===decodeURIComponent(s[2])||e.originalProductName&&s[1].toLowerCase()===e.originalProductName.replace(/\s+/g,"").toLowerCase()?(n=l.generateStateData(e,s,t),a=e):"CC"===e.category&&"accountSummary"!==s[1]&&(e.referenceId===decodeURIComponent(s[2])||0===i.indexOf("/ease-ui/#")&&e.referenceId===decodeURIComponent(c[4]))?(r=0===i.indexOf("/ease-ui/#")?i.replace("/ease-ui/#","").replace("CreditCardDetails","Card"):t,o=r.split("/"),n={accountReferenceId:decodeURIComponent(o[2].replace(/%252F/g,"%2F")),ProductName:e.accountStatus&&e.accountStatus===m.C_Off?"Recovery":"Card",accountDetails:{lineOfBusiness:e.category,subCategory:e.subCategory,isRefreshState:!0,url:r}},a=e):e.referenceId===decodeURIComponent(s[2])&&"accountSummary"!==s[1]&&(n=l.generateStateData(e,s,t),a=e)}),a?(a.stateObject=n,a):""},generateStateData:function(e,t,n){var a={accountReferenceId:decodeURIComponent(t[2]),ProductName:e.originalProductName.replace(/\s+/g,""),accountDetails:{lineOfBusiness:e.category,subCategory:e.subCategory,isRefreshState:!0,url:n}};return e.productId&&(a.accountDetails.productId=e.productId),a},getLinkAccountAccountReferenceId:function(e,t){if(t)return t;var n=_.find(e,function(e){return"AL"===e.category&&e.referenceId});return n?n.referenceId:void 0},redirectToAutoLoanAccountLinking:function(e,t,n){var r=this.getLinkAccountAccountReferenceId(e,t);if(r){var o=["js!AutoLoan"];A.load(o).then(function(){var e=p.get("autoLoanAccountLinkingService"),t={accountReferenceId:r,greetingMessage:n};return e.accountLinkingModalLaunch(t),e})}else a.go("accountSummary")},redirectLinking:function(e){if(e.internalToEase||"INT_COS"!==e.overRideType)if(e.internalToEase){for(var t=this,n=this.getSummaryData().accounts,a=0;a<n.length;a++){var o=e.path.indexOf(n[a].referenceId);if(o>-1){var s=n[a].referenceId.replace(/\//g,"%252F");e.path=e.path.replace(n[a].referenceId,s);break}}var i=this.redirectURLS(this.getSummaryData(),e.path);i?t.navigateToDest(i):(e.path.indexOf("%252F")&&(e.path=e.path.replace(/%252F/g,"%2F")),r.path(e.path))}else l.open(e.path,"_blank").opener=null;else l.open(v.cosUrl+e.path,"_self")},defaultHandler:function(e){var t=this;if(t.getSummaryData().accounts){var n=t.redirectURLS(t.getSummaryData(),r.url());t.navigateToDest(n)}else e.set().then(function(){var e=t.redirectURLS(t.getSummaryData(),r.url());t.navigateToDest(e)})},navigateToDest:function(e){var t=this;e?(m.isRefreshState=!0,a.transition?a.transition.finally(function(){a.go(t.SelectDetailsTransaction(e).lobType+"Details.transactions",e.stateObject)}):a.go(t.SelectDetailsTransaction(e).lobType+"Details.transactions",e.stateObject)):a.go("accountSummary")},SelectDetailsTransaction:function(e){var t,n,a=this.isSmallBusinessBankAccount(e)?"SBBank":"Bank",r={};t=this.getType(e),e.subCategory&&(n="SBBank"===a?"sbb":e.subCategory.toLowerCase());var o={SA:{lobType:a,pubSubLob:n},DDA:{lobType:a,pubSubLob:n},CD:{lobType:a,pubSubLob:n},MMA:{lobType:a,pubSubLob:n},AL:{lobType:"AutoLoan",pubSubLob:"coaf"},CC:{lobType:"CreditCard",pubSubLob:"card"},ILA:{lobType:"SBBank",pubSubLob:n},LOC:{lobType:a,pubSubLob:n},COI:{lobType:"investing",pubSubLob:"investing"},REC:{lobType:"Recovery",pubSubLob:"recovery"}};return r=t?o[t.toUpperCase()]:{lobType:"",pubSubLob:""},r||{}},getType:function(e){return"CC"===e.category&&e.accountStatus&&e.accountStatus===m.C_Off?"REC":e.category||e.lineOfBusiness},getLobFromUrl:function(e){var t,n,a,r=this,o={};return 0===e.indexOf("/")&&(n=e.split("/"),a=n.length,t=n[1],t.indexOf("Details")>0?(t=t.substr(0,t.indexOf("Details")),"Bank"===t?(o.category=n[a-2],o.subCategory=n[a-1]):o.category=n[a-1],t=r.SelectDetailsTransaction(o).pubSubLob):"AutoLoan"===t?(o.category=n[a-1],t=r.SelectDetailsTransaction(o).pubSubLob):t=void 0),t},getPubsubState:function(e,t){var n,a,r,o={};return e="object"==typeof e?e.name:e,r=e.split("."),n=r[0],a=r[1],"login"===n?o.psLevel2=n:"accountSummary"===n?o.psLevel2=n.split(/(?=[A-Z])/).join(" ").toLowerCase():n.substr(0,n.indexOf("Details"))?o.psLevel2=m.pubsub.accountdetailState:"customerSettings"===n?o.psLevel2=m.pubsub.customersettingState:o.psLevel2="","mfa"===a?o.psLevel3=m.pubsub.mfaL3State:"fraudLocked"===a?o.psLevel3=m.pubsub.fraudlockL3State:"collectSecQuestions"===a?o.psLevel3=m.pubsub.collectquL3State:"customerSettings"===n?o.psLevel3=a.split(/(?=[A-Z])/).join(" ").toLowerCase():o.psLevel3="",o.lob="undefined"!=typeof this.getLobFromUrl(t)?this.getLobFromUrl(t):"",o},IsFooterDisplayValue:!1,IsFooterDisplaySet:function(e){var t=this;"$apply"!==s.$root.$$phase&&"$digest"!==s.$root.$$phase?s.$apply(function(){t.IsFooterDisplayValue=e}):t.IsFooterDisplayValue=e},setCustomerTitle:"",setCustomerTitleData:function(e){this.setCustomerTitle=e},getCustomerTitleData:function(){return this.setCustomerTitle},summaryData:{},setSummaryData:function(e){this.summaryData=e},getSummaryData:function(){return this.summaryData},parseSummaryDataBy:function(e){var t=this.summaryData.accounts||[],n={};return t.forEach(function(t){t.referenceId&&t[e]&&(n[t.referenceId]=t[e])}),n},displayTooltip:!1,tooltipmsg:"",DisplayTooltip:function(e,t){var n=this;"$apply"!==s.$root.$$phase&&"$digest"!==s.$root.$$phase?s.$apply(function(){n.displayTooltip=e,n.tooltipmsg=t}):(n.displayTooltip=e,n.tooltipmsg=t)},mapSort:function(e,t,n){return n?_.map(_.sortBy(e,t)).reverse():_.map(_.sortBy(e,t))},getLOB:function(e){for(var t in m.lineOfBusiness)if(m.lineOfBusiness[t]===e)return t},isTypeOfArray:function(e){var t=!1;return"object"==typeof e&&"[object Array]"===Object.prototype.toString.call(e)&&(t=!0),t},clearSession:function(){var e=this;try{l.sessionStorage.clear();var t=p.get("ChatService");t.stopHeartBeatCheck(),D.log("Clear the window.sessionStorage")}catch(e){D.log("Cannot Clear the window.sessionStorage")}o.$reset(),e.clearStoredObjects()},clearStoredObjects:function(){var e=this;e.summaryData={}},redirectTo360Summary:function(){l.location.href=y.url360Summary},redirectToLogoutCentral:function(){var e=m.kRegExpFrench.test(k.getCurrentLanguage());this.isCanada()?e?l.location.href=y.logoutUrl.CANADA.FR:l.location.href=y.logoutUrl.CANADA.EN:l.location.href=y.logoutUrl.US},logout:function(){var e=this;return s.$broadcast("logout"),e.setIsLoggingOut(!0),e.clearCustomerActivityHeader(),e.setCustomerActivityHeader("50075"),f.setBaseUrl(m.baseUrl),f.all(m.kLogoutUrl).remove().finally(function(){e.clearSession()})},isLoggingOut:!1,setIsLoggingOut:function(e){this.isLoggingOut=e},getIsLoggingOut:function(){return this.isLoggingOut},getCustomerReferenceID:function(){return this.getSummaryData().customerReferenceId},isInActiveProduct:function(e){var t=e.category;return e.subCategory&&"retail"===e.subCategory.toLowerCase()?e.accountMessage&&e.accountMessage.length>0&&["critical","restricted","closed","togglerestricted"].indexOf(e.accountMessage[0].level)!==-1?"critical"===e.accountMessage[0].level?{isNotClickable:!0,category:t}:{isNotClickable:!0,category:e.accountMessage[0].level}:{isNotClickable:!0,category:t}:e.category&&["ila"].indexOf(e.category.toLowerCase())!==-1?{isNotClickable:!0,category:t}:void 0===e.isDisplayAccount||e.isDisplayAccount?void 0!==e.accountMessage&&e.accountMessage.length>0&&["critical","restricted","closed","togglerestricted"].indexOf(e.accountMessage[0].level)!==-1?"critical"===e.accountMessage[0].level?{isNotClickable:!e.navigable,category:t}:{isNotClickable:!e.navigable,category:e.accountMessage[0].level}:{isNotClickable:!1,category:t}:{isNotClickable:!0,category:e.accountMessage[0].level}},isSmallBusinessBankAccount:function(e){return e.accountUseType&&e.accountUseType.toLowerCase()===m.accountUseType.businessDescription.toLowerCase()&&e.category&&m.validSBCategories.indexOf(e.category.toLowerCase())!==-1&&e.subCategory&&m.validSBSubCategories.indexOf(e.subCategory.toLowerCase())!==-1},isCllAccount:function(e){return e.accountUseType&&e.accountUseType.toLowerCase()===m.accountUseType.personal.toLowerCase()&&e.category&&e.category.toLowerCase()===m.categoryLoc.toLowerCase()&&e.subCategory&&e.subCategory.toLowerCase()===m.retailCategory.toLowerCase()},isL2RetailNavigationSupported:function(e){return void 0===e&&(e={}),!(!e.category||!e.subCategory||"retail"!==e.subCategory.toLowerCase())&&(_.includes(m.validL2RetailCategories,e.category)||this.isCllAccount(e)||this.isSmallBusinessBankAccount(e))},getFullMonthText:function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e]},isValidStatus:function(e){var t=/^[2][0-9][0-9]$/;return t.test(e)},currentBusinessSyncId:null,setCurrentBusinessSyncId:function(){this.currentBusinessSyncId=this.getSyncId()},getCurrentBusinessSyncId:function(){return this.currentBusinessSyncId},generateSyncId:function(){var e=(new Date).getTime().toString().shuffle();return e},getSyncId:function(){return this.generateSyncId()},setCustomerActivityHeader:function(e,t){f.setDefaultHeaders({BUS_EVT_ID:e,EVT_SYNCH_TOKEN:t||this.getSyncId()})},clearCustomerActivityHeader:function(){f.setDefaultHeaders({})},setAccountToggles:function(e,t){if(e.category){var n="retail"===e.subCategory.toLowerCase()?m.kRetailGroupName:m.kCategoryToFeatureMap[e.category.toUpperCase()],a=n+".accounttiles.base",r=n+".singleaccounttrxview.base";if(e.isDisplayAccount=!!t[a],e.singleAccountTrxViewEnabled=!!t[r],(!e.accountMessage||["critical","open"].indexOf(e.accountMessage.level)!==-1||void 0!==e.accountMessage&&0===Object.keys(e.accountMessage).length)&&!t[a]){var o={message:c["core.common.snag.account.label"],level:m.kToggleOffMessageLevel,type:m.kToggleOffMessageType};e.accountMessage=o}}},externalAccountPromise:null,internalAccountPromise:null,setCommaPromise:function(e,t){if("object"==typeof e)switch(e.retrieveInternalAccount){case m.customerSettings.settings.retrieveExternalAccount:this.externalAccountPromise=t;break;case m.customerSettings.settings.retrieveInternalAccount:this.internalAccountPromise=t}},getMoneyMovementAccounts:function(e,t,n){var a=this;void 0===n&&(n=!1);var r={};if(!e)throw h.createEaseException({module:"settingsModule",function:"settingsModule.getMoneyMovementAccounts",message:m.busEvtExceptionMesage,cause:m.busEvtExceptionCause});if(r.BUS_EVT_ID=e,r.EVT_SYNCH_TOKEN=this.generateSyncId(),t){if(!n&&"string"!=typeof t){if(this.externalAccountPromise&&t.retrieveInternalAccount===m.customerSettings.settings.retrieveExternalAccount)return this.externalAccountPromise;if(this.internalAccountPromise&&t.retrieveInternalAccount===m.customerSettings.settings.retrieveInternalAccount)return this.internalAccountPromise}}else t="";var o=!1,s=P.all(m.kRetrieveMoneyMovementAccounts).customGET("",t,r).then(function(e){if(e&&e.entries)return e;throw o=!0,D.error("COMMA response is empty or malformed:"+e),e},function(e){throw o=!0,D.error("Failed to fetch COMMA response:"+e),e}).finally(function(){o?a.setCommaPromise(t,null):a.setCommaPromise(t,s)});return s},extParams:{},setEditExtParam:function(e){this.extParams={moneyMovActRefId:e.moneyMovActRefId,isPrimaryAct:e.isPrimaryAct,bankName:e.bankName,isEligibleForPrimaryAccountStatus:e.isEligibleForPrimaryAccountStatus,bankNameWithNum:e.bankNameWithNum}},getEditExtParam:function(){return this.extParams},validateBankDayOffs:function(e){var t=e.getDate(),n=e.getMonth()+1,a=e.getDay(),r=n+"/"+t;if(6===a||0===a)return!0;if("12/31"===r&&5===a||"1/1"===r||"1/2"===r&&1===a||"7/3"===r&&5===a||"7/4"===r||"7/5"===r&&1===a||"11/10"===r&&5===a||"11/11"===r||"11/12"===r&&1===a||"12/24"===r&&5===a||"12/25"===r||"12/26"===r&&1===a)return!0;var o=Math.floor((t-1)/7)+1,s=n+"/"+o+"/"+a;if("1/3/1"===s||"2/3/1"===s||"9/1/1"===s||"10/2/1"===s||"11/4/4"===s)return!0;var i=new Date(e);i.setDate(1),i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),o=Math.floor((i.getDate()-t-1)/7)+1;var c=n+"/"+o+"/"+a;return"5/1/1"===c},getStateDetailsObject:function(e){var t={accountReferenceId:e.referenceId,ProductName:e.originalProductName.replace(/\s+/g,""),accountDetails:{lineOfBusiness:e.category,accountNumber:e.accountNumberTLNPI}};return"CC"===e.category&&e.accountStatus&&e.accountStatus===m.C_Off?t.ProductName="Recovery":"CC"===e.category&&(t.ProductName="Card"),e.subCategory&&(t.accountDetails.subCategory=e.subCategory),e.productId&&(t.accountDetails.productId=e.productId),t},isAlertsClosed:function(e){if("CC"===e.category||"AL"===e.category||"MMA"===e.category||"DDA"===e.category&&"retail"===e.subCategory||"SA"===e.category&&"retail"===e.subCategory||"CD"===e.category&&"retail"===e.subCategory)return!/Closed/i.test(e.accountStatus)},isShowAlerts:function(e,t){var n=!1,a=this.getSummaryData();if(a.accounts&&(n=a.accounts.some(this.isAlertsClosed)),n&&e[m.features.enableDisplayAlerts]){var r=_.includes(t,"card"),o=_.includes(t,"coaf"),s=_.includes(t,"retail");n=!!(e[m.features.enableDisplayCardAlerts]&&r||e[m.features.enableDisplayCoafAlerts]&&o||e[m.features.enableDisplayRetailAlerts]&&s||e[m.features.enableDisplayCustomerSecurityAlerts])}else n=!1;return n},isCardAccountOpen:function(e){return"CC"===e.category&&!/Closed/i.test(e.accountStatus)},isShowAccountLanguage:function(e){var t=!1,n=this.getSummaryData();return n.accounts&&(t=n.accounts.some(this.isCardAccountOpen)),!!t&&_.includes(e,"card")},openFeatureUnavailable:function(){s.$broadcast("error",{msgHeader:c[b.kSnagModalHeader],msgBody:c[b.kSnagFeatureOffLabel],msgButton:c[b.kSnagFeatureOffButtonLabel]})}}}]).factory("profilePreferencesFactory",["EaseConstant","EaseCoreRestangular","$rootScope","$log","EaseErrorMessageFactory","adobeCampaignUtils","$q","EASEUtilsFactory","NotifyingService",function(e,t,n,a,r,o,s,i,c){function l(n,r){if(g)return g;var o={BUS_EVT_ID:n,EVT_SYNCH_TOKEN:r};return g=t.all(e.kProfilePreferences).customGET("",{},o).then(function(e){var t=h,n=m,a=v;return e?(e.greetingName&&(t=e.greetingName),e.profilePictureData&&(n="data:image/png;base64,"+e.profilePictureData),e.accountDisplayOrder&&(a=e.accountDisplayOrder)):e={},__assign({},e,{greetingName:t,profilePictureData:n,accountDisplayOrder:a})}).catch(function(e){return a.error("Error getting profile preferences: ",e),g=null,null})}function u(e,t){return g=null,l(e,t).then(function(e){return n.$broadcast("profilePreferencesLoaded",e),e})}function d(n,a,o){var s={BUS_EVT_ID:a,EVT_SYNCH_TOKEN:o};return t.all(e.kProfilePreferences).post(n,{},s).then(function(e){if(!r.getEaseDisplayError(e))return e;throw e}).catch(function(e){throw r.getErrorMessage(e)})}function p(n){var o=i.generateSyncId(),s=e.busEvtId.personalInfo.editAccountReorder.submitReorder,l={accountDisplayOrder:n},u={BUS_EVT_ID:s,EVT_SYNCH_TOKEN:o};return t.all(e.kProfilePreferences).post(l,{},u).then(function(e){if(!r.getEaseDisplayError(e))return e;throw e}).then(function(e){c.notify("accountSummary").then(function(t){return e})}).catch(function(e){throw a.error("Error updating account reorder: ",e),r.getErrorMessage(e)})}function f(n,a,o){var s={greetingName:n},i={BUS_EVT_ID:a,EVT_SYNCH_TOKEN:o};return t.all(e.kProfilePreferences).post(s,{},i).then(function(e){if(!r.getEaseDisplayError(e))return e;throw e}).catch(function(e){throw r.getErrorMessage(e);
})}var g=null,m="/ease-ui"+e.kBuildVersionPath+"/dist/features/CustomerSettings/images/profileIcon.png",h="",v=[];return{getProfilePreferences:l,refreshProfilePreferences:u,updateProfileImage:d,updateGreetingName:f,updateReorder:p,defaultProfilePicture:m,defaultAccountDisplayOrder:v,defaultGreetingName:h}}]).factory("EaseErrorMessageFactory",["i18nContent","$log",function(e,t){return{checkActivityLoggingHeaders:function(e){e&&e.config&&e.config.headers&&(e.config.headers.BUS_EVT_ID&&e.config.headers.EVT_SYNCH_TOKEN||t.error("Call sent without Business Event ID and/or Event Synch Token to",e.config.url))},getEaseDisplayError:function(e){var t=null,n=function(e){return e&&e.easeDisplayError&&(e.easeDisplayError.severity||e.easeDisplayError.displayMessage)?e.easeDisplayError:null};return e&&(t=n(e)||n(e.data)||n(e.cause)||(e.cause?n(e.cause.data):null)),t},getErrorMessage:function(t,n,a){var r={headerMessage:n||e["core.common.snag.modal.header"],displayMessage:a||e["core.common.snag.modal.needtofix.label"]},o=this.getEaseDisplayError(t);if(o){var s=o.headerMessage,i=o.displayMessage;s&&e[s]?r.headerMessage=e[s]:s&&!this.isKey(s)&&(r.headerMessage=s),i&&e[i]?r.displayMessage=e[i]:i&&!this.isKey(i)&&(r.displayMessage=i)}return r},isKey:function(e){if("string"==typeof e){var t=e.substr(0,e.indexOf("."));if("ease"===t||"core"===t)return!0}return!1}}}]).factory("RestangularFullResponse",["Restangular",function(e){return e.withConfig(function(e){e.setFullResponse(!0)})}]).factory("EaseCoreRestangular",["Restangular","EaseConstant","EaseErrorMessageFactory","$log",function(e,t,n,a){function r(e){a.error("EaseCoreRestangular error",e)}return e.withConfig(function(e){e.addResponseInterceptor(function(e,t,o,s,i,c){var l=n.getEaseDisplayError(e);return l?(a.warn("EaseCoreRestangular rejecting easeDisplayError!"),r(i),c.reject(i),void 0):e}),e.setErrorInterceptor(function(e,t,n){return r(e),!0}),e.setDefaultHeaders({disableErrorInterceptor:!0}),e.setBaseUrl(t.baseUrl),e.setFullResponse(!1),e.setDefaultHttpFields({timeout:15e3})})}]).factory("EaseCoreRestangularFullResponse",["EaseCoreRestangular",function(e){return e.withConfig(function(e){e.setFullResponse(!0)})}]).factory("EaseCoreRestangularEdge",["EaseConstant","EaseCoreRestangular",function(e,t){return t.withConfig(function(t){t.setBaseUrl(e.baseUrl+e.baseEaseWebEdgeUrl)})}]).factory("changeLanguagePreferencesFactory",["Restangular","EASEUtilsFactory","EaseConstant",function(e,t,n){return function(a){var r={languagePreference:{languagePreferenceCode:a,termsAndConditionsFlag:"Y"}},o={BUS_EVT_ID:"50115",EVT_SYNCH_TOKEN:t.getSyncId()};return e.setBaseUrl(n.baseUrl),e.one("customer/language").customPOST(r,"",{},o)}}]).service("summaryService",["$q","EaseConstant","EASEUtilsFactory","$state","i18nContent","featureToggleFactory","$rootScope","_","EaseCoreRestangular","EaseErrorMessageFactory","languagePreferencesFactory","ContentAccountLinks",function(e,t,n,a,r,o,s,i,c,l,u,d){function p(e){if(e.accountMessage)if(e.accountMessage.level&&(e.accountMessage.level=e.accountMessage.level.toLowerCase()),["unavailable","restricted","closed","critical","togglerestricted"].indexOf(e.accountMessage.level)!==-1){var t=new Array;e.accountMessage.priority=0,t.push(e.accountMessage),e.accountMessage=t}else delete e.accountMessage}function f(e){e.category===t.lineOfBusiness.CreditCard&&(e.NumberOfDueDays=g(e)),e.displayName=e.accountNickname||e.originalProductName;var n=E.getLobFromProduct(e);i.includes(E.lobArray,n)||E.lobArray.push(n)}function g(e){var t=new Date(e.notification),n=new Date,a=Math.abs(n.getTime()-t.getTime()),r=Math.ceil(a/864e5);return r}function m(){var t=e.defer(),n=o.getFeatureToggleData();return i.isEmpty(n)?o.initializeFeatureToggleData().then(function(e){t.resolve(e)}):t.resolve(n),t.promise}function h(e){var n=o.getFeatureToggleData()[t.features.enableRecoveryTiles],a=e.category===t.lineOfBusiness.CreditCard,r=e.accountStatus===t.C_Off;return!(!n&&a&&r)}function v(e,n){var a=e.cause||e,o=l.getEaseDisplayError(a),s=l.getErrorMessage(a,null,r["core.common.snag.modal.contentErrorSnag.snagBody"]),i={status:"fail",errorMessage:s,accounts:[],blockUser:!1};if(o){if(o.errorIdString===t.errorIdStrings.NO_SERVICEABLE_ACCOUNTS||o.errorIdString===t.errorIdStrings.NO_ACCOUNTS)return y(e,n);if(o.errorIdString===t.errorIdStrings.MULTIPLE_ESCID||o.errorIdString===t.errorIdStrings.SUSPECTED_FRAUD)return i.blockUser=!0,i}if(a&&a.data&&a.data.accounts){var c=y(a.data,n);i.accounts=c.accounts}return i}function y(e,t){return"undefined"==typeof e.accounts&&(e.accounts=[]),e.accounts=e.accounts.filter(h),e.accounts.forEach(function(e,a){!t["ease.platform.routerSyncing"]||""!==e.originalProductName&&void 0!==e.originalProductName&&null!==e.originalProductName||(e.originalProductName="account"),f(e),n.setAccountToggles(e,t),p(e),C(e)}),E.lobArray.length>1&&E.lobArray.sort(),n.calculateCurBalanceAndPaymentDueAndSassName(e.accounts),e.status="pass",e}function b(e){var t=["HIL","HLC","MLA"];e&&e.accounts&&i.remove(e.accounts,function(e){return e&&t.indexOf(e.category)>-1})}function C(e){if(e&&e.contentImage&&e.contentImage.hiRes&&e.contentImage.lowRes){var t=d.urlContent,a=n.isHighDensityScreen(),r=e.contentImage,o=r.hiRes,s=r.lowRes,i=a?o:s,c=i.tileBackground,l=i.logo;e.contentImage.deviceResolutionFullPath={tileBackground:t+c,logo:t+l}}}function S(e,r){if(b(e),n.setSummaryData(e),E.summary=e,s.$broadcast("summaryLoaded"),e.blockUser){var o={value:e.errorMessage};a.go(t.states.kEscid,o),r.reject(e)}else r.resolve(e)}var E=this;this._lobs=[],this._prodNames=[],E.summary=null,E.lobArray=[],E.inSessionAlready=!1,this.getAccountDetails=function(e){var t=n.SelectDetailsTransaction(e).lobType||"";this._lobs.push(t.toLowerCase());var a=e.originalProductName||"";this._prodNames.push(a.toLowerCase().trim().replace(/\s/g,""))},this.getLobFromProduct=function(e){var t=e.category.toUpperCase(),a=n.isSmallBusinessBankAccount(e);switch(t){case"SA":case"CD":case"DDA":return a?"sbb":"360"===e.subCategory?"360":"retail";case"MMA":return"retail";case"AL":return"coaf";case"CC":return"card";case"COI":return"investing";case"ILA":if(a)return"sbb";case"LOC":return a?"sbb":"cll";default:return"unknown"}},this.addNoCacheHeader=!1,this.noCacheHeaderSuccess=!1,this.set=function(){var a=e.defer();n.setCurrentBusinessSyncId();var r={BUS_EVT_ID:t.busEvtId.acctSummary,EVT_SYNCH_TOKEN:n.getCurrentBusinessSyncId(),Loading_Country:u.getCurrentCountry()};E.addNoCacheHeader&&!E.noCacheHeaderSuccess&&(r["Cache-Control"]="no-cache");var o,s=m(),i=c.one(t.kAccountSummaryRetrieveUrl).customGET("",{},r);return e.all([s,i]).then(function(e){E.addNoCacheHeader=!1,E.noCacheHeaderSuccess=!0;var t=e[0],n=e[1];o=n&&n.accounts&&n.accounts.length>0?y(n,t):v(n,t),S(o,a)}).catch(function(e){m().then(function(t){o=v(e,t),S(o,a)})}),a.promise},this.get=function(){var t=e.defer();if(E.summary)t.resolve(E.summary);else var n=s.$on("summaryLoaded",function(){t.resolve(E.summary),n()});return t.promise},this.getLobArray=function(){return E.lobArray}}]).service("goTapService",["EaseCoreRestangularFullResponse","EaseConstant","easeExceptionsService","EASEUtilsFactory",function(e,t,n,a){var r,o={EVT_SYNCH_TOKEN:a.generateSyncId()};this.getVirtualCardsPreference=function(){if(!r){var a=t.kVirtualCards.apiUrl+"/user";r=e.all(a).customGET("",{},o).catch(function(e){throw r=null,n.createEaseException({module:"VirtualCards utils",function:"VirtualCards.getVirtualCardsPreference",message:e.statusText,cause:e})})}return r};var s,i={Accept:t.requestHeaders.jsonContentTypeV2,EVT_SYNCH_TOKEN:a.generateSyncId()};this.getPaymentCardDataPreference=function(){if(!s){var a=t.kVirtualCards.apiUrl+"/primarycards?light=true";s=e.all(a).customGET("",{},i).catch(function(e){throw s=null,n.createEaseException({module:"VirtualCards utils",function:"VirtualCards.getPaymentCardDataPreference",message:e.statusText,cause:e})})}return s}}]).service("entitlementsSummaryService",["EaseConstant","EaseCoreRestangularEdge","featureToggleFactory","$q",function(e,t,n,a){var r=null,o=null;this.getEntitlementsSummaryData=function(e){return null===r&&(r=s(e)),r},this.getPrimaryPaymentAccountEligibility=function(){return o};var s=function(r){return a(function(a,o){return n.initializeFeatureToggleData().then(function(n){if(n[e.features.retrieveEntitlementsSummary]){var s=__assign({Accept:e.requestHeaders.jsonContentTypeV3},r);return t.all(e.kGetEntitlementsSummary).customGET("",{},s).then(function(e){return e&&e.entries?(i(e),a(e)):(c(),o())},function(){return c(),o()})}return c(),o()},function(){return c(),o()})})},i=function(t){return t.entries.some(function(t){var n=_.findIndex(t.entitlements,function(t){return t.targetedActionCode===e.customerSettings.settings.targetedActionCodePrimaryEligible});return o=n>=0&&t.entitlements[n].targetedActionDecision===e.customerSettings.settings.targetedActionDecision},function(){return!1})},c=function(){o=!1}}]).service("detectBrowser",["$window",function(e){this.browsers=function(){var t=e.navigator.userAgent.toLowerCase(),n=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile|crios/i.test(t),a=null;t.indexOf("edge")>-1?a="Edge":t.indexOf("opr")>-1?a="Opera":t.indexOf("chrome")>-1?a="Chrome":t.indexOf("firefox")>-1&&(a="Firefox");var r="Chrome"===a||"Firefox"===a,o={windows:"windows",linux:"linux",macintosh:"mac",android:"android","like mac":"ios"},s=Object.keys(o).find(function(e){return t.indexOf(e)>-1}),i=e.navigator,c=i.maxTouchPoints,l=i.msMaxTouchPoints,u=c>0||l>0;return{userAgent:e.navigator.userAgent,isMobile:n,isChromeOrFirefox:r,browserType:a,osType:s?o[s]:"other",hasTouchScreen:u}}}]).factory("NotifyingService",["$q","Restangular","EaseConstant","easeExceptionsService","$log",function(e,t,n,a,r){function o(a,r){for(var o=[],s={},i=n.cacheRefresh[a],c=0,l=i.length;c<l;c++){var u=i[c];t.setBaseUrl(n.baseUrl);var d=t.all(u),p=d.post(s);o.push(p)}var f=e.all(o);return r?f.then(r):f}var s=function(){return t.all(n.cacheRefresh.core).post({})};return{subscribe:function(e,t){r.log("eventName eventName "+e)},notify:o,bustCoreOLCache:s}}]).factory("appCookie",["EaseCoreRestangular","EaseConstant","$q","$log",function(e,t,n,a){var r=function(e,t,n){var a=new Date,r="";n>0&&(a.setTime(a.getTime()+24*n*60*60*1e3),r="; expires="+a.toUTCString()),document.cookie=e+"="+encodeURIComponent(t)+r+"; path=/; domain=.capitalone.com"},o=function(e){var t=e+"=";if(document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}else a.warn("appCookie.read - document.cookie not defined when trying to get",e);return null},s=function(e){r(e,"",-1)},i=function(e){document.cookie=e+"=; path=/; domain=.capitalone.com; expires=Thu, 01 Jan 1970 00:00:01 GMT"},c=function(n){return e.all(t.kCookieUrl).customGET("",{name:n},{"Content-Type":"application/json"}).then(function(e){return e[n]?(n===t.cookies.kProfRefIdCookie&&(d=e[n]),"object"==typeof e[n]&&(e[n]=_.mapKeys(e[n],function(e,t){return t.toLowerCase()})),e[n]):null}).catch(function(){return null})},l=function(e){var t=n.defer();return null===d?c(e).then(function(e){e?(d=e,t.resolve(decodeURIComponent(d))):t.resolve(null)}):t.resolve(decodeURIComponent(d)),t.promise},u=function(n){e.all(t.kCookieUrl).customDELETE("",{name:n},{"Content-Type":"application/json"})},d=null;return{create:r,read:o,erase:s,deleteCookie:i,getHttpOnly:c,deleteHttpOnly:u,getProfileRefId:l,profileReferenceIdCookie:d}}]).factory("deviceInfoCookie",["$window",function(e){var t=function(){"createRSACookies_encode"in e&&e.createRSACookies_encode()};return{setCookie:t}}]).factory("coreloader",function(){return n}),s}),define("chatUtils",["angular","require"],function(e,t){"use strict";function n(e,n,a,r){function o(){e._tfsq||(d(),t(["optional!Chat247"],function(){}))}function s(e,t,r,o){n.initializeFeatureToggleData().then(function(n){n&&n[a.features.chat247]&&(u(e,t,r,o),i())})}function i(){var e=5e3;p=r(function(){c()},e,0,!1)}function c(){u("page",{tfsLogin:"True"},"heartbeat")}function l(){r.cancel(p),u("page",{tfsLogin:"False"},"heartbeat")}function u(t,n,a,r){e._tfsq&&e._tfsq.push([t,n,a,r])}function d(){e._tfsq=[]}var p;return{initiateChat:o,setChatData:s,deleteChatData:d,sendHeartBeatCheck:c,stopHeartBeatCheck:l}}e.module("easeAppUtils").service("ChatService",n),n.$inject=["$window","featureToggleFactory","EaseConstant","$interval"]}),define("customerPlatformDetailsUtils",["angular"],function(e){"use strict";function t(e,t,n,a,r,o,s){function i(){return l}function c(){var e=a.defer();if(l.fromServer)e.resolve(l);else{var i=t.one(n.kGetPlatformDetails);i.get().then(function(t){var n=t&&t.customerPlatform?t.customerPlatform.replace(/,/g,"|"):"";s.pubsubTrackAnalytics({accountAction:n}),l=t,e.resolve(t),o.log("Customer Platform Rest call Success"),r.$emit("customerPlatFormReady",t)}).catch(function(t){e.reject(),r.$emit("customerPlatFormReady",null),o.error("Customer Platform Rest call Failure - "+t.statusMessage)})}return e.promise}var l={customerPlatform:""},u={getCustomerPlatformData:i,initializeCustomerPlatform:c};return u}e.module("easeAppUtils").factory("customerPlatformDetailsFactory",t),t.$inject=["Restangular","EaseCoreRestangular","EaseConstant","$q","$rootScope","$log","pubsubService"]}),define("displayModals",["angular"],function(e){e.module("easeAppUtils").factory("displayModal",["$q","$ocLazyLoad","EaseModalService","easeTemplates","easeFiles","pubsubService",function(e,t,n,a,r,o){return{addExternalPayment:function(){t.load([r.get("controller","UMMPayment"),r.get("services","UMMPayment"),r.get("directives","UMMPayment")]).then(function(e){o.pubsubTrackAnalytics({name:"add payment account:button"}),n(a.get("UMMPayment","","addExternalAcc"),{})})},displayAddExtAccountSuccess:function(){n(a.get("UMMPayment","","addExternalAccSuccess"),{})}}}])}),define("exposeInternalStateDecorator",["easeUtils"],function(e){"use strict";function t(e){e.decorator("parent",function(e,t){return e.self.$$state=function(){return e},t(e)})}e.config(t),t.$inject=["$stateProvider"]}),define("featureToggleUtils",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function t(e,t,n,a,r,o,s){this.$q=e,this.EaseCoreRestangular=t,this.EaseConstant=n,this.EASEUtilsFactory=a,this.$log=r,this.languagePreferencesFactory=o,this.$rootScope=s,this._requestInProgress=!1,this._featureToggleData={},this._coafFeatureToggleData={},this._featuresObject={},this._isValidRegistryResponse=!1,this._headers={CoreHeaders:{appversion:this.EaseConstant.requestHeaders.appVersion,appname:this.EaseConstant.requestHeaders.featureRegistryCoreApp,Device:this.EaseConstant.requestHeaders.featureRegistryWeb,Accept:this.EaseConstant.requestHeaders.jsonContentTypeV1},CoafHeaders:{appversion:this.EaseConstant.requestHeaders.appVersion,appname:this.EaseConstant.requestHeaders.featureRegistryCoafApp,Device:this.EaseConstant.requestHeaders.featureRegistryWeb,Accept:this.EaseConstant.requestHeaders.jsonContentTypeV1}}}return t.prototype.getFeatureToggleData=function(e){return e?this._coafFeaturesData():this._featureToggleData},t.prototype.initializeFeatureToggleData=function(){var e=this,t=this.$q.defer();if(this._featureToggleData.fromServer)t.resolve(this._featureToggleData);else if(this._requestInProgress)var n=this.$rootScope.$on("featureToggleReady",function(){n(),t.resolve(e._featureToggleData)});else this._requestInProgress=!0,this.EaseCoreRestangular.all(this.EaseConstant.kFeatureRegistryUrl).customGET("",{},this._headers.CoreHeaders).then(function(n){e._isValidRegistryResponse=n&&n.plugins&&n.pluginsIneligible,e._isValidRegistryResponse?(e._featureToggleData=e._formatPlugins(n),e._featureToggleData.fromServer=!0,e.$rootScope.$emit("featureToggleReady"),t.resolve(e._featureToggleData)):e._featureToggleFallback()},function(n){return e._handleErrors(e._headers.CoreHeaders,n,t).then(function(e){t.resolve(e)})});return t.promise},t.prototype._coafFeaturesData=function(){var e=this,t=this.$q.defer();return this._coafFeatureToggleData.fromServer?t.resolve(this._coafFeatureToggleData):(this._requestInProgress=!0,this.EaseCoreRestangular.all(this.EaseConstant.kFeatureRegistryUrl).customGET("",{},this._headers.CoafHeaders).then(function(n){e._isValidRegistryResponse=n&&n.plugins&&n.pluginsIneligible,e._isValidRegistryResponse?(e._coafFeatureToggleData=e._formatPlugins(n),e._coafFeatureToggleData.fromServer=!0,t.resolve(e._coafFeatureToggleData)):t.reject()},function(n){return e._handleErrors(e._headers.CoafHeaders,n,t)})),t.promise},t.prototype._formatPlugins=function(e){var t=this;return this._featuresObject={},e.plugins.forEach(function(e){t._featuresObject[e.id]=!0}),e.pluginsIneligible.forEach(function(e){t._featuresObject[e.id]=!1}),this._featuresObject},t.prototype._handleErrors=function(e,t,n){return this.$log.error(t),e===this._headers.CoafHeaders?n.reject():this._featureToggleFallback()},t.prototype._featureToggleFallback=function(){var t=this,n=this.$q.defer(),a=this.languagePreferencesFactory.getCurrentLocale().toLowerCase(),r=a.replace(/en|es|fr/g,"").replace(/-/g,"_").toLowerCase(),o="featureToggleFallback"+r+".js",s=""+this.EaseConstant.featureToggleFB+o;return e(["angular",s],function(e,a){a.fromServer=!0,t._featureToggleData=a,t.$rootScope.$emit("featureToggleReady"),n.resolve(t._featureToggleData)},this),n.promise},t.$inject=["$q","EaseCoreRestangular","EaseConstant","EASEUtilsFactory","$log","languagePreferencesFactory","$rootScope"],t}();n.module("easeAppUtils").service("featureToggleFactory",a)});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("harmonyAccountSetup-constants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a;!function(e){e.CONTACTINFO="contactInfo",e.PAPERLESS="paperless",e.ACTIVATION="activation",e.SETPIN="setPin"}(a||(a={})),t.HarmonySteps=a;var r;!function(e){e.INTRXN="INTRXN",e.PAYDUE="PAYDUE",e.PAYPST="PAYPST",e.PSTDUE="PSTDUE"}(r||(r={})),t.CanadianAlerts=r;var o;!function(e){e.Active="ACT",e.Email="EML"}(o||(o={})),t.EmailContactPoint=o;var s;!function(e){e.CanadianPaperless="CAPPRLSS"}(s||(s={})),t.StepCode=s;var i;!function(e){e.NAME="InterContent",e[e.MAXMESSAGES=5]="MAXMESSAGES"}(i||(i={})),t.MessagePlacement=i;var c={isMandatory:!0,productTypeCode:null,productName:"",url:null,applicationData:{placement:"ftux"},accountReferenceId:null,resultData:null,isProfileLevel:!1,completionStatus:null},l={mobileDnl:__assign({},c,{stepCode:"MOBDNL",validatorCode:"MOBDNL",productTypeCode:"CC",order:10,applicationData:null,campaignCode:"TSTPACCT",resultData:[],status:"Show"}),emailContactInfo:__assign({},c,{stepCode:"PRMEMAIL",validatorCode:"PRMEMAIL",order:2,campaignCode:"TSTPACCT",resultData:null,status:"Show",isProfileLevel:!0,completionStatus:"Autocompleted"})};t.AncilliaryStepObjects=l;var u=(n={},n[a.ACTIVATION]=__assign({},c,{stepCode:"CCACTCRD",validatorCode:"CCACTCRD",productTypeCode:"CC",order:4,campaignCode:"TSTPACCT",status:"Show"}),n[a.PAPERLESS]=__assign({},c,{stepCode:"CAPPRLSS",validatorCode:"CAPPRLSS",productTypeCode:"CC",order:2,campaignCode:"TSTPACCT",status:"Show"}),n[a.CONTACTINFO]=__assign({},c,{stepCode:"TCPAPHN",validatorCode:"TCPAPHN",order:1,campaignCode:"TSTPACCT",resultData:[],status:"Show",isProfileLevel:!0}),n[a.SETPIN]=__assign({},c,{stepCode:"SETPIN",validatorCode:"SETPIN",order:3,campaignCode:"TSTPACCT",resultData:[],status:"Show"}),n);t.HarmonyStepObjects=u});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("harmonyAccountSetupUtils",["require","exports","angular","./harmonyAccountSetup-constants"],function(e,t,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,o,s,i,c,l){this.featureToggleFactory=e,this.messagingService=t,this.EaseConstant=n,this.$q=r,this.EASEUtilsFactory=o,this.$log=s,this.stepService=i,this._=c,this.EaseCoreRestangular=l,this.emailStep=a.AncilliaryStepObjects.emailContactInfo,this.isInitialized=!1,this.pageContext="frontbookend",this.messageLayout="show_copy",this.mobileDnlStep=a.AncilliaryStepObjects.mobileDnl,this.stepCodes=a.HarmonyStepObjects,this.enrollInCaAlerts=!1}return e.prototype.start=function(){var e=this;return this.isHarmonyAsuEnabled()?this.getHarmonySteps().then(function(t){var n=[];if(t&&t.interContentMessages&&(e.enrollInCaAlerts=Object.keys(t.interContentMessages).indexOf(a.HarmonySteps.CONTACTINFO)>-1,n=e.createStepsArray(t.interContentMessages)),e.canStartHarmonyAsu(n)){e.isInitialized=!0;var r=[];r.push(e.stepService.launchHarmonyAsu(n));var o=n.filter(function(e){return e.stepCode===a.StepCode.CanadianPaperless&&e.accountReferenceId});return e._.isEmpty(o)||r.push(e.subscribeToCaAlerts(o[0].accountReferenceId)),e.$q.all(r)}}):(this.$log.info("harmony asu is disabled"),this.$q.when())},e.prototype.subscribeToCaAlerts=function(e){var t=this;return this.getCaAlerts(e).then(function(n){var r=n&&n.entries.alertSubscription?n.entries.alertSubscription:[];return t.$q.all(r.map(function(n){if(void 0!==a.CanadianAlerts[n.alertTypeCode]){var r=t.alertsEmailEligible(n.eligibleContactPoints);if(r)return n=t.updateAlertsObject(n,r),t.postCaAlerts(e,n).catch(function(e){t.$log.error("Error subscribing to canadian alerts: "+JSON.stringify(e)+".")})}}))}).catch(function(e){t.$log.error("Error getting autosubscription alerts: "+JSON.stringify(e))})},e.prototype.updateAlertsObject=function(e,t){return e.eligibleContactPoints.contactPointSummary[0].contactPointId=t,e.alertFrequency.alertDaysInAdvance.alertDaysInAdvanceValue=e.alertFrequency.alertDaysInAdvance.usableIndicator?e.alertFrequency.alertDaysInAdvance.alertDaysInAdvanceValue:5,e.subscribedIndicator=!0,e.sendToContactPoints?e.sendToContactPoints.contactPointSummary[0].checked=!0:e.sendToContactPoints={contactPointSummary:[{alertDestination:e.eligibleContactPoints.contactPointSummary[0].alertDestination,contactPointId:t,contactPointStatus:a.EmailContactPoint.Active,destinationType:a.EmailContactPoint.Email,checked:!0}]},e},e.prototype.alertsEmailEligible=function(e){var t=e.contactPointSummary.filter(function(e){return e.contactPointStatus===a.EmailContactPoint.Active&&e.destinationType===a.EmailContactPoint.Email});return t[0]?t[0].contactPointId:""},e.prototype.getCaAlerts=function(e){var t=this,n=e?encodeURIComponent(e):"",a={EVT_SYNCH_TOKEN:this.EASEUtilsFactory.getSyncId()};return this.EaseCoreRestangular.one(this.EaseConstant.kAlertsUrl+"/card?accountReferenceId="+n+"&type=Personal").customGET("",{},a).catch(function(e){t.$log.error("Error subscribing to canadian alerts: "+JSON.stringify(e)+".")})},e.prototype.postCaAlerts=function(e,t){var n=this,a=e?encodeURIComponent(e):"",r={EVT_SYNCH_TOKEN:this.EASEUtilsFactory.getSyncId()};return this.EaseCoreRestangular.one(this.EaseConstant.kAlertsUrl+"/card?accountReferenceId="+a).customPOST(t,"",{},r).catch(function(e){n.$log.error("Error posting to canadian alerts: "+JSON.stringify(e)+".")})},e.prototype.canAddStep=function(e){return!(!e.isProfileLevel&&!e.accountReferenceId)},e.prototype.canStartHarmonyAsu=function(e){return!this.isInitialized&&!!e.length},e.prototype.getHarmonySteps=function(){var e=this,t={BUS_EVT_ID:this.EaseConstant.busEvtId.harmonyASU.fetchInterContent,EVT_SYNCH_TOKEN:this.EASEUtilsFactory.generateSyncId()},n=[{messagePlacement:a.MessagePlacement.NAME,numberOfMessages:a.MessagePlacement.MAXMESSAGES}];return this.messagingService.getPersonalizedPageMessages(t,this.pageContext,n,[this.messageLayout]).then(function(t){return e.isValidInterContent(t)?t:{interContentMessages:{}}},function(){return{interContentMessages:{}}})},e.prototype.hasAccountLevelSteps=function(e){return e.some(function(e){return e!==a.HarmonySteps.CONTACTINFO})},e.prototype.isHarmonyAsuEnabled=function(){var e=this.featureToggleFactory.getFeatureToggleData();return e&&e[this.EaseConstant.features.enableHarmonyAsu]},e.prototype.isValidInterContent=function(e){return!!(e&&e.interContentMessages&&Object.keys(e.interContentMessages).length)},e.prototype.getAccountRefId=function(e){void 0===e&&(e={});var t=this._.get(e,".buttons[0].addText","");return t.split(":")[1]},e.prototype.createStepsArray=function(e){var t=this;void 0===e&&(e={});var n=[],r=Object.keys(e);return r.forEach(function(a){var r=e[a],o=t.stepCodes[a];if(o){var s=__assign({},o);s.isProfileLevel||(s.accountReferenceId=t.getAccountRefId(r)),t.canAddStep(s)&&n.push(s)}}),r.indexOf(a.HarmonySteps.CONTACTINFO)>-1&&n.push(this.emailStep),this.hasAccountLevelSteps(r)&&n.push(this.mobileDnlStep),n.sort(function(e,t){return e.order-t.order})},e.$inject=["featureToggleFactory","messagingService","EaseConstant","$q","EASEUtilsFactory","$log","stepService","_","EaseCoreRestangular"],e}();n.module("easeAppUtils").service("harmonyAccountSetupUtils",r)});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)},MessageType;!function(e){e.INTERCONTENT="InterContent",e.BANNER="Banner"}(MessageType||(MessageType={}));var MessageAttributes;!function(e){e.ARTICLE="article",e.SECTION="section",e.OVERRIDETYPE="overRideType",e.PATH="path",e.LINK="link"}(MessageAttributes||(MessageAttributes={}));var HarmonyType;!function(e){e.EMAIL="email",e.PHONE="phone_",e.INCOME="income",e.WORKPHONE="phone_work",e.MOBILEPHONE="phone_mobile",e.HOMEPHONE="phone_home",e.ANY="Any"}(HarmonyType||(HarmonyType={})),define("messageUtils",["angular"],function(e){"use strict";function t(t,n,a,r,o,s,i,c,l,u,d,p,f,g,m,h,v,y){function b(){var e=t.getSummaryData(),a=i.getFeatureToggleData(),r=[],s=[],c=[],l=t.generateSyncId();y.forEach(e.accounts,function(t){var o=[t.referenceId,t.category,"ACTIVE"];if(r.push(o.join("|")),"CC"===t.category&&"Charged Off"!==t.accountStatus&&t.collectionTreatmentCategoryCode){var i=[t.referenceId,d("limitTo")(t.accountNumberTLNPI,"-4"),t.collectionTreatmentCategoryCode];s.push(i.join("|"))}else if("CC"===t.category&&"Charged Off"!==t.accountStatus&&!t.collectionTreatmentCategoryCode&&e.accounts.length>1&&a&&a[n.features.cardDetails]){var u=h.all(n.kGetCreditCardDetailsUrl),p={accountReferenceId:t.referenceId},f={BUS_EVT_ID:n.busEvtId.coreCardDetails,EVT_SYNCH_TOKEN:l};c.push(u.post(p,"",f).then(function(e){if(e.collectionTreatmentCategoryCode){var n=[t.referenceId,d("limitTo")(t.accountNumberTLNPI,"-4"),e.collectionTreatmentCategoryCode];s.push(n.join("|"))}}))}}),o.all(c).then(function(){C(r,s),c=[]})}function C(e,t){var a=c.get("ChatService");l.getProfileRefId(n.cookies.kProfRefIdCookie).then(function(n){var r={tfsProfileReferenceID:n,tfsAcctIdStatusAndProductIdentifier:e,tfsLOB:"Enterprise",tfsSection:"Account Summary",tfsLanguage:u.getCurrentLocale(),tfsLogin:"YES",tfsPageURL:p.location.href,tfsCollectionAcctData:y.isEmpty(t)?"NA":t,tfsSegment:"NA",tfsGroup:"NA",tfsFunction:"NA",tfsUnit:"NA",tfsConversionStage:"NA"};a.setChatData("page",r,"pageload")})}function S(){var e={BUS_EVT_ID:n.busEvtId.acctSummary,EVT_SYNCH_TOKEN:t.getSyncId()},a={accountReferenceIds:[""],customerDateTime:(new Date).toISOString(),pageContext:x.accountSummary,logAsViewed:!0,messagePlacements:[{messagePlacement:O.interPage,numberOfMessages:1},{messagePlacement:O.customerMessage,numberOfMessages:1}]};return h.all(n.kGetMessageUrl).post(a,"",e).then(function(e){var t=e.global,n=t&&Array.isArray(t)&&t.length?t.map(function(e){return e.messageAnalyticsTracker}):[""];q.push.apply(q,n);var a=t.filter(function(e){return e.type===O.customerMessage})[0],r=_(a),o=t.filter(function(e){return e.type===O.interPage})[0],s=o?N(o):null;return{customerMessageData:r,interpageMessageData:s}})}function E(e,t,n){return{accountReferenceIds:null,customerDateTime:(new Date).toISOString(),pageContext:e,logAsViewed:!1,messagePlacements:t,messageLayouts:n}}function A(e){var t=e.filter(function(e){return e.type===MessageType.INTERCONTENT}),n=t?j(t):null,a=e.filter(function(e){return e.type===MessageType.BANNER})[0],r=a?N(a):null;return{interContentMessages:n,bannerMessage:r}}function k(e,t,n){void 0===n&&(n=" ");var a=e.indexOf(n,t);return a===-1?e:e.substr(0,a)+" ..."}function D(e){return e.filter(function(e){return!e.accountMessage||!e.accountMessage.length||["closed","restricted"].indexOf(e.accountMessage[0].level)===-1}).map(function(e){return encodeURIComponent(e.referenceId)})}function T(e){var t=D(e);return{accountReferenceIds:t,customerDateTime:(new Date).toISOString(),pageContext:x.accountSummary,numOfMsgs:1,logAsViewed:!1,messageLayouts:null,messagePlacements:[{messagePlacement:O.accountAction,numberOfMessages:1},{messagePlacement:O.accountMessage,numberOfMessages:1}]}}function _(t){t=t?W(t):__assign({},I);var a=i.getFeatureToggleData(),r=!a||"undefined"==typeof a[n.features.globalMessageFeatureName]||a[n.features.globalMessageFeatureName];if(t&&""===t.message||r===!1)t.showDefaultBgImg=!0;else{t.message=k(t.article.section[0].headline,135);var o=t.article.section[0].button[0];o&&(t.linkingText=o.value,t.path=o.link.path,t.overRideType=e.isDefined(o.overRideType)?o.overRideType:"",t.internalToEase=$(t.overRideType));var s=t.article.section[0].media[0];s&&s.path?t.customBgImgLink=s.path:t.showDefaultBgImg=!0}return t}function P(e){return e&&e.messageLayout===n.retrieveMessageParams.messageLayout.pageOneClick}var w,M,I={message:"",path:"",linkingText:"",internalToEase:!0,messageAnalyticsTracker:"",customBgImgLink:""},L=n.retrieveMessageParams,x=L.pageContext,O=L.messagePlacement,$=function(e){switch(e){case"EXTERNAL":case"INT_COS":case"INT_TRANSITE":return!1;default:return!0}},R=function(e){return e.forEach(function(e,t){var n="",a={},r="";try{var o=e.article.section[0];if(n=o.headline?o.headline:"",r=o.body?o.body:"",o.button.length>0){var s=o.button[0];a.overRideType=s.overRideType?s.overRideType:"",a.value="dismiss"!==s.responseType.toLowerCase()?s.value:void 0,a.linkType=s.link.type,a.path=s.link.path,a.internalToEase=$(a.overRideType)}}catch(t){n=e,a=e,r=e}e.message=n,e.msgLink=a,e.msgBody=r,e.responseUrlHref=e.responseUrlHref?e.responseUrlHref:"",e.messageAnalyticsTracker=e.messageAnalyticsTracker?e.messageAnalyticsTracker:""}),e},U=function(e){var t=e.article.section[0].button[0],n={};return n.action=t.link.path?t.link.path.toLowerCase():"",n.buttonText=t.value?t.value:"",n.textAboveButton=t.addText?t.addText:"",n.responseUrlHref=e.responseUrlHref?e.responseUrlHref:"",n.messageAnalyticsTracker=e.messageAnalyticsTracker?e.messageAnalyticsTracker:"",n},F=function(e){if(e)for(var t=0;t<e.length;t++)if(e[t].type&&"thumbnail"===e[t].type.toLowerCase())return e[t].path;return""},B=function(e,t){if(e)for(var n=0;n<e.length;n++)if(e[n].responseType&&e[n].responseType.toLowerCase()===t)return e[n].value;return""},N=function(e){var t=y.get(e,[MessageAttributes.ARTICLE,MessageAttributes.SECTION,0],{}),n=y.get(t,["media",0],{}),a=t.button;return{headLine:t.headline,subheadline:t.subheadline,iconUrl:n.path||"",body:t.body,responseUrlHref:e.responseUrlHref,messageAnalyticsTracker:e.messageAnalyticsTracker,buttons:a,messageLayout:e.messageLayout,messageStyle:e.messageStyle,messageId:e.messageId,media:t.media,internalToEase:$(y.get(a,[0,MessageAttributes.OVERRIDETYPE],"")),path:y.get(a,[0,MessageAttributes.LINK,MessageAttributes.PATH],""),pageContext:x.accountSummary}},j=function(e){var t={};return e.forEach(function(e){var n=y.get(e,[MessageAttributes.ARTICLE,MessageAttributes.SECTION,0],{}),a=n.button;
t[n.type]={headline:n.headline,subheadline:n.subheadline,body:n.body,responseUrlHref:e.responseUrlHref,messageAnalyticsTracker:e.messageAnalyticsTracker,buttons:a,messageLayout:e.messageLayout,messageStyle:e.messageStyle,messageId:e.messageId,media:n.media,internalToEase:$(y.get(a,[0,MessageAttributes.OVERRIDETYPE],"")),path:y.get(a,[0,MessageAttributes.LINK,MessageAttributes.PATH],""),pageContext:x.accountSummary}}),t},H=function(e,t){var n=e.length?N(e.pop()):null;return n&&(n.pageContext=t),n},V=function(e,t){return e===O.interPage&&t.indexOf("/logout")>-1},W=function(e){var t="";try{var n=e.article.section[0];n.headline?t=n.headline:n.body&&(t=n.body)}catch(n){t=e}return e.messageAnalyticsTracker=e.messageAnalyticsTracker||"",e.message=t,e.responseUrlHref=e.responseUrlHref||"",e},G=[],q=[];return{formatHarmonyPageContent:N,wasInterModalShown:!1,messages:[],messagingReferenceId:"",initGlobalMessages:function(e){return void 0===e&&(e=!1),w&&!e||(w=S()),w},getCustomerMessage:function(){return this.initGlobalMessages().then(function(e){return e.customerMessageData})},getInterstitialMessageOnL1:function(){return this.initGlobalMessages().then(function(e){return e.interpageMessageData})},getPageOneClickInterstitialMessage:function(){return this.initGlobalMessages().then(function(e){return P(e.interpageMessageData)?e.interpageMessageData:null})},getAccountMessagesOnL1:function(){return M},initAccountMessagesOnL1:function(e){var t=T(e);M=this.getMessageApi(t,null,null,null,!1)},getLogoutInterstitialMessage:function(e,t,a){var r={accountReferenceIds:a?a:[""],customerDateTime:(new Date).toISOString(),pageContext:e,logAsViewed:!0,messagePlacements:[{messagePlacement:O.interPage,numberOfMessages:1}]};return h.all(n.kGetMessageUrl).withHttpConfig({timeout:4e3}).post(r,"",t).then(function(t){var n="[0].article.section[0].button[1].link.path";if(t.global.length){var a=t.global,r=y.get(a,n);if(!r)return null;var o=a.filter(function(e){return V(e.type,r)}),s=H(o,e);return s}var i=y.get(t.accounts,[0,"interpageMessage"]),c=y.get(i,n);if(!c)return null;var l=i?i.filter(function(e){return V(e.type,c)}):[],u=H(l,e);return u})},displayInterstitial:function(){return m.current.name===n.states.kAccountSummary&&!this.wasInterModalShown&&!(v.asuBookendStepList&&v.asuBookendStepList.length)&&i.getFeatureToggleData()[n.features.enableInterstitialModal]},chat247:function(){i.getFeatureToggleData()[n.features.chat247]&&b()},getMessageApi:function(e,a,r,s,c){void 0===c&&(c=!0),G=[];var l={BUS_EVT_ID:a||n.busEvtId.acctSummary,EVT_SYNCH_TOKEN:r||t.getSyncId()},u=this;u.messages.length=0;var d=e.customerDateTime,p=e.numOfMsgs,f=e.pageContext,g=e.logAsViewed,m=e.messageLayouts,v=e.messagePlacements,b=e.accountReferenceIds.map(function(e,t){var a={accountReferenceIds:[e],customerDateTime:d,numOfMsgs:p,pageContext:f,logAsViewed:g,messageLayouts:m,messagePlacements:v},r=h.all(n.kGetMessageUrl).withHttpConfig(s);return r.post(a,"",l).then(function(a){var r=u.getFormattedFlapMessage(a,e);r.messagingReferenceId=decodeURIComponent(e);var o=y.get(r,["flapMessages",0,"messageAnalyticsTracker"],""),s=y.get(r,["buttonMessage","messageAnalyticsTracker"],"");return u.messages[t]=r,q.push(o),q.push(s),u.messagingReferenceId=new Date,i.getFeatureToggleData()[n.features.enableInterstitialModal]&&u.setInterstitialMessage(a),a},function(n){u.messages[t]={messagingReferenceId:decodeURIComponent(e),flapMessages:[]},u.messagingReferenceId=new Date})});return o.all(b).then(function(e){return c?e[0]:e})},getInterstitialMessage:function(){return G},getOneClickInterstitialMessage:function(){var e=this.getInterstitialMessage();if(e&&e.length>0&&e[0].path&&e[0].messageLayout&&"modaloneclick"===e[0].messageLayout.toLowerCase()){var t=e[0].path.split("/"),n=e[0].path.substring(e[0].path.indexOf("/",1)+1,e[0].path.lastIndexOf("/")),a=n&&t.length>4?"/"+t[1]+"/"+encodeURIComponent(n)+"/"+t[t.length-1]:e[0].path;return e[0].action=g.getStateFrom(a),e[0].icon=F(e[0].media),e[0].acceptText=B(e[0].buttons,"accept"),e[0].declineText=B(e[0].buttons,"decline"),e[0]}return{}},setInterstitialMessage:function(e){e&&e.accounts&&e.accounts.length&&e.accounts.forEach(function(e){e.interpageMessage&&e.interpageMessage.length&&G.push(N(e.interpageMessage[0]))})},responseMessageApi:function(e,a,r,o,s){var i={};if(o)i.BUS_EVT_ID=o,i.EVT_SYNCH_TOKEN=s||t.getSyncId();else{var c={module:"easeAppUtils",function:"messagingService.responseMessageApi",message:n.busEvtExceptionMesage,cause:n.busEvtExceptionCause};f.error(c)}if("undefined"==typeof e||""===e)return!1;var l=new Date,u=l.toISOString(),d={url:e,action:a||"VIEWED",viewedDateTime:u,pageContext:r||"summary",viewedCount:"1"},p=h.all(n.kGetResponseMessageUrl);p.post(d,"",i).then(function(e){},function(e){f.log(e)})},getDefaultGlobalMessage:function(){return __assign({},I,{showDefaultBgImg:!1})},getTileMessage:function(e,a){var r={BUS_EVT_ID:e,EVT_SYNCH_TOKEN:t.generateSyncId()},o=h.all(n.kGetMessageUrl);return o.post(a,"",r)},getFormattedFlapMessage:function(e,t){var n=[],a={};e&&e.accounts&&e.accounts.forEach(function(e){t===e.accountReferenceId&&(n=e.flapMessage,a=e.subMessage)});var r={accountReferenceId:t,buttonMessage:a.length?U(a[0]):"",flapMessages:n.length?R(n):""};return r},getFlapMessage:function(e){if(this.messages&&this.messages.length){var t=this.messages.filter(function(t){return t.accountReferenceId===e});if(t.length)return t[0]}return{}},getReferenceID:function(e,t,n,a,r,o){return{accountReferenceIds:e?D(e):null,customerDateTime:(new Date).toISOString(),messageLayouts:o,pageContext:n,numOfMsgs:a||1,logAsViewed:r||!1}},generateRequestPayload:function(e,t,n,a,r,o){void 0===a&&(a="AccountSummary"),void 0===r&&(r=!1),void 0===o&&(o=["L1"]);var s={accountReferenceIds:e?D(e):null,customerDateTime:(new Date).toISOString(),numOfMsgs:t,pageContext:a,logAsViewed:r,messageLayouts:o,messagePlacements:n};return s},generateTileMessagePlacement:function(){return[{messagePlacement:"Tile",numberOfMessages:1}]},getAccountData:function(){return m.params&&m.params.accountReferenceId?o.when({accounts:[{referenceId:m.params.accountReferenceId}]}):s.get()},getPersonalizedPageMessages:function(e,t,a,r){var o=E(t,a,r);return h.all(n.kGetMessageUrl).post(o,"",e).then(function(e){var t=e.global;return A(t)})},getLogoPath:function(e,t){return t&&e&&e.media&&e.media[0]&&e.media[0].path?e.media[0].path:"/ease-ui/dist/images/modal-icons/modal-icon-review.svg"},getButtonByIndex:function(e,t){if(e&&Array.isArray(e.buttons)&&e.buttons.length>t)return e.buttons[t]},formatLinkWithPathParams:function(e,t){var n=this;if(t){var a=t.split(","),r=e.split("/");return a.forEach(function(e){var t=e.split(":"),a=t[0],o=t[1],s="{"+a+"}",i=r.indexOf(s);i>-1&&(r[i]=n.encodeSlashes(o))}),r.join("/")}var o=new RegExp("^/Card/[a-zA-Z0-9/+=%]+/offers$"),s=o.test(e);if(s){var i="/Card/",c="/offers",l=e.replace(i,"").replace(c,"");return l=this.encodeSlashes(l),i+l+c}return e},encodeSlashes:function(e){return e.replace(/\//g,"%2F")}}}e.module("easeAppUtils").factory("messagingService",t),t.$inject=["EASEUtilsFactory","EaseConstant","$sessionStorage","$rootScope","$q","summaryService","featureToggleFactory","$injector","appCookie","languagePreferencesFactory","$filter","$window","$log","RoutingUtils","$state","EaseCoreRestangular","stepService","_"]}),define("prefetchUtils",["angular"],function(e){"use strict";function t(e,t,n,a,r,o){function s(n,s){var i=t.prefetchBusinessEvents[n],c=r.generateSyncId(),u=o.getFeatureToggleData()[t.features.enableCardPrefetchMX],d="edge",p=n+"/prefetch";n===t.prefetchCreditCard&&u&&(p=d+"/"+n+"/prefetch"),l=t.prefetchLobGet.indexOf(n)===-1?e.one(p).customPOST(s,"",{},{Authorization:"Basic","Content-Type":"application/x-www-form-urlencoded",BUS_EVT_ID:i,EVT_SYNCH_TOKEN:c}):e.one(p).customGET("",{},{Accept:t.requestHeaders.jsonContentTypeV1,BUS_EVT_ID:i,EVT_SYNCH_TOKEN:c}),l.then(function(){a.log(n+" prefetch ping Success")}).catch(function(e){a.log(n+" prefetch ping Failure - "+e.statusMessage)})}function i(e){var n=!0,a=!1,o=!0,s={};e.forEach(function(e){n&&t.lineOfBusiness.CreditCard===e.category&&"undefined"==typeof e.accountMessage?s[t.prefetchCreditCard]=void 0:o&&t.lineOfBusiness.AutoLoan===e.category&&"undefined"==typeof e.accountMessage?s[t.prefetchAutoLoan]=c(s,t.prefetchAutoLoan,e.referenceId):a&&r.isSmallBusinessBankAccount(e)&&(s[t.prefetchSBBank]=c(s,t.prefetchSBBank,e.referenceId))});for(var i in s)this.initializePrefetch(i,s[i])}function c(e,t,n){var a=[];return t in e&&(a=e[t]),a.push(encodeURIComponent(n)),a}var l="",u={initializePrefetch:s,preFetchLOB:i};return u}e.module("easeAppUtils").factory("prefetchFactory",t),t.$inject=["EaseCoreRestangular","EaseConstant","$q","$log","EASEUtilsFactory","featureToggleFactory"]}),define("easeDateUtils",["angular","easeUtils","moment","moment-timezone"],function(e,t,n,a){function r(){var e={},t=n.tz.zone("America/New_York"),a="YYYY-MM-DDTHH:mm:ss";return e.isToday=function(t){return this.formatMomentForDisplay(t)===e.formatMomentForDisplay(new Date)},e.checkOffsetFromEst=function(e){return t.parse(n())-e.toDate().getTimezoneOffset()},e.isWestOfEST=function(e){return this.checkOffsetFromEst(e)<0},e.isSameDayInEst=function(e){return this.formatMomentForDisplay(this.toEasternTime(e))===this.formatMomentForDisplay(e)},e.toEasternTime=function(e){return n(e).tz(t.name)},e.formatMomentForDisplay=function(e){return n(e).format("ll")},e.createNewMoment=function(r,o){return n.isMoment(r)?o?e.toEasternTime(r):r:o?n.tz(n(r).format(a),t.name):n(r)},e.convertToUtcValue=function(e){return n.utc(e).valueOf()},e.setStartOfDay=function(e){return n.isMoment(e)?e.startOf("day"):n(e).startOf("day")},e.toEasternTimeStartOfDay=function(a){return n(e.setStartOfDay(a)).tz(t.name)},e}var o=e.module("easeAppUtils");o.factory("easeDateUtils",r)}),define("validationUtil",["angular"],function(e){"use strict";var t=e.module("easeAppUtils");t.factory("validationDataService",[function(){var e=/^[a-zA-Z0-9_-]*$/,t=/^(?=[a-zA-Z0-9~@#$^*()_+=[\]{}|\\,.?: -]*$)(?!.*[<>'"/;`%])/,n=/<script>.*(<\/script>?)?/gi;return{getPatternForUserName:function(){return e},getPatterForPassword:function(){return t},isValidUserName:function(t){return e.test(t)},isValidPassword:function(e){return t.test(e)},sanitizeInputData:function(e){return e.replace(n,"")}}}])}),define("commonModule",["angular"],function(e){"use strict";var t=e.module("CommonModule",["EaseProperties","ngSanitize"]);return t.directive("collapseToggle",function(){return{restrict:"A",scope:{model:"=",name:"@",element:"@"},link:function(e,t,n){e.$watch("model",function(t){var n=e.name;$(e.element).collapse("hide"),$(n).collapse("toggle")})}}}).directive("initCollapse",function(){return{restrict:"A",link:function(e,t,n){e.$last&&$(e.toggle.collapseEl).collapse({toggle:!1})}}}).directive("errorMessage",function(){return{restrict:"E",template:'<div class="error-label" role="alert">{{error}}</div><div class="error-summary" ng-repeat="field in fields" role="alert"><p ng-if="field.formControl.$touched && field.formControl.$invalid">{{field.templateOptions.label}} is required.</p></div>',scope:{error:"@",fields:"="}}}).directive("ifImageNotExistDir",function(){return{restrict:"A",scope:{productName:"@",page:"@"},link:function(e,t,n){t.bind("error",function(){var e;"IMG"===this.parentNode.firstElementChild.nodeName?(e=document.createElement("span"),this.parentNode.insertBefore(e,this)):e=this.parentNode.firstElementChild,e.innerHTML=n.productName.trim(),"AccountSummary"===n.page||"undefined"===n.page||void 0===n.page?e.className="headerTruncate":e.className="headerAccDetailTruncate",this.style.display="none"})}}}).directive("brandImage",["$compile","$sanitize",function(e,t){return{replace:!0,restrict:"EA",scope:{elementVal:"="},link:function(n,a,r){var o,s,i,c=n.elementVal,l=function(){var e="undefined"==typeof c.accountNickname&&!!c.imagePath;return e?' <img  page="AccountSummary" if-Image-Not-Exist-Dir alt="{{elementVal.displayName}}" product-Name="{{elementVal.displayName}}" ng-src="{{elementVal.imagePath}}">':(o=c.displayName.length<=21,s=c.displayName.length>=20,i=c.displayName.length>=20?c.displayName.substring(0,20):c.displayName,'<h2 ng-class="{headerTruncateLarge:'+o+",'headerTruncateSmall':"+s+'}">'+t(i)+"</h2>")},u=l();a.append(e(u)(n))}}}]).directive("noPaste",function(){return{link:function(e,t,n){t.on("paste",function(e){e.preventDefault()})}}}).directive("numberOnly",function(){return{restrict:"A",link:function(e,t,n){t.on("keypress",function(e){var t="number"==typeof e.which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))||void(e.metaKey||e.ctrlKey||e.preventDefault())})}}}).directive("autofocus",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n[0].focus()},500)}}}]).directive("loadMoreTransactions",function(){return{restrict:"E",scope:!1,link:function(e,t,n){e.label=n.label},template:'<button id ="loadMoreBtn" aria-describedby = {{label}} class ="load-more-transaction-btn">{{label}}</button>'}}).directive("clickButtonOnce",["$timeout","EaseConstant",function(e,t){var n=500;return{restrict:"A",priority:-1,link:function(a,r){function o(a){a.keyCode!==t.keyCodes.TAB&&a.keyCode!==t.keyCodes.SHIFT&&(a.keyCode!==t.keyCodes.ENTER&&a.keyCode!==t.keyCodes.SPACE_BAR||r.triggerHandler("click"),s?(a.preventDefault(),a.stopImmediatePropagation()):(s=!0,e(function(){s=!1},n,!1)))}var s=!1;a.$on("$destroy",function(){r.off("click keydown",o)}),r.on("click keydown",o)}}}]).directive("inlineLinkClick",["pubsubService",function(e){return{restrict:"A",link:function(t,n){n.on("click",function(t){"A"===t.target.tagName&&e.pubsubTrackAnalytics({name:"inline:link"})})}}}]).directive("validateAmount",["$document","EaseConstant",function(t,n){return{restrict:"A",scope:{displaymsg:"&",isValid:"=isValid",isInstant:"="},link:function(a,r){r.bind("keyup",function(){var o,s=parseFloat(e.element(t[0].getElementById("amountId")).text().replace(/[^\d.,]/g,""));o="$"===this.value.charAt(0)?this.value.substr(1,this.value.length):this.value;var i=/\d*\.?\d\d?/g;if(o.match(/\d*\.\d{1,3}/)){if(o.indexOf(".")!==-1){var c=o.split(".")[1];parseFloat(c)>0&&(this.value=Math.round(100*o)/100)}this.value="$"+i.exec(o)}s<parseFloat(o)&&a.isInstant||parseFloat(o)>n.kTransferAmountUpperBound?(r.addClass("shake"),a.isValid=!1,a.displaymsg({showError:!0,amount:parseFloat(o),availableBalance:s})):parseFloat(o)<n.kTransferAmountLowerBound?(r.addClass("shake"),a.isValid=!1,a.displaymsg({showError:!0,amount:parseFloat(o),availableBalance:s})):""===o||parseInt(o)<0?(this.value="",a.displaymsg({showError:!1,amount:parseFloat(o),availableBalance:s}),a.isValid=!1,r.removeClass("shake")):(r.removeClass("shake"),a.displaymsg({showError:!1,amount:parseFloat(o),availableBalance:s}),a.isValid=!0)}),r.bind("keydown",function(e){var t=e.which?e.which:e.keyCode;return(46===t||8===t)&&this.value.indexOf(".")===-1||t>=48&&t<=57||t>=96&&t<=105||9===t||8===t||190===t||110===t?(""===this.value&&(this.value="$"+this.value),!0):(e.stopPropagation(),e.preventDefault(),!1)}),r.bind("blur",function(){var e;if(e="$"===this.value.charAt(0)?this.value.substr(1,this.value.length):this.value,!isNaN(parseFloat(e).toFixed(2))&&parseFloat(e)>=n.kTransferAmountLowerBound)this.value="$"+parseFloat(e).toFixed(2),a.isValid=!0;else{this.value="",a.isValid=!1;var t=e;a.displaymsg({showError:!0,amount:parseFloat(t)})}})}}}]).directive("focusOnModalClose",["$rootScope","$document","$timeout","EASEUtilsFactory","$uiViewScroll","EaseConstant",function(e,t,n,a,r,o){return{restrict:"A",scope:{returnToPageEvent:"@",nonFocusableElement:"@"},link:function(s,i,c){function l(){a.elementTriggeringModal=p}function u(e){var t=e.which||e.charCode;t!==o.keyCodes.ENTER&&t!==o.keyCodes.SPACE_BAR||(a.elementTriggeringModal=p)}function d(e){r(i)}var p;c.$observe("id",function(e){p=e}),i.on("click",l),i.on("keypress",u);var f=e.$on(s.returnToPageEvent,function(e,r){a.elementTriggeringModal&&a.elementTriggeringModal===p&&(r?n(function(){s.nonFocusableElement?d(p):t[0].getElementById(p).focus()}):s.nonFocusableElement?d(p):i[0].focus())}),g=e.$on("deletingEmail",function(){a.elementTriggeringModal&&a.elementTriggeringModal===p&&n(function(){var e=p.substring(0,p.length-1)+(p.slice(-1)-1);t[0].getElementById(e).focus()})});s.$on("$destroy",function(){f(),g(),i.off("click",l),i.off("keypress",u)})}}}]).directive("keypressHandler",["EaseConstant",function(e){return{restrict:"A",link:function(t,n,a){n.bind("keypress",function(t){t.keyCode===e.keyCodes.ENTER&&n.triggerHandler("click",function(){})})}}}]).directive("localizedClick",["$rootScope",function(e){function t(e,t,n){var a="localizedClick";t.on("click",function(){var t=n[a];e.$eval(t),e.$digest()})}return{restrict:"A",link:t}}]).directive("localizeLinks",["$sanitize","$interpolate",function(e,t){return{restrict:"A",link:function(n,a,r){function o(e){var t=new RegExp("^"+e+"\\d+$","i");return s.filter(function(e){return t.test(e)}).sort()}var s=Object.keys(r),i=t(a.text())(n),c=[],l=[],u=r.newTab;if(c=o("link"),l=o("text"),c.length===l.length){for(var d=0;d<c.length;d++){var p=e(r[c[d]]),f=e(r[l[d]]),g='<a href="'+p+'"> '+f+" </a>",m='<a target="_blank" rel="noopener noreferrer" href="'+p+'">'+f+"</a>",h="true"===u?m:g;i=i.replace("{"+d+"}",h)}a.html(i)}}}}]),t}),define("commonServices",["angular","commonModule"],function(e,t){function n(e,t){function n(n){var a={retrieveInternalAccount:"External"};return e.getMoneyMovementAccounts(n||t.busEvtId.moneyMovementAccount,a)}return{retrieveExternalAccounts:n}}t.factory("getExternalAccountsFactory",n),n.$inject=["EASEUtilsFactory","EaseConstant"]});var StateHistoryService=function(){function e(){this.stateHistory=[]}return e.prototype.generateDetailList=function(){var t=[];try{for(var n=0;n<this.stateHistory.length;n++)if("start"!==this.stateHistory[n].eventType||n===this.stateHistory.length-1){var a=this.stateHistory[n].eventType+" "+this.stateHistory[n].from.name+"->"+this.stateHistory[n].to.name+";";"error"===this.stateHistory[n].eventType&&(a+="Error: "+this.stateHistory[n].error+";"),this.stateHistory[n].fromParams&&(a+="fromParams: "+JSON.stringify(this.stateHistory[n].fromParams).replace(e.acctNumRegex,'"accountNumber":"X"')+";"),this.stateHistory[n].toParams&&(a+="toParams: "+JSON.stringify(this.stateHistory[n].toParams).replace(e.acctNumRegex,'"accountNumber":"X"')+";"),t.push(a)}}catch(e){t.push("Error generating state details "+e.name+":"+e.message)}return t},e.prototype.push=function(e,t,n,a,r,o,s){var i={eventType:e,event:t,to:n,toParams:a,from:r,fromParams:o,error:s};this.stateHistory.push(i)},e.acctNumRegex=/"accountNumber":"[0-9]*"/gi,e}(),ServerSideLoggerService=function(){function e(e,t){this.stateHistoryService=e,this.$injector=t,this.url="edge/Bank/log/errors",this.exceptionsMap={}}return e.prototype.log=function(e,t,n){if(!(t in this.exceptionsMap)){Object.keys(this.exceptionsMap).length>100&&(this.exceptionsMap={}),this.exceptionsMap[t]=!0;for(var a=n||{},r=this.stateHistoryService.generateDetailList(),o=0;o<r.length;o++)a["State"+o]=r[o];var s={description:t,category:e,attributes:a},i=this.$injector.get("Restangular");if(i){var c=i.all(this.url);c.post(s,{},{Accept:"application/json;v=1","Content-Type":"application/json;v=1",disableErrorInterceptor:!0}).then(function(){console.log("ServerSideLoggerService sent")},function(e){console.log("ServerSideLoggerService publish error"+e)})}}},e.$inject=["stateHistoryService","$injector"],e}();define("errorCaptureModule",["angular"],function(e){var t=e.module("errorCaptureModule",["ui.router"]);t.service("stateHistoryService",StateHistoryService),t.service("serverSideLoggerService",ServerSideLoggerService),t.run(["stateHistoryService","$rootScope",function(e,t){t.$on("$stateChangeSuccess",function(t,n,a,r,o){e.push("success",t,n,a,r,o)}),t.$on("$stateChangeStart",function(t,n,a,r,o){e.push("start",t,n,a,r,o)}),t.$on("$stateChangeError",function(t,n,a,r,o,s){e.push("error",t,n,a,r,o,s)})}])});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("pubsubServiceModule",["angular"],function(e){"use strict";var t=e.module("pubsubServiceModule",["EaseLocalizeModule","errorCaptureModule"]).factory("pubsubService",["$window","languagePreferencesFactory","$log","coreloader","$injector","serverSideLoggerService","_",function(e,t,n,a,r,o,s){function i(e,t,n){return"trackAnalytics"===e&&s.get(t,"taxonomy.level1",null)&&!n}var c,l,u={start:""},d=function(e){c=e},p=function(){return c},f=function(){return l},g=function(e){l=e},m=function(a,r,o){u.start||(u.start=t.getCurrentLocale(),r.selfService=u),i(a,r,o)&&d(r);try{if("login"===r.scDLLevel2&&"undefined"==typeof e.publisherFW)var s=setInterval(function(){try{e.publisherFW.publishEvent(a,r),clearInterval(s)}catch(e){n.error("there is error in pubsub framework: "+e)}},300);else e.publisherFW.publishEvent(a,r)}catch(e){n.error("there is error in pubsub framework: "+e)}},h=function(){return"us"},v=function(){return"english"},y=function(e,t){var o=e.levels,s=void 0===o?[]:o,i=e.otherProps,c=void 0===i?{}:i,u=e.noCache,d=void 0!==u&&u,p=e.lobs,f=void 0===p?null:p;void 0===t&&(t=!1);var g=r.get("summaryService");"ease"===s[0]&&n.warn('"ease" is automatically added as level1 in the taxonomy, please start levels array with level2');var m=t&&l&&l.pageViewObject?l.pageViewObject.levels.concat(s):s;b(__assign({taxonomy:{level1:"ease",level2:m[0]||"",level3:m[1]||"",level4:m[2]||"",level5:m[3]||"",country:h(),language:v(),system:a.getSiteCatalystSystem()},lob:f||g.getLobArray().join(" | ")},c),d)},b=function(e,t){return void 0===t&&(t=!1),m("trackAnalytics",e,t)},C=function(e){var t=e.levels,n=void 0===t?[]:t,a=e.otherProps,r=void 0===a?{}:a,o=c.taxonomy,i=(o.level1,o.level2),l=o.level3,u=o.level4,d=o.level5,p=[i,l,u,d],f=s.findLastIndex(p,function(e){return""!==e}),g=p.slice(0,f+1).concat(n);y({levels:g,otherProps:r,noCache:!0})},S=function(e){var t=e.levels,n=void 0===t?[]:t,a=e.otherProps,r=void 0===a?{}:a,o=c.taxonomy,i=(o.level1,o.level2),l=o.level3,u=o.level4,d=o.level5,p=[i,l,u,d],f=s.findLastIndex(p,function(e){return""!==e}),g=p.slice(0,f).concat(n);y({levels:g,otherProps:r,noCache:!0})};return{getLastPageView:p,setLastPageView:d,getCurrentParent:f,setCurrentParent:g,pageView:y,childPageView:C,siblingPageView:S,pubsubTrackAnalytics:b,selfService:u,pubsubTiming:function(e,t,n,a){m("timing",{timingCategory:e,timingVar:t,timingValue:String(n),timingLabel:a})},pubsubError:function(e,t){void 0===e&&(e=""),void 0===t&&(t=!1),e.match(/ServerSideLoggerService/i)||e.match(/languageToggleService/)||(m("error",{exceptionDescription:e,isFatal:String(t)}),o.log("PubsubError",e))},pubsubPageView:function(e){m("pageView",e)},pubsubLinkClick:function(e){m("linkClicked",e)},pubsubNavClick:function(e){m("navClicked",e)},pubsubButtonClick:function(e){m("buttonClicked",e)},pubsubformfieldClick:function(e){m("formfieldClicked",e)},pubsubDrawerClose:function(e){m("drawerClose",e)},pubsubDrawerOpen:function(e){m("drawerOpen",e)},pubsubCarouselClicked:function(e){this.pubsubTrackAnalytics(e)},pubsubDropdownSelected:function(e){m("dropdownSelected",e)}}}]);return t}),define("UniversalTranslate",["angular"],function(e){"use strict";e.module("UniversalTranslateModule",[]).factory("UniversalTranslate",["$http","$q","$rootScope",function(t,n,a){function r(e){this.locales={},this.name=e,this.load=!0,this.isFlatFile=!1,this.url=""}function o(a){a.baseUrl=a.baseUrl||"",e.isUndefined(d)&&(d=n.defer());var r=[],o=a.key,s=i(o);if(c())if(u){var p=void 0,g=[];for(var m in f)p=f[m],p.load===!0?(p.load=!1,g.push(t.get(l(p,a)))):r.push(p.locales[o]);n.all(g).then(function(e){for(var t=0;t<s.length;t++)s[t].locales[o]=e[t].data,s[t].load=!1,r.push(e[t].data);d.resolve(r)},function(){d.reject(a.key)})}else{for(var m in f)r.push(f[m].locales[o]);d.resolve(r)}else d.resolve();return d.promise}function s(t){function o(e){f[e.name]||(f[e.name]=new r(e.name)),f[e.name].url=e.url,f[e.name].isFlatFile=e.flatFile||!1}return d=n.defer(),e.isArray(t)?t.map(o):o(t),a.$emit("$translatePartialLoaderStructureChanged"),d.promise}function i(e){var t=[];u=!1;for(var n in f)f[n].locales[e]||(f[n].load=!0),f[n].load===!0&&t.push(f[n]);return t.length>0&&(u=!0),t}function c(){for(var e in f)if(f.hasOwnProperty(e))return!0;return!1}function l(e,t){var n=new RegExp("\\{part\\}","g"),a=new RegExp("\\{locale\\}","g"),r=e.isFlatFile?e.url+m:t.baseUrl+e.url+g;return r=r.replace(n,e.name),r=r.replace(a,t.key)}var u,d,p=o,f={},g="?feature={part}&lang={locale}",m="/{part}-{locale}.json";return p.load=s,p.createUT=o,p._getPartsToLoad=i,p._hasParts=c,p._buildUrl=l,p}])}),define("easeDropdownModule",["angular"],function(e){"use strict";var t=e.module("easeDropdownModule",["EaseProperties","pubsubServiceModule","easeAppUtils"]);return t.directive("amountPay",["$document","EASEUtilsFactory",function(t,n){return{restrict:"A",scope:{service:"="},link:function(a,r,o){r.bind("keyup",function(){var r=e.element(t[0].getElementById("amountId")).text(),o=/\d*\.?\d\d?/g;if(this.value.match(/\d*\.\d{1,3}/)){if(this.value.indexOf(".")!==-1){var s=this.value.split(".")[1];parseFloat(s)>0&&(this.value=Math.round(100*this.value)/100)}this.value=o.exec(this.value)}a.$emit("EASE_DD_DISPLAY_MSG",a.service.isOtherAmountValid(this.value));var i=e.element(this.nextElementSibling);""!==this.value?i.removeClass("gray"):i.addClass("gray");var c="$"+this.value+" exceeds account balance, if you proceed, transfer money later to avoid overdraft.";parseFloat(r)<parseFloat(this.value)?n.DisplayTooltip(!0,c):n.DisplayTooltip(!1)}),r.bind("keypress",function(e){var t=e.which?e.which:e.keyCode;return(46==t||8==t)&&this.value.indexOf(".")===-1||t>=48&&t<=57||(e.stopPropagation(),e.preventDefault(),!1)}),r.on("$destroy",function(){a.$destroy()})}}}]),t.directive("easeDropdown",["$document","$rootScope","pubsubService","EaseConstant","$timeout",function(t,n,a,r,o){return{restrict:"AE",templateUrl:"/ease-ui/dist/partials/dropdown.html",scope:{type:"=",localize:"=",selectedItem:"=?bindData",labelTxt:"=?",isValid:"=",focus:"=",service:"=",widgetId:"=",labelId:"=",noPlaceHolder:"=",watchRelatedDd:"=",defaultItemIndex:"=",lengthItem:"@"},link:function(s,i,c){c.lengthItem=c.lengthItem||r.kDefaultLengthForDropDownItem;var l=e.element(i[0].firstElementChild),u=e.element(i[0].lastElementChild),d=e.element(t[0].getElementsByTagName("ease-dropdown"));"undefined"==typeof s.widgetId&&(s.widgetId=s.type);var p=function(){return"undefined"!=typeof s.noPlaceHolder&&s.noPlaceHolder?("amountDd"===s.type&&(s.selectedItem=null),!1):void("undefined"!=typeof s.defaultItemIndex?s.selectedItem=s.dropdownSelect[s.defaultItemIndex]:s.service.getSelectedIdx?s.selectedItem=s.dropdownSelect[s.service.getSelectedIdx(s.widgetId)]:s.selectedItem=s.dropdownSelect[0])};s.isDropdownOpen=!1,s.dropdownSelect=s.service.getData(s.widgetId),p(),1===s.dropdownSelect.length?o(function(){n.$broadcast("EASE_DD_ITEM_SELECTED",{type:s.widgetId,item:s.dropdownSelect[0],init:!0})},100):o(function(){n.$broadcast("EASE_DD_ITEM_SELECTED",{type:s.widgetId,item:s.selectedItem,init:!0})},100),s.$watch(s.service.isDataChanged,function(e,t){e!==t&&(s.dropdownSelect=s.service.getData(s.widgetId),p(),n.$broadcast("EASE_DD_ITEM_SELECTED",{type:s.widgetId,item:s.selectedItem}))}),s.initWidget=!0,"undefined"!=typeof s.watchRelatedDd?s.$watch(s.service[s.watchRelatedDd],function(){s.dropdownSelect=s.service.getData(s.widgetId),p(),n.$broadcast("EASE_DD_ITEM_SELECTED",{type:s.widgetId,item:s.selectedItem,init:s.initWidget}),s.initWidget=!1}):s.initWidget=!1,s.closeDropdown=function(e){void 0===e&&(e=u.find("ul")),e.hasClass("headerslidedown")&&(e.removeClass("headerslidedown"),e.addClass("headerslideup")),s.isDropdownOpen=!1},s.closeAllDropdowns=function(){var t=d.find("ul");e.forEach(t,function(t){var n=e.element(t);n.hasClass("headerslidedown")&&(n.removeClass("headerslidedown"),n.addClass("headerslideup"))}),s.isDropdownOpen=!1},s.openDropdown=function(e){s.closeAllDropdowns(),"undefined"==typeof s.labelTxt&&(s.labelTxt=""),a.pubsubformfieldClick({formfieldName:s.labelTxt.toLowerCase()}),u.find("li").removeClass("hover-focus"),void 0===e&&(e=u.find("ul")),"amountDd"===s.type&&"undefined"!=typeof s.selectedItem&&null!=s.selectedItem&&"otherAmnt"===s.selectedItem.type?e.addClass("otherAmntSelected"):e.removeClass("otherAmntSelected"),e.removeClass("headerslideup"),e.addClass("headerslidedown"),s.isDropdownOpen=!0},s.$on("EASE_DD_DISPLAY_MSG",function(e,t){t.init||(t.success?(l.removeClass("hasError"),u.removeClass("shake"),u.removeClass("hasError"),l[0].innerHTML=s.labelTxt,s.isValid=!0):s.isValid=!1)}),s.$on("EASE_DD_CLOSE_DROPDOWN",function(){s.closeDropdown()}),i.bind("click",function(e){var t=u.find("ul");t.hasClass("headerslideup")?(u.removeClass("shake"),s.openDropdown(t)):(s.isValid&&u.removeClass("shake"),s.closeDropdown(t))}),s.itemIdxFocus=0;var f=function(t,n){var a=u.find("li");a.removeClass("hover-focus"),"up"===t?s.itemIdxFocus-=1:"down"===t&&13===n?s.itemIdxFocus=1:"down"===t&&(s.itemIdxFocus+=1),s.itemIdxFocus<=0?s.itemIdxFocus=s.dropdownSelect.length:s.itemIdxFocus>s.dropdownSelect.length&&(s.itemIdxFocus=1),e.element(a[s.itemIdxFocus-1]).addClass("hover-focus"),e.element(a[s.itemIdxFocus-1]).find("div")[1].focus()},g=function(){for(var t=0;t<s.dropdownSelect.length;t++){var n=s.dropdownSelect[t];if(e.equals(n,s.selectedItem))return t}};i.bind("keydown",function(e){var t=e.which?e.which:e.keyCode;if(s.isDropdownOpen)if(27===t)s.closeDropdown();else if(38===t)f("up","");else if(40===t||9===t)f("down","");else{if(32!==t&&13!==t)return!0;s.selectedItem=s.dropdownSelect[s.itemIdxFocus-1],n.$broadcast("EASE_DD_ITEM_SELECTED",{type:s.widgetId,item:s.selectedItem}),s.closeDropdown(),s.lastFocus.focus(),s.$apply()}else{if(32!==t&&13!==t&&40!==t)return!0;s.lastFocus=document.activeElement,s.openDropdown(),s.fitemIdxFocus=g(),13===t||32===t||40===t?f("down",13):f("down","")}return e.stopPropagation(),e.preventDefault(),s.$evalAsync(),!1}),i.on("$destroy",function(){s.$destroy()})}}}]),t.directive("easeDropdownItemSelected",[function(){return{restrict:"AE",template:'<div ng-include="getContentUrl"></div>',scope:{item:"=",type:"=",service:"=",lengthItem:"@"},link:function(t,n,a){t.getContentUrl=function(){return["accountDd","transferTo","transferFrom"].indexOf(t.type)!==-1?"/ease-ui/dist/partials/dropdownAccountItem.html":"amountDd"===t.type?"/ease-ui/dist/partials/dropdownAmountItem.html":void 0}(),t.stopPropagation=function(e){return e.stopPropagation(),e.cancelBubble=!0,!1},t.showSymbol=function(){return!!("amountDd"===t.type&&t.item&&t.item.value.length>0)},t.showAmount=function(){return!(!t.amountValue||""===t.amountValue)};var r=function(){null!==t.item?(t.amountTypeId=t.item.type,t.amountType=t.localize[t.item.type],t.amountValue=t.item.value):(t.amountTypeId="",t.amountType="",t.amountValue="")},o=function(){var a=e.element(n.find("span")[2]);if("undefined"!=typeof t.amountType&&["otherAmnt","principalOnly"].indexOf(t.amountTypeId)!==-1){t.$parent.isValid=!1,a.addClass("showInput"),a.removeClass("hideInput");var r=n.find("input");r[0].focus(),r[0].value="",t.formatDollar="gray",r.bind("click",function(e){t.$emit("EASE_DD_CLOSE_DROPDOWN")}),r.bind("blur",function(e){var n=parseFloat(e.currentTarget.value).toFixed(2);isNaN(n)||(t.formatDollar="",t.item.value=n,e.currentTarget.value=n,t.item=t.$parent.selectedItem),t.$emit("EASE_DD_DISPLAY_MSG",t.service.isOtherAmountValid(n))})}else t.formatDollar="",a.removeClass("showInput"),a.addClass("hideInput"),t.$emit("EASE_DD_DISPLAY_MSG",{success:!0})};t.localize=t.$parent.localize,t.accClass="selectedItem",t.amntClass="infoSelectedItem hideInput",t.$on("EASE_DD_ITEM_SELECTED",function(e,n){n.type===t.type&&(t.item=n.item,t.$parent.service.setDropdownValue&&t.$parent.service.setDropdownValue(n.type,n.item),
"amountDd"===t.type?(t.formatDollar="",r(),o()):t.item&&t.item.referenceId&&"-1"!==t.item.referenceId.toString()?t.$emit("EASE_DD_DISPLAY_MSG",{success:!0,init:"undefined"!=typeof n.init}):t.$emit("EASE_DD_DISPLAY_MSG",{success:!1,init:"undefined"!=typeof n.init}))}),"amountDd"===t.type&&(r(),o()),n.on("$destroy",function(){t.$destroy()})}}}]),t.directive("easeDropdownItems",["$rootScope",function(e){return{restrict:"AE",template:'<div ng-include="getContentUrl"></div>',scope:{item:"=",type:"=",service:"=",idIndex:"@",lengthItem:"@"},link:function(t,n,a){t.getContentUrl=function(){return["accountDd","transferTo","transferFrom"].indexOf(t.type)!==-1?"/ease-ui/dist/partials/dropdownAccountItem.html":"amountDd"===t.type?"/ease-ui/dist/partials/dropdownAmountItem.html":void 0}(),t.localize=t.$parent.localize,t.accClass="ddTitle",t.accountNameClass="accountName",t.amntClass="ddAmount",t.selectItem=function(n,a){e.$broadcast("EASE_DD_ITEM_SELECTED",{type:t.type,item:n})},"amountDd"===t.type&&(t.typeId=t.item.type,t.amountType=t.localize[t.item.type],t.amountValue=t.item.value),t.showSymbol=function(){return t.amountValue.length>0},t.showAmount=function(){return!(!t.amountValue||""===t.amountValue)},n.on("$destroy",function(){t.$destroy()})}}}]),t.directive("clickOutside",["$document","EASEUtilsFactory",function(e,t){return{restrict:"A",scope:{clickOutside:"&"},link:function(n,a,r){var o=void 0!==r.outsideIfNot?r.outsideIfNot.replace(", ",",").split(","):[];void 0!==r.id&&o.push(r.id),e.on("click",function(e){t.DisplayTooltip(!1);var a,r=0;if(e.target){for(a=e.target;a;a=a.parentNode){var s=a.id,i=a.className;if(void 0!==s)for(r=0;r<o.length;r++)if(s.indexOf(o[r])>-1||i.indexOf(o[r])>-1)return}n.$eval(n.clickOutside)}})}}}]),t}),define("dropdown",["angular","easeDropdownModule"],function(e){"use strict";var t=e.module("easeDropdownModule");return t.directive("dropdown",["$document",function(t){var n=[];return{restrict:"AE",replace:!0,scope:{datasourceFunction:"&",ngModel:"=",placeholder:"@",widgetId:"=widgetId",displayField:"@",onSelectFunction:"&",selectedItem:"@"},templateUrl:"/ease-ui/dist/partials/simpleDropdown.html",link:function(a,r){var o=r.find("ul");a.datasource=a.datasourceFunction(),"true"===a.selectedItem&&(a.ngModel=a.datasource[0]),a.close=!0,a.open=!1;var s=function(){a.open&&(a.close=!0,a.open=!1,a.lastFocus&&a.lastFocus.focus())},i=function(){a.$evalAsync(function(){a.close=!0,a.open=!1})};a.openDropdown=function(e){a.close&&(a.open=!0,a.close=!1,a.selectedItemIndex=c(),l(a.selectedItemIndex),e.stopPropagation(),n.forEach(function(e){e!==i&&e()}))},a.select=function(e,t){a.ngModel=e,a.onSelectFunction({item:e,event:t}),s(),t.stopPropagation(),t.preventDefault()};var c=function(){if(!a.datasource)return 0;for(var t=0;t<a.datasource.length;t++)if(e.equals(a.ngModel,a.datasource[t]))return t;return 0},l=function(t,n){n||(n=o.find("li")),n.removeClass("hover-focus"),e.element(n[t]).addClass("hover-focus"),a.datasource&&a.datasource.length&&e.element(n[t]).find("div")[0].focus()},u=function(e){var t=o.find("li");"up"===e?a.selectedItemIndex-=1:"down"===e&&(a.selectedItemIndex+=1),a.selectedItemIndex<0?a.selectedItemIndex=t.length-1:a.selectedItemIndex>t.length-1&&(a.selectedItemIndex=0),l(a.selectedItemIndex,t)};r.bind("keydown keypress",function(e){var t=e.keyCode||e.which||e.charCode;if(a.open)if(27===t)s();else if(38===t)u("up");else if(40===t||9===t)u("down");else{if(32!==t&&13!==t)return!0;a.select(a.datasource[a.selectedItemIndex],e),a.lastFocus&&a.lastFocus.focus()}else{if(32!==t&&13!==t&&40!==t)return!0;a.lastFocus=document.activeElement,a.openDropdown(e)}return e.stopPropagation(),e.preventDefault(),a.$apply(),!1}),t.on("click",i),n.push(i),r.on("$destroy",function(){n=[]})}}}]),t}),define("easeAccordion",["angular"],function(e){"use strict";function t(t,n){function a(e){if(r(e))return"childOpen"}function r(e){return l.indexOf(e)>-1}function o(e){if(r(e)){var t=l.indexOf(e);return void l.splice(t,1)}this.onlyOpenOne?l[0]=e:l.push(e)}function s(){l.length>0&&(l.splice(0,1),t.$apply())}var i,c=this,l=[];e.extend(c,{getDrawerClass:a,isOpen:r,setOpenIndex:o}),this.closeOnScroll&&(i=e.element(n),i.on("scroll",s),t.$on("$destroy",function(){i.off("scroll",s)}))}function n(){return{restrict:"AE",bindToController:!0,controller:"accordionController",controllerAs:"accordionVM",scope:{accordionElements:"=",onlyOpenOne:"=",closeOnScroll:"=",accordionParent:"="},templateUrl:function(e,t){return t.templateOverride?t.templateOverride:"/ease-ui/dist/partials/accordion.html"}}}function a(e,t){return{restrict:"AE",link:function(n,a,r){function o(){var e={height:0},n={height:a[0].scrollHeight+"px"};a.attr("aria-expanded",!0).attr("aria-hidden",!1),t.animate(a,e,n).then(s)}function s(){a.css({height:"auto"})}function i(){if(l){var e={height:a[0].scrollHeight+"px"},n={height:0,animate:"0.75 linear"};a.attr("aria-expanded",!1).attr("aria-hidden",!0),t.animate(a,e,n).then(c)}}function c(){a.css({height:"0"})}var l=!1,u=!1,d=e(r.accordionOpen),p=e(r.accordionClose);n.$watch(r.isOpen,function(e){e?(l=!0,o(),d(n)):(i(),u?p(n):u=!0,l=!1)})}}}function r(){return{restrict:"A",link:function(e,t,n){t.bind("click",function(e){e.stopPropagation()})}}}t.$inject=["$scope","$window"],e.module("easeAccordion",[]).controller("accordionController",t).directive("easeAccordion",n).directive("accordionDrawer",a).directive("stopEventProp",r),a.$inject=["$parse","$animate"]}),define("accountServices",["angular"],function(e){"use strict";function t(t,n,a){var r=this;e.extend(r,{initClose:!1,modalClass:"icon-account-services",modalType:"accountServicesPane"}),e.extend(r,{close:function(){n.go("^")},getServiceId:function(e,t){return t=t.replace(/\s+/g,""),t+e}}),r.accountServicesData=a.getListOfAccountServices()}function n(){return{getListOfAccountServices:function(){var e=[{title:"Document",services:["Statements","Download Transactions","Reward Summary","Credit Card Agreement"]},{title:"Payment Settings",services:["Manage Auto Pay","Payment Accounts","Change Due Date","Secured Credit Deposit"]},{title:"Account Management",services:["Activate a Card","Combine two Accounts","Authorized Users","Update Income","Overlimit Preferences","Mobile 2 way","Close Account"]},{title:"Upgrades",services:["Credit Line Increase","Balance Transfer","Image Card","Swap Card"]},{title:"Security",services:["Report Lost, Stolen or damaged card","Set Travel Notification","Electronic Fraud Information(eFIF)"]}];return e}}}t.$inject=["$scope","$state","AccountServicesModel"];var a=e.module("accountServicesModule",[]).controller("AccountServicesCtrl",t).factory("AccountServicesModel",n);return a}),define("easeModal",["angular"],function(){"use strict";var e=angular.module("EaseModalModule",[]).factory("EaseModalService",["$document","$compile","$rootScope","$timeout",function(e,t,n,a){var r,o=e.find("body");return function(s,i,c){var l=null,u=e[0].getElementById("page-content"),d=function(e,t){if("undefined"!=typeof e)return void 0!==e[t]&&null!=e[t]?"form-container"===e[t].className?d(e[t],"lastElementChild"):void 0!==e[t].className&&e[t].className.indexOf("easeDdContainer")!==-1?e.firstElementChild:d(e[t],t):e};angular.isObject(s)?(c=i,i=s):i.templateUrl=s;var p=function(){return i.template?angular.isString(i.template)?'<div class="modal hidden clip generic">'+i.template+"</div>":'<div class="modal hidden clip generic">'+i.template.html()+"</div>":"<div data-ng-include=\"'"+i.templateUrl+"'\"></div>"}(),f=angular.element("<div>"+p+"</div>"),g=function(){f.removeClass("fade"),u&&u.setAttribute("aria-hidden","false"),a(function(){f.remove()},300)};i.scope?r=i.scope:(r=n.$new(),i.hasOwnProperty("controller")?r.controller=i.controller:angular.noop()),r.$modalCancel=function(){r.hasOwnProperty("controller")&&r.controller.closeModal(),g.call(this)},n.$on("logout",function(){g()}),t(f)(r),o.append(f),u&&u.setAttribute("aria-hidden","true"),a(function(){null==l&&(l=d(f.find("form")[0],"firstElementChild")),l&&l.focus()},200),n.$on("$stateChangeStart",function(e,t,n,a,r){t.name!==a.name&&g()})}}]).directive("easeModal",["$document","$timeout",function(e,t){return{restrict:"A",transclude:!0,scope:{modalRole:"=?",modalType:"=",modalClass:"=",focusId:"=",initClose:"=",toggleClose:"&",deleteModal:"=",isBlur:"=?",modalLoadingClass:"=?",isPolicy:"=?"},link:function(e,n){e.focusId=e.focusId||"closeModal",t(function(){e.lastFocus=document.activeElement,e.on=!0,t(function(){n[0].getElementsByClassName("close-dialog")[0].focus()},100)},100),e.$watch("initClose",function(){e.initClose&&e.closeModal()}),e.$watch("deleteModal",function(){e.deleteModal&&t(function(){n.remove()},200)}),e.closeModal=function(){e.on=!e.on;var t=new CustomEvent("easeUiModalClose");dispatchEvent(t),e.toggleClose(),e.lastFocus&&e.lastFocus.focus()};var a=!1;n.on("keydown",function(t){27===t.which&&(e.$apply(function(){e.closeModal()}),n.off("keydown"),t.preventDefault()),9!==t.which||t.shiftKey||(a=!1,angular.element(n[0].getElementsByClassName("modalEnd")[0]).on("focus",function(){a||n[0].getElementsByClassName("close-dialog")[0].focus()})),9===t.which&&t.shiftKey&&(a=!0,n[0].getElementsByClassName("close-dialog")[0]===t.target&&(t.preventDefault(),n[0].getElementsByClassName("modalEnd")[0].focus()))})},templateUrl:"/ease-ui/dist/partials/open-modal.html"}}]);return e}),define("EaseTooltip",["angular"],function(e){"use strict";e.module("Easetooltip",[]).provider("$tooltip",function(){function t(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var n={placement:"top",animation:!0,popupDelay:0},a={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(t){e.extend(r,t)},this.setTriggers=function(t){e.extend(a,t)},this.$get=["$window","$compile","$timeout","$document","$positionTool","$interpolate","EASEUtilsFactory","$rootScope",function(o,s,i,c,l,u,d,p){return function(o,f,g){function m(e){var t=e||h.trigger||g,n=a[t]||t;return{show:t,hide:n}}var h=e.extend({},n,r),v=!1,y=t(o),b=u.startSymbol(),C=u.endSymbol(),S="<div "+y+'-popup title="'+b+"title"+C+'" content="'+b+"content"+C+'" placement="'+b+"placement"+C+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(t,n){var a=s(S);return function(t,n,r){function s(){x.isOpen?g():u()}function u(){L&&!t.$eval(r[f+"Enable"])||(E(),x.popupDelay?w||(w=i(y,x.popupDelay,!1),w.then(function(e){e()})):y()())}function g(){"$apply"!=p.$root.$$phase&&"$digest"!=p.$root.$$phase?t.$apply(function(){b()}):b()}function y(){return w=null,P&&(i.cancel(P),P=null),x.content?(C(),"$apply"!=p.$root.$$phase&&"$digest"!=p.$root.$$phase?(T.css({top:0,left:0,display:"block"}),x.$digest()):T.css({top:0,left:0,display:"block"}),O(),"$apply"!=p.$root.$$phase&&"$digest"!=p.$root.$$phase?(x.isOpen=!0,x.$digest()):x.isOpen=!0,O):e.noop}function b(){x.isOpen=!1,i.cancel(w),w=null,x.animation?P||(P=i(S,500)):S()}function C(){T&&S(),_=x.$new(),T=a(_,function(e){M?c.find("body").append(e):n.after(e)})}function S(){P=null,T&&(T.remove(),T=null),_&&(_.$destroy(),_=null)}function E(){A(),k()}function A(){var t=r[f+"Placement"];x.placement=e.isDefined(t)?t:h.placement}function k(){var e=r[f+"PopupDelay"],t=parseInt(e,10);x.popupDelay=isNaN(t)?h.popupDelay:t}function D(){var e=r[f+"Trigger"];$(),I=m(e),I.show===I.hide?n.bind(I.show,s):(n.bind(I.show,u),n.bind(I.hide,g))}var T,_,P,w,M=!!e.isDefined(h.appendToBody)&&h.appendToBody,I=m(void 0),L=e.isDefined(r[f+"Enable"]),x=t.$new(!0),O=function(){var e=l.positionElements(n,T,x.placement,M);e.top+="px",e.left+="px",T.css(e)};x.isOpen=!1,r.$observe(o,function(e){x.content=e,!e&&x.isOpen&&b()}),r.$observe(f+"Title",function(e){x.title=e});var $=function(){n.unbind(I.show,u),n.unbind(I.hide,g)};D();var R=t.$eval(r[f+"Animation"]);x.animation=e.isDefined(R)?!!R:h.animation;var U=t.$eval(r[f+"AppendToBody"]);M=e.isDefined(U)?U:M,M&&t.$on("$locationChangeSuccess",function(){x.isOpen&&b()}),t.$on("$destroy",function(){i.cancel(P),i.cancel(w),$(),S(),x=null}),t.service=d,t.$watch("service.displayTooltip",function(e,t){v!==e&&(e?(x.content=d.tooltipmsg,u()):g()),v=e})}}}}}]}).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},template:'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }"><div class="tooltip-arrow"></div><div class="tooltip-inner" bind-html-unsafe="content"></div></div>'}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},template:'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }"><div class="tooltip-arrow"></div><div class="tooltip-inner" bind-html-unsafe="content"></div></div>'}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]).factory("$positionTool",["$document","$window",function(t,n){function a(e,t){return e.currentStyle?e.currentStyle[t]:n.getComputedStyle?n.getComputedStyle(e)[t]:e.style[t]}function r(e){return"static"===(a(e,"position")||"static")}var o=function(e){for(var n=t[0],a=e.offsetParent||n;a&&a!==n&&r(a);)a=a.offsetParent;return a||n};return{position:function(n){var a=this.offset(n),r={top:0,left:0},s=o(n[0]);s!=t[0]&&(r=this.offset(e.element(s)),r.top+=s.clientTop-s.scrollTop,r.left+=s.clientLeft-s.scrollLeft);var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:a.top-r.top,left:a.left-r.left}},offset:function(e){var a=e[0].getBoundingClientRect();return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:a.top+(n.pageYOffset||t[0].documentElement.scrollTop),left:a.left+(n.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var r,o,s,i,c=n.split("-"),l=c[0],u=c[1]||"center";r=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),s=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left+r.width-o},right:function(){return r.left+r.width}},p={center:function(){return r.top+r.height/2-s/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(l){case"right":i={top:p[u](),left:d[l]()};break;case"left":i={top:p[u](),left:r.left-o};break;case"bottom":i={top:p[l](),left:d[u]()};break;case"topAmount":i={top:-74,left:d[u]()};break;default:i={top:r.top-s,left:d[u]()}}return i}}}])}),define("EaseDatePicker",["angular"],function(e){"use strict";var t=e.module("EaseDatePicker",["EaseProperties"]);t.run(["$templateCache","EaseConstant",function(e,t){e.put("template/datepicker/datepicker.html",'<div data-ng-switch="datepickerMode" role="application" data-ng-keydown="keydown($event)">\n  <daypicker data-ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker data-ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker data-ng-switch-when="year" tabindex="0"></yearpicker>\n</div>'),e.put("template/datepicker/day.html",'<table class=\'animateTable dateTable\' role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead style=\'background-color: rgba(236, 220, 233, 0.22); font-family: sans-serif\'>\n    <tr>\n      <th scope="none"><button type="button" class="pull-left dateTableButton" aria-label="Previous Month" data-ng-click="move(-1)" tabindex="-1" id="scrollLeftButton"><img alt="" style=\'height: 12px;width: 12px\' src="/ease-ui'+t.kBuildVersionPath+'/dist/images/prevMonth.png"></button></th>\n      <th scope="none" colspan="{{5 + showWeeks}}"><button disabled="{{isDisabledMonths}}" data-ng-click="toggleMode()" id="{{uniqueId}}-title" class="pull-left dateTableHeaderButton" role="heading" aria-live="assertive" aria-atomic="true" type="button" tabindex="-1" ><strong>{{title}}</strong></button></th>\n      <th scope="none"><button  type="button" class="pull-left dateTableButton" aria-label="Next Month" data-ng-click="move(1)" tabindex="-1" id="scrollRightButton"><img alt="" style=\'height: 12px;width: 12px\'  src="/ease-ui'+t.kBuildVersionPath+'/dist/images/nextMonth.png"></i></button></th>\n    </tr>\n    <tr role="row">\n      <th scope="col" data-ng-show="showWeeks" class="text-center"></th>\n      <th scope="col" data-ng-repeat="label in labels track by $index" class="daysHeaderName" role="columnheader" ><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody role="row">\n    <tr class=\'dateTableRow\' data-ng-repeat="row in rows track by $index">\n      <td data-ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td data-ng-repeat="dt in row track by dt.date" data-ng-class="dt.customClass" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" >\n        <button data-ng-if="!daysOfMonthOnly || !dt.secondary" data-ng-mouseover=\'btnMouseOver($event, dt)\' data-ng-mouseleave=\'btnMouseOut($event, dt)\' class="pull-left dateTableButton btn" type="button" data-ng-class="{\'btn-info\': dt.selected, \'text-due\': dt.isduedate, \'past-due\': dt.pastduedate, \'minpay-notmet\': dt.minpaynotmet, \'today\': dt.today, active: isActive(dt)} " data-ng-click="select(dt.date)" data-ng-disabled="dt.disabled" tabindex="-1">\n        <span class=\'dateTableButtonSpan\' data-ng-class="{\'btn-label\': (dt.isStartDay || dt.isEndDay), \'text-info\': dt.current,  \'text-muted\': dt.secondary, \'text-due\': dt.isduedate }">{{dt.label}}</span>\n        <span class=\'screen-reader\'>{{title}}</span>\n        <span data-ng-show="dt.current || dt.isduedate || dt.selected"  class="dateLabel" data-ng-class="{\'btn-label\': (dt.isStartDay || dt.isEndDay), \'btn-info\': dt.selected,\'text-info\': dt.current, \'text-due\': dt.isduedate, \'past-due\': dt.pastduedate }">{{ getDisplayText(dt.selected, dt.isduedate, dt.today, dt.pastduedate, dt.minpaynotmet) || dt.displayLabel }}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'),e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" data-ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" data-ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" data-ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr data-ng-repeat="row in rows track by $index">\n      <td data-ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" data-ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" data-ng-click="select(dt.date)" data-ng-disabled="dt.disabled" tabindex="-1"><span data-ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'),e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" data-ng-style="{display: (isOpen && \'block\') || \'none\', top: (position.top-302)+\'px\', right: (position.left) +\'px\'}" data-ng-keydown="keydown($event)">\n  <li data-ng-transclude></li>\n  <li data-ng-if="showButtonBar" style="padding:10px 9px 2px">\n   <span class="btn-group pull-left">\n    <button type="button" class="btn btn-sm btn-info" data-ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n    <button type="button" class="btn btn-sm btn-danger" data-ng-click="select(null)">{{ getText(\'clear\') }}</button>\n   </span>\n   <button type="button" class="btn btn-sm btn-success pull-right" data-ng-click="close()">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n'),e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" data-ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" data-ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" data-ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr data-ng-repeat="row in rows track by $index">\n      <td data-ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" data-ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" data-ng-click="select(dt.date)" data-ng-disabled="dt.disabled" tabindex="-1"><span data-ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),t.constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!1,startingDay:0,yearRange:20,minDate:null,maxDate:null,isDisabledMonths:!0,paymentDueDate:null,lobmode:"",isTransfer:!1,minPayNotMet:!1,statementBalanceMet:!1,isAfterCutOffTime:!1}),t.controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,n,a,r,o,s,i,c){var l=this,u={$setViewValue:e.noop};this.modes=["day","month","year"],e.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","lobmode","isTransfer","minMode","maxMode","showWeeks","startingDay","yearRange","isDisabledMonths","daysOfMonthOnly","minPayNotMet","statementBalanceMet","isAfterCutOffTime"],function(a,o){l[a]=e.isDefined(n[a])?o<10?r(n[a])(t.$parent):t.$parent.$eval(n[a]):c[a]}),e.forEach(["minDate","maxDate","paymentDueDate"],function(e){n[e]?t.$parent.$watch(a(n[e]),function(t){l[e]=t?new Date(t):null,l.refreshView()}):l[e]=c[e]?new Date(c[e]):null}),t.datepickerMode=t.datepickerMode||c.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=e.isDefined(n.initDate)?t.$parent.$eval(n.initDate):new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)&&(t.activeDateId=e.uid,!0)},this.init=function(e){u=e,u.$render=function(){l.render()}},t.getDisplayText=function(e,t,n,a,r){return"creditcard"===l.lobmode?t?"DUE":a&&e&&r?"LATE":n?"TODAY":"":"autoloan"===l.lobmode?e?"PAY":t?"DUE":"TODAY":void 0},this.render=function(){if(u.$modelValue){var e=new Date(u.$modelValue),n=!isNaN(e);n?this.activeDate=t.selectedDates&&t.selectedDates.length>1?new Date(e.setHours(23,59,59)):e:s.error('Datepicker directive: "data-ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",n)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$modelValue?new Date(u.$modelValue):null;u.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(t,n){var a=u.$modelValue?new Date(u.$modelValue):null,r=!!this.paymentDueDate&&this.compare(this.paymentDueDate,new Date)/864e5,o=new Date,s=this.isAfterCutOffTime?c1Date(o).getDateAt(1):o,c={date:t,label:i(t,n),selected:a&&0===this.compare(t,a),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)||null,today:0===this.compare(t,new Date),isduedate:!!r&&0===this.compare(t,this.paymentDueDate)};return"autoloan"===l.lobmode?e.extend(c,{isduedate:r>=0&&0===this.compare(t,this.paymentDueDate)}):"creditcard"===l.lobmode?e.extend(c,{isduedate:0===this.compare(t,this.paymentDueDate),pastduedate:this.compare(t,this.paymentDueDate)>0&&this.maxDate&&this.compare(t,this.maxDate)<=0&&this.compare(s,this.paymentDueDate)<=0&&!this.statementBalanceMet,minpaynotmet:this.compare(t,this.paymentDueDate)>0&&this.maxDate&&this.compare(t,this.maxDate)<=0&&this.compare(s,this.paymentDueDate)<=0&&this.minPayNotMet&&!this.statementBalanceMet}):c},this.isDisabled=function(e){return this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0||n.dateDisabled&&t.dateDisabled({date:e,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},t.select=function(e){if(!l.isDisabled(e))if(t.datepickerMode===l.minMode){var n=u.$modelValue?new Date(u.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=t.selectedDates&&t.selectedDates.length>1?new Date(e.setHours(23,59,59)):e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.btnMouseOver=function(t,n){l.isTransfer&&(e.element(t.currentTarget.children[1]).text("TRANSFER"),e.element(t.currentTarget).addClass("btn-enabled"),e.element(t.currentTarget.children[1]).removeClass("data-ng-hide"))},t.btnMouseOut=function(t,n){l.isTransfer&&(n.current?e.element(t.currentTarget.children[1]).text("TODAY"):(e.element(t.currentTarget.children[1]).text(""),e.element(t.currentTarget.children[1]).addClass("data-ng-hide")),e.element(t.currentTarget).removeClass("btn-enabled"))},t.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&e===-1||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var d=function(){o(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",d),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),d()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),d())}}]),t.directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,a){var r=a[0],o=a[1];o&&r.init(o)}}}),t.directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(n,a,r,o){function s(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function i(e,t){var n=new Array(t),a=new Date(e),r=0;for(a.setHours(12);r<t;)n[r++]=a,a.setDate(a.getDate()+1);return n}function c(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}n.showWeeks=o.showWeeks,n.daysOfMonthOnly=o.daysOfMonthOnly,o.step={months:1},o.element=a;var l=[31,28,31,30,31,30,31,31,30,31,30,31];o._refreshView=function(){var a=o.activeDate.getFullYear(),r=o.activeDate.getMonth(),s=new Date(a,r,1),l=o.startingDay-s.getDay(),u=l>0?7-l:-l,d=s;u>0&&d.setDate(-u+1);for(var p=i(d,42),f=0;f<42;f++)p[f]=e.extend(o.createDateObject(p[f],o.formatDay),{secondary:p[f].getMonth()!==r,uid:n.uniqueId+"-"+f});n.labels=new Array(7);for(var g=0;g<7;g++)n.labels[g]={abbr:p[g].date.toString()[0],full:t(p[g].date,"EEEE")};if(n.title=t(o.activeDate,o.formatDayTitle),n.rows=o.split(p,7),n.showWeeks){n.weekNumbers=[];for(var m=c(n.rows[0][0].date),h=n.rows.length;n.weekNumbers.push(m++)<h;);}},o.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},o.handleKeyDown=function(e,t){var n=o.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var a=o.activeDate.getMonth()+("pageup"===e?-1:1);o.activeDate.setMonth(a,1),n=Math.min(s(o.activeDate.getFullYear(),o.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=s(o.activeDate.getFullYear(),o.activeDate.getMonth()));o.activeDate.setDate(n)},o.refreshView()}}}]),t.directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(n,a,r,o){o.step={years:1},o.element=a,o._refreshView=function(){for(var a=new Array(12),r=o.activeDate.getFullYear(),s=0;s<12;s++)a[s]=e.extend(o.createDateObject(new Date(r,s,1),o.formatMonth),{uid:n.uniqueId+"-"+s});n.title=t(o.activeDate,o.formatMonthTitle),n.rows=o.split(a,3)},o.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},o.handleKeyDown=function(e,t){var n=o.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var a=o.activeDate.getFullYear()+("pageup"===e?-1:1);o.activeDate.setFullYear(a)}else"home"===e?n=0:"end"===e&&(n=11);o.activeDate.setMonth(n)},o.refreshView()}}}]),t.directive("yearpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,n,a,r){function o(e){return(e-1)/s*(s+1)}var s=r.yearRange;r.step={years:s},r.element=n,r._refreshView=function(){for(var n=new Array(s),a=0,i=o(r.activeDate.getFullYear());a<s;a++)n[a]=e.extend(r.createDateObject(new Date(i+a,0,1),r.formatYear),{uid:t.uniqueId+"-"+a});t.title=[n[0].label,n[s-1].label].join(" - "),t.rows=r.split(n,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e,t){var n=r.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*r.step.years:"home"===e?n=o(r.activeDate.getFullYear()):"end"===e&&(n=o(r.activeDate.getFullYear())+s-1),r.activeDate.setFullYear(n)},r.refreshView()}}}]),t.constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}),t.directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(t,n,a,r,o,s,i,c){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(l,u,d,p){function f(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function g(t){if(t){if(e.isDate(t)&&!isNaN(t))return p.$setValidity("date",!0),t;if(e.isString(t)){var n=s.parse(t,m)||new Date(t);return isNaN(n)?void p.$setValidity("date",!1):(p.$setValidity("date",!0),n)}return void p.$setValidity("date",!1)}return p.$setValidity("date",!0),null}var m,h=e.isDefined(d.closeOnDateSelection)?l.$parent.$eval(d.closeOnDateSelection):i.closeOnDateSelection,v=e.isDefined(d.datepickerAppendToBody)?l.$parent.$eval(d.datepickerAppendToBody):i.appendToBody;
l.showButtonBar=e.isDefined(d.showButtonBar)?l.$parent.$eval(d.showButtonBar):i.showButtonBar,l.getText=function(e){return l[e+"Text"]||i[e+"Text"]},d.$observe("datepickerPopup",function(e){m=e||i.datepickerPopup,p.$render()});var y=e.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"data-ng-model":"date","data-ng-change":"dateSelection()"});var b=e.element(y.children()[0]);d.datepickerOptions&&e.forEach(l.$parent.$eval(d.datepickerOptions),function(e,t){b.attr(f(t),e)}),l.watchData={},e.forEach(["minDate","maxDate","paymentDueDate","datepickerMode"],function(e){if(d[e]){var t=n(d[e]);if(l.$parent.$watch(t,function(t){l.watchData[e]=t}),b.attr(f(e),"watchData."+e),"datepickerMode"===e){var a=t.assign;l.$watch("watchData."+e,function(e,t){e!==t&&a(l.$parent,e)})}}}),d.dateDisabled&&b.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),p.$parsers.unshift(g),l.dateSelection=function(t){e.isDefined(t)&&(l.date=t),p.$setViewValue(l.date),p.$render(),h&&this.close()},u.bind("input change keyup",function(){l.$apply(function(){l.date=p.$modelValue})}),p.$render=function(){var e=p.$viewValue?o(p.$viewValue,m):"";u.val(e),l.date=g(p.$modelValue)};var C=function(t){if(l.isOpen&&t.target!==u[0]){var n=e.element(document.getElementsByClassName("animateTable"));c(function(){l.isOpen=!1,n.removeClass("selectDateClass")},100),n.addClass("selectDateClass")}},S=function(e,t){l.keydown(e)};u.bind("keydown",S),l.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),l.close()):40!==e.which||l.isOpen||(l.isOpen=!0)},l.$watch("isOpen",function(e){e?(l.$broadcast("datepicker.focus"),l.position=v?r.offset(u):r.position(u),l.position.top=l.position.top+u.prop("offsetHeight"),a.bind("click",C)):a.unbind("click",C)}),l.select=function(t){if("today"===t){var n=new Date;e.isDate(p.$modelValue)?(t=new Date(p.$modelValue),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):t=new Date(n.setHours(0,0,0,0))}l.dateSelection(t)},l.close=function(){var t=e.element(document.getElementsByClassName("animateTable"));c(function(){l.isOpen=!1,u[0].focus(),t.removeClass("selectDateClass")},100),t.addClass("selectDateClass")};var E=t(y)(l);y.remove(),v?a.find("body").append(E):u.after(E),l.$on("$destroy",function(){E.remove(),u.unbind("keydown",S),a.unbind("click",C)})}}}]),t.directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),t.service("dateParser",["$locale","orderByFilter",function(t,n){function a(t){var a=[],r=t.split("");return e.forEach(o,function(e,n){var o=t.indexOf(n);if(o>-1){t=t.split(""),r[o]="("+e.regex+")",t[o]="$";for(var s=o+1,i=o+n.length;s<i;s++)r[s]="",t[s]="$";t=t.join(""),a.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:n(a,"index")}}function r(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||n<31}this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(n,o){if(!e.isString(n)||!o)return n;o=t.DATETIME_FORMATS[o]||o,this.parsers[o]||(this.parsers[o]=a(o));var s=this.parsers[o],i=s.regex,c=s.map,l=n.match(i);if(l&&l.length){for(var u,d={year:1900,month:0,date:1,hours:0},p=1,f=l.length;p<f;p++){var g=c[p-1];g.apply&&g.apply.call(d,l[p])}return r(d.year,d.month,d.date)&&(u=new Date(d.year,d.month,d.date,d.hours)),u}}}]),t.factory("$position",["$document","$window",function(t,n){function a(e,t){return e.currentStyle?e.currentStyle[t]:n.getComputedStyle?n.getComputedStyle(e)[t]:e.style[t]}function r(e){return"static"===(a(e,"position")||"static")}var o=function(e){for(var n=t[0],a=e.offsetParent||n;a&&a!==n&&r(a);)a=a.offsetParent;return a||n};return{position:function(n){var a=this.offset(n),r={top:0,left:0},s=o(n[0]);s!=t[0]&&(r=this.offset(e.element(s)),r.top+=s.clientTop-s.scrollTop,r.left+=s.clientLeft-s.scrollLeft);var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),left:a.left-r.left,right:i.right,total:this.left+this.width}},offset:function(e){var a=e[0].getBoundingClientRect();return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:a.top+(n.pageYOffset||t[0].documentElement.scrollTop),left:a.left+(n.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var r,o,s,i,c=n.split("-"),l=c[0],u=c[1]||"center";r=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),s=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},p={center:function(){return r.top+r.height/2-s/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(l){case"right":i={top:p[u](),left:d[l]()};break;case"left":i={top:p[u](),left:r.left-o};break;case"bottom":i={top:p[l](),left:d[u]()};break;default:i={top:r.top-s,left:d[u]()}}return i}}}])}),define("easeMultiDateSelector",["angular"],function(e){"use strict";e.module("easeMultiDateSelector",[]).config(["$provide","$injector",function(t,n){var a=function(t){var n=t[0],a=n.link;return n.compile=function(){return function(t,n,r,o){if(a.apply(this,arguments),e.isDefined(r.multiSelect)){t.selectedDates=[],t.$parent.$watchCollection(r.multiSelect,function(e){t.selectedDates=e||[]});var s=o[1];s.$viewChangeListeners.push(function(){var e=t.$parent.$eval(r.ngModel);if(e){var n=e.getTime(),a=t.selectedDates;if(!a.length||a.length>1)return a.splice(0,a.length,n);a.push(n);var o=Math.min.apply(null,a),s=Math.max.apply(null,a);for(o=new Date(o).setHours(24);o<s;)a.push(o),o=new Date(o).setHours(24)}})}}},t};n.has("datepickerDirective")&&t.decorator("datepickerDirective",["$delegate",a]);var r=function(t,n,a){var r=t[0],o=r.link;return r.compile=function(){return function(t,r,s,i){function c(){e.forEach(t.rows,function(n){e.forEach(n,function(e){e.selected=t.selectedDates.indexOf(e.date.setHours(0,0,0,0))>-1,e.isStartDay=e.date.setHours(0,0,0,0)===t.selectedDates[0],e.isEndDay=e.date.setHours(0,0,0,0)===t.selectedDates[1],e.isToday=e.date.setHours(0,0,0,0)===(new Date).setHours(0,0,0,0),e.isStartDay&&e.isEndDay?(e.customClass="td-range",e.displayLabel=""):e.isStartDay?(e.customClass="td-range",e.displayLabel="START"):e.isEndDay?(e.customClass="td-range",e.displayLabel="END"):!e.selected||e.isStartDay||e.isEndDay?e.customClass="":e.customClass="td-selected"})})}o.apply(this,arguments);var l=i[0];i[1];if(t.$on("refreshDatepickers",function(){a.log("refreshed dp"),l.activeDate.setYear(1960),l.refreshView(),n(function(){l.activeDate.setYear((new Date).getFullYear()),l.refreshView()})}),e.isDefined(t.$parent.selectedDates)){var u=i;t.$watch(function(){return u.activeDate.getTime()},c),t.$watch(t.selectedDates,c)}}},t};n.has("daypickerDirective")&&t.decorator("daypickerDirective",["$delegate","$timeout","$log",r])}])}),define("easeDateRangePicker",["angular","c1Date","easeMultiDateSelector"],function(e){"use strict";function t(){function t(t,n,a,r,o,s){function i(e){if(2===e.length){var t=Math.min.apply(null,e),n=Math.max.apply(null,e);for(t=new Date(t).setHours(24);t<n;)d.selectedDatesRange.push(t),t=new Date(t).setHours(24)}}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(){d.startDate=null,d.endDate=null,d.selectedDatesRange.length=0,p=!1,f=!1,d.date=null,d.isStartDateInvalid=!0,d.isFormValid=!0,d.minDate=d.minimumAcceptableDate?new Date(d.minimumAcceptableDate):new Date("1 Jan 1900"),d.maxDate=d.maximumAcceptableDate?new Date(d.maximumAcceptableDate):new Date("31 Dec 2090"),d.startDateBeforeMinDate=d.startDateAfterMaxDate=d.endDateAfterMaxDate=d.endDateBeforeMinDate=!1}function u(e,t){var n=new Date(e),a=c(n),r=!0;a||"START"!==t?a||"END"!==t||(d.endDateAfterMaxDate=!0,r=!1):(d.startDateBeforeMinDate=!0,r=!1),"START"===t&&a?(d.startDateBeforeMinDate=!(r=n>=d.minDate),r&&(d.startDateAfterMaxDate=!(r=n<=d.maxDate),d.isStartDateInvalid=!1)):"END"===t&&a&&(d.endDateAfterMaxDate=!(r=n<=d.maxDate),r&&(d.endDateBeforeMinDate=!(r=n>=d.minDate))),d.isValidStartDate=0==d.startDateBeforeMinDate&&0==d.startDateAfterMaxDate;var o=document.getElementsByName("end_date")[0];d.isValidStartDate&&""==o.value&&(d.isStartDateInvalid=!1,s(function(){o.focus()},0)),d.isValidEndDate=0==d.endDateAfterMaxDate&&0==d.endDateBeforeMinDate,d.isFormValid=r}var d=this,p=!1,f=!1;d.minDate=d.minimumAcceptableDate?new Date(d.minimumAcceptableDate):new Date("1 Jan 1900"),d.maxDate=d.maximumAcceptableDate?new Date(d.maximumAcceptableDate):new Date("31 Dec 2090");var g=a.START;d.date,d.startDate,d.endDate,d.selectedDatesRange=[],d.modalType=a.MODAL_TYPE,d.hasFocus=!0,d.startDateBeforeMinDate,d.endDateAfterMaxDate,d.startDateAfterMaxDate,d.endDateBeforeMinDate,d.originalMinDate,d.originalMaxDate,d.isFormValid,d.isStartDateInvalid=!0,t.$watchCollection(e.bind(d,function(){return[this.minimumAcceptableDate,this.maximumAcceptableDate]}),function(){d.minDate=d.minimumAcceptableDate?new Date(d.minimumAcceptableDate):new Date("1 Jan 1900"),d.maxDate=d.maximumAcceptableDate?new Date(d.maximumAcceptableDate):new Date("31 Dec 2090")}),d.setRange=function(e){var n=c1Date(e).format("abbrev").split(" ").slice(1).join(" ");if(f?p=a[g]:p!==!0,p)d.startDate=n,d.selectedDatesRange.length=0,d.endDate=null,f=!1,d.hasFocus=!1,d.startDateBeforeMinDate=d.startDateAfterMaxDate=!1,d.startDate=c(new Date(d.startDate))?d.startDate:null,null!==d.startDate&&(d.isStartDateInvalid=!1),t.$emit("onStartDateSelect",d.startDate);else{if(d.endDate=n,f&&d.selectedDatesRange.length>1){var r=d.selectedDatesRange.splice(0,2);r.pop(),r.push(new Date(d.endDate).setHours(0,0,0,0)),d.selectedDatesRange=r,i(r),f=!1}d.hasFocus=!0,d.endDateAfterMaxDate=d.endDateBeforeMinDate=!1,d.isFormValid=!0,d.endDate=c(new Date(d.endDate))?d.endDate:null,t.$emit("onEndDateSelect",d.endDate)}},d.setRangeType=function(e){switch(g=e){case"START":t.$emit("onStartDateReset"),l(),d.startDate=null,d.endDate=null,d.date=null,d.startDateBeforeMinDate=d.startDateAfterMaxDate=!1,d.isStartDateInvalid=!0;break;case"END":d.endDate=null,d.endDateAfterMaxDate=d.endDateBeforeMinDate=!1}f=!0,d.isFormValid=!(d.startDateBeforeMinDate||d.startDateAfterMaxDate||d.endDateAfterMaxDate||d.endDateBeforeMinDate)},d.setInputDate=function(e){if(e){if(u(e,g),!d.isFormValid)return void(d.isValidEndDate||(d.startDate=c(new Date(d.startDate))?d.startDate:null,t.$emit("onEndDateReset",d.startDate)));d.date="END"===g?new Date(e).setHours(23,59,59):e,d.setRange(c1Date(e).format("abbrev").split(" ").slice(1).join(" ")),d.selectedDatesRange.push(new Date(e).setHours(0,0,0,0)),2===d.selectedDatesRange.length&&i(d.selectedDatesRange)}},d.openPicker=function(){function e(e){return e.indexOf("AutoLoan")!==-1?"coaf":e.indexOf("CreditCard")!==-1?"card":"360"}d.originalMinDate||d.originalMaxDate||(d.originalMinDate=d.minimumAcceptableDate?new Date(d.minimumAcceptableDate):new Date("1 Jan 1900"),d.originalMaxDate=d.maximumAcceptableDate?new Date(d.maximumAcceptableDate):new Date("31 Dec 2090")),l(),n({templateUrl:a.TEMPLATE,controller:d});var t=o.current.name,s=e(t);r.pubsubPageView({scDLLevel1:"ease",scDLLevel2:"account details",scDLLevel3:"filter dates",scDLLevel4:"",scDLLevel5:"",scDLCountry:"us",scDLLanguage:"english",scDLSystem:"ease_web",scDLLOB:s})},d.closeModal=function(){d.startingDate=d.startDate,d.endingDate=d.endDate,r.pubsubTrackAnalytics({name:"done:button"})},d.close=function(){t.$emit("easeDatePickerModalClosed")}}function n(e,t,n,a){t.on("click",function(){a.openPicker()})}return t.$inject=["$scope","EaseModalService","RANGE_PICKER","pubsubService","$state","$timeout"],{restrict:"A",scope:{startingDate:"=",endingDate:"=",maximumAcceptableDate:"=",minimumAcceptableDate:"="},controller:t,controllerAs:"rangeCtrl",transclude:!0,bindToController:!0,link:n,template:'<a class="hand-pointer">Custom Dates</a>'}}e.module("easeDateRangePicker",["easeMultiDateSelector"]).constant("RANGE_PICKER",{START:1,END:0,TEMPLATE:"/ease-ui/dist/partials/dateRangePicker.html",MODAL_TYPE:"ease-date-range-modal"}).directive("dateRangePicker",t)}),define("filterComponent",["angular","easeDateRangePicker"],function(){"use strict";function e(e,t){function n(e,t){var n=this;n.displayDates=!1,n.startDate=null,n.endDate=null,n.dateRangeText="Custom Date Range",n.maximumAcceptableDate,n.minimumAcceptableDate,n.selectedStatement,n.minDate,n.showCategory,n.showStatementLink,n.statement="Statement Period",n.dateRangeDisplay="",n.buttons={},n.filterButton=!1,n.customMenuOptions,n.selectedMenu={},n.categories,n.categorySelected,n.categoryDisplay=!1,n.filterParams={rangeDates:{start:"",end:""},searchText:""},e.$on("menuOptionsAvailable",function(e,t,a){if(a){if(angular.isArray(t))return angular.isDefined(n.customMenuOptions)||(n.customMenuOptions=[]),void(n.customMenuOptions=n.customMenuOptions.concat(t));angular.extend(n.customMenuOptions,t)}else n.customMenuOptions=t;n.clearCategory()}),e.$watchCollection(angular.bind(n,function(){return[this.startDate,this.endDate]}),function(){n.selectedStatement=null,n.displayDates=!(!n.startDate&&!n.endDate),n.startDate&&n.endDate&&n.startDate!==n.endDate?n.dateRangeDisplay=n.startDate+" - "+n.endDate:n.startDate?n.dateRangeDisplay=n.endDate=n.startDate:n.dateRangeDisplay=n.startDate=n.endDate,n.resetMenuSelection(),n.filterParams.rangeDates=n.displayDates?{start:new Date(n.startDate),end:new Date(n.endDate)}:{start:null,end:null}}),n.handleMenuSelection=function(t,a){n.hideFilterMenu(),n.afterFilterMenuName=t,a&&(n.filterParams.searchText=""),e.$emit("onFilterMenuSelect",t)},n.hideFilterMenu=function(){for(var e in n.buttons)angular.equals(e,"filterButton")||(n.buttons[e]=!1)};var a=function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})+"-option"};n.resetMenuSelection=function(t,a){n.afterFilterMenuName=a,e.$emit("onFilterMenuDeselect",t)},e.$on("filteredbyStatement",function(e,t){t&&(n.displayDates=!0,n.customMenuOptions&&n.resetMenuSelection("cardsButton","Card"),n.clearCategory()),n.dateRangeDisplay=""}),n.selectCategory=function(t){n.categorySelected=t,n.categoryDisplay=!0,n.hideFilterMenu(),e.$emit("categorySelected",n.categorySelected.value)},n.clearCategory=function(){n.categoryDisplay=!1,n.categorySelected=null,e.$emit("categoryClear")},n.displayToggle=function(e){t(function(){"undefined"==typeof n.buttons[e]&&(n.buttons[e]=!1),n.lastClickedButton&&"filterButton"!==n.lastClickedButton&&n.lastClickedButton!==e&&(n.buttons[n.lastClickedButton]=!1),n.lastClickedButton=e,n.buttons[e]=!n.buttons[e],n.buttons[e]&&t(function(){document.getElementsByClassName(a(e))[0]&&document.getElementsByClassName(a(e))[0].focus()},200)},200)},n.isFilterVisible=function(){var e=n.afterFilterMenuName||"";return n.buttons.filterButton||n.displayDates||n.categoryDisplay||e&&"card"!==e.toLowerCase()},n.selectStatementLink=function(){n.displayToggle("dateButton"),e.$emit("selectStatementLink")},n.clearDates=function(){n.startDate=null,n.endDate=null,n.displayDates=!1,n.selectedStatement=null,n.resetMenuSelection("Date")}}return{restrict:"AE",scope:{filterParams:"=filterCriteria",showStatementLink:"=?",selectedStatement:"=?",maximumAcceptableDate:"=",minimumAcceptableDate:"=",customMenuUrl:"=",showCategory:"=?",categories:"=?"},templateUrl:"/ease-ui/dist/partials/filter.html",bindToController:!0,controller:["$scope","$timeout",n],controllerAs:"filterCtrl"}}function t(e){return{restrict:"A",link:function(t,n,a){var r=!0;n.bind("keydown",function(n){r=!1,13===n.which||32===n.which?(n.currentTarget.click(),t.filterCtrl.hideFilterMenu(),r=!0):27===n.which&&e(function(){t.filterCtrl.hideFilterMenu()},200)}),n.bind("mousedown",function(e){r=!1})}}}angular.module("filterComponent",["easeDateRangePicker"]).directive("filter",["$timeout",e]).directive("filterButtonBlur",["$timeout",t])}),define("dateLocalization",["angular","moment","require"],function(e,t,n){"use strict";function a(e){function a(a){function r(){t.locale(o)}t.locale("en");var o=e.localeMap[a.toUpperCase()].momentLocaleId;"en"!==o&&n(["moment/locale/"+o],r)}function r(e,n){var a=t.parseZone(e);return 0===a.utcOffset()&&(a=t(e).utc()),a.format(n)}function o(e,n){return t(e,n).toDate()}function s(e,n){var a=t.tz.guess(),r=t.utc(e).local(),o=r.format(n),s=t.tz.zone(a).abbr(r);return o+s}return{loadLocale:a,localize:r,parse:o,timeZone:s,moment:t}}function r(e){return function(t,n){return e.localize(t,n)}}e.module("easeAppUtils").constant("localeConstants",{defaultLocale:"en-US",localeMap:{"EN-US":{momentLocaleId:"en",ngTranslateLocaleId:"en_US"},"ES-US":{momentLocaleId:"es",ngTranslateLocaleId:"es_US"},"EN-CA":{momentLocaleId:"en-ca",ngTranslateLocaleId:"en_CA"},"FR-CA":{momentLocaleId:"fr-ca",ngTranslateLocaleId:"fr_CA"}}}).factory("dateLocalizationService",a).filter("l10nDate",r),a.$inject=["localeConstants"],r.$inject=["dateLocalizationService"]}),define("easeCustomerProperty",["angular"],function(e){"use strict";e.module("easeCoreConstants",[]).constant("easeCoreConstant",{kBuildVersionPath:"/ver@@buildVersionCore"})}),define("easeCustomerUtils",["angular"],function(e){"use strict";var t=e.module("coreUtils",[]);return t.provider("easeCoreTemplates",[function(){var t=this;e.extend(this,{get:function(e,t,n){switch(n=n?n:"index",e){case"PersonalInformation":case"MessagesAlerts":case"Settings":case"ProfilePhone":case"VirtualCards":return"/ease-ui/dist/features/CustomerSettings/"+e+"/html/"+e+"-"+n+".html";default:return"/ease-ui/dist/features/"+e+"/html/"+e+"-"+n+".html"}}}),this.$get=function(){return t}}]),t.provider("easeCoreFiles",["EaseConstant",function(t){var n=this;e.extend(this,{get:function(e,n,a){var r,o,s=["CustomerSettings","Widgets","AccountSummary"];if(Array.isArray(n)&&s.indexOf(n[0])!==-1||s.indexOf(n)!==-1){if("string"==typeof n){var i=[n];n=i}return r=/,/gi,o=n.toString().replace(r,"/"),"/ease-ui"+t.kBuildVersionPath+"/dist/features/"+o+"/"+n[n.length-1]+"-"+e+".js"}return"/ease-ui"+t.kBuildVersionPath+"/dist/features/"+n+"/"+n+"-"+e+".js"},getFile:function(e){return"/ease-ui"+t.kBuildVersionPath+"/dist/"+e},getFiles:function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.getFile(e))}),n},getComponent:function(e,n){return"/ease-ui"+t.kBuildVersionPath+"/dist/features/"+e+"/"+n+"/"+n+".js"}}),this.$get=function(){return n}}]),t});var LineOfBusiness={CreditCard:"CC",AutoLoan:"AL"};define("interPageUtils",["angular"],function(e){"use strict";function t(t,n,a,r,o,s,i,c,l,u,d){function p(t){var n="/",o=[];if(t&&t.path&&(t.internalToEase||e.isUndefined(t.internalToEase))){var i=t.path;o=i.split(n);var c=C(i);i=y(c,o,t.path);var p=r.getSummaryData().accounts,m=p?b(p,c):null;if(t.isLogoutInterstitial)return a.load({name:"LogoutInterstitial",files:[l.get("controller","LogoutInterstitial")]},function(){return u.info("Error loading Logout Interstitial Controller.")}).then(function(){d.launchFeatureModal(t)});Array.isArray(o)&&o.length>=3&&!f(o[2])&&g(o[1])&&m?this.openModal(m,i):s.path(i)}else r.redirectLinking(t)}function f(e){return!!e&&t.get().some(function(t){return t.url&&t.url.match(e)})}function g(e){return e.toLowerCase()===c.states.kAccountSummary.toLowerCase()}function m(e){var t;switch(e){case LineOfBusiness.AutoLoan:t=["js!AutoLoan"];break;case LineOfBusiness.CreditCard:t=["js!CreditCard"];break;default:n.displayErrorHandler("openModal","No lob defined")}return t}function h(e,n){var r=m(e);r&&a.load(r).then(function(){var e=i.getStateFrom(n);e&&t.go(e.name,e.params)})}function v(e){var t,n="/";if(e.indexOf(n)>=0){t=e.split(n);var a=encodeURIComponent(n);e=t.join(a)}return e}function y(e,t,n){return e=v(e),e&&t.length>4?"/"+t[1]+"/"+e+"/"+t[t.length-1]:n}function b(e,t){var n=_.find(e,function(e){return e.referenceId===t});return n&&n.category?n.category:""}function C(e){return e&&e.substring(e.indexOf("/",1)+1,e.lastIndexOf("/"))}return{interstitialAdapter:p,openModal:h,getLob:b,getAcctRefIdFromPath:C,loadDependencies:m,buildUrl:y,encodeRefId:v}}e.module("easeAppUtils").provider("interPageState",["$stateProvider",function(t){var n=this;e.extend(n,{addState:function(e){t.state(e)}}),this.$get=function(){return n}}]).factory("interPageService",t),t.$inject=["$state","easeExceptionsService","$ocLazyLoad","EASEUtilsFactory","summaryService","$location","RoutingUtils","EaseConstant","easeCoreFiles","$log","LogoutInterstitialService"]}),define("routingUtils",["easeUtils"],function(e){"use strict";var t=function(){function e(e){this._$state=e,this.getParams=function(e){return e?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce(function(e,t){var n=t.split(/=(.+)/),a=n[0],r=n[1];return e[a]=r?decodeURIComponent(r):"",e},{}):{}}}return e.prototype.decodeParams=function(e){return void 0===e&&(e={}),Object.keys(e).forEach(function(t){"string"==typeof e[t]&&(e[t]=decodeURIComponent(e[t]))}),e},e.prototype.getStateFrom=function(e){function t(e){var t=!!e.$$state,n=t?e.$$state():null,o=!!n,s=o?n.url:null,i=!e.abstract&&!!s&&"mainState"!==e.name&&e.name.indexOf("L1")===-1&&s.exec(a,r),c=i&&s.prefix?s.prefix.length:0;return!!i&&{params:i,prefixLength:c,name:e.name}}var n=e.split("?"),a=n[0],r=n.length>1?this.getParams(n[1]):{},o=this._$state.get().map(t).filter(function(e){return e}).sort(function(e,t){return t.prefixLength-e.prefixLength}),s=_(o).first();if(s){var i=this.decodeParams(s.params);return{name:s.name,params:i}}return null},e.$inject=["$state"],e}();e.service("RoutingUtils",t)}),define("stepUtils-step",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var n=this;this.$injector=e,this.step=t,this.updateStatus=function(e){return n.updateStatusProps(e),n.logStatus(e),n.postStatusToSteps()},this.updateStatusProps=function(e){e.status&&n.hasOwnProperty(e.status.toLowerCase())&&(n[e.status.toLowerCase()]=!0),n.error=e.status===n.EaseConstant.kStepsStatus.error,n.status=e.status,n.content=e.content,n.header=e.header},this.postStatusToSteps=function(){if(n.isValidStepStatus()&&(n.status!==n.EaseConstant.kStepsStatus.displayed||!n.displayedPostedToSteps))return n.status===n.EaseConstant.kStepsStatus.displayed&&(n.displayedPostedToSteps=!0),n.stepService.postStatusToSteps({newState:n.status,stepCode:n.stepCode,accountReferenceId:n.accountReferenceId})},this.isValidStepStatus=function(){return n.status===n.EaseConstant.kStepsStatus.displayed||n.status===n.EaseConstant.kStepsStatus.completed||n.status===n.EaseConstant.kStepsStatus.dismissed},this.account=this.step.account,this.accountReferenceId=this.step.accountReferenceId,this.applicationData=this.step.applicationData,this.campaignCode=this.step.campaignCode,this.completed=this.step.completed,this.completionStatus=this.step.completionStatus,this.config=this.step.config,this.content=this.step.content,this.dismissed=this.step.dismissed,this.displayed=this.step.displayed,this.error=this.step.error,this.header=this.step.header,this.resultData=this.step.resultData,this.hydrationPromise=this.step.hydrationPromise,this.isProfileLevel=this.step.isProfileLevel,this.order=this.step.order,this.precompleted=this.step.precompleted,this.state=this.step.state,this.status=this.step.status,this.stepCode=this.step.stepCode,this.url=this.step.url}return Object.defineProperty(e.prototype,"stepService",{get:function(){return this.$injector.get("stepService")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EaseConstant",{get:function(){return this.$injector.get("EaseConstant")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logService",{get:function(){return this.$injector.get("$log")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialogBackgroundImageUrl",{get:function(){var e=this.stepService.asuBookendStepList.isSingleAccountSetup()?this.stepService.asuBookendStepList.getAccountList()[0]:this.account;return e&&e.contentImage&&e.contentImage.deviceResolutionFullPath?e.contentImage.deviceResolutionFullPath.tileBackground:""},enumerable:!0,configurable:!0}),e.prototype.logStatus=function(e){if(!(this.status===this.EaseConstant.kStepsStatus.displayed&&this.displayedPostedToSteps||e.status!==this.EaseConstant.kStepsStatus.displayed&&e.status!==this.EaseConstant.kStepsStatus.error&&e.status!==this.EaseConstant.kStepsStatus.completed&&e.status!==this.EaseConstant.kStepsStatus.dismissed)){var t="accountsetup "+this.stepCode+":"+e.status;this.logService.log(t)}},e}();t.Step=n}),define("stepUtils-asuBookendStep",["require","exports","./stepUtils-step"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,a,r){var o=this;this.$injector=t,this.hasSubSteps=function(){return!!o.subSteps&&!!o.subSteps.length},this.getSubSteps=function(){return o.hasSubSteps()?o.subSteps:null},this.goToNextStep=function(e){o.stepService.stepToReturnTo=e?null:o.stepService.stepToReturnTo;var t=o.stepService.stepToReturnTo||o.next;return t?void t.navigateTo():o.stepService.exitSteps()},this.navigateTo=function(e){for(var t=o.parentStep||o;t.step.completed;)t=t.next;return o.stepService.stepToReturnTo=e||o.stepService.stepToReturnTo,o.stepService.toggleSpinner(!0),t.loadStateDependencies().finally(function(){t.step.config&&t.step.config.setDisplayedOnStateChange&&t.step.updateStatus({status:o.EaseConstant.kStepsStatus.displayed}),o.$state.go(t.step.state,{accountReferenceId:t.step.accountReferenceId,stepCode:t.step.stepCode,accountsetup:!0}).then(function(){},function(e){return o.$log.error(e)}).finally(function(){t.isElement().then(function(e){e||o.stepService.toggleSpinner(!1)}),t.prefetchNextStep()})})},this.loadComponentDependencies=function(e){if(void 0===e&&(e=function(){}),o.step.hydrationPromise)return o.step.hydrationPromise;var t=o.step.config,n=t.dependencies,a=t.componentized,r=t.element;return o.isElement().then(function(t){if(t)o.step.hydrationPromise=o.angularElementsUtils.getAngularElementsDependencies().then(function(){return o.loadLobBundleDependency(n,e)}).then(function(){return o.angularElementsUtils.getAngularElementsFeature([r.amdModuleName])});else if(a&&n){var s=n.componentDependencies,i=n.componentName,c=n.service;return o.step.hydrationPromise=o.$ocLazyLoad.load(s).then(function(){if(i&&!o.$injector.has(i))throw new Error("Failed to find component: "+i);return c?o.$injector.get(c.name)[c.method]():null}).catch(function(t){o.$log.error("Failed to load dependencies: "+t),o.step.hydrationPromise=null,e()}),o.step.hydrationPromise}})},this.isElement=function(){return o.featureToggleFactory.initializeFeatureToggleData().then(function(e){var t=!!e["ease.core.steps.featureElements"],n=o.step.config.element,a=!(!n||n.featureToggle&&!e[n.featureToggle]);return t&&a}).catch(function(){return!1})},this.prefetchNextStep=function(){if(o.next){var e=o.next.step.config;if(e&&e.componentized)return o.next.loadComponentDependencies()}},this.loadStateDependencies=function(){var e=o.step.config,t=e&&e.dependencies&&e.dependencies.stateDependencies?e.dependencies.stateDependencies:[];return o.$ocLazyLoad.load(t)},this.loadLobBundleDependency=function(e,t){if(void 0===t&&(t=function(){}),e){var n=e.componentDependencies;return o.step.hydrationPromise=o.$ocLazyLoad.load(n).catch(function(e){o.$log.error("Failed to load dependencies: "+e),o.step.hydrationPromise=null,t()}),o.step.hydrationPromise}},this.step=a,this.next=null,this.prev=null,a.resultData&&a.resultData.length&&(this.subSteps=a.resultData.map(function(a){return new e(t,new n.Step(t,a),o)})),r&&(this.parentStep=r)}return Object.defineProperty(e.prototype,"$state",{get:function(){return this.$injector.get("$state")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$log",{get:function(){return this.$injector.get("$log")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$q",{get:function(){return this.$injector.get("$q")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$ocLazyLoad",{get:function(){return this.$injector.get("$ocLazyLoad")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EaseConstant",{get:function(){return this.$injector.get("EaseConstant")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepService",{get:function(){return this.$injector.get("stepService")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angularElementsUtils",{get:function(){return this.$injector.get("angularElementsUtils")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"featureToggleFactory",{get:function(){return this.$injector.get("featureToggleFactory")},enumerable:!0,configurable:!0}),e}();t.AsuBookendStep=a});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("stepUtils-asuBookendStepList",["require","exports","./stepUtils-asuBookendStep"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];var r=this;this.$injector=e,this.getStepByStepCodeAndAccountReferenceId=function(e,t){return r.toArray().filter(function(n){return n.step.accountReferenceId===t&&n.step.stepCode===e})[0]},this.getStepByStateAndAccountReferenceId=function(e,t){return r.toArray().filter(function(n){return n.step.accountReferenceId===t&&n.step.state===e})[0]},this._head=this._tail=null,this._length=0,t.length>0&&t.forEach(function(e){r.append(new n.AsuBookendStep(r.$injector,e))})}return e.prototype.get=function(e){if(e>this.length)return null;for(var t=this._head,n=0;n<e;n++)t=t.next;return t},Object.defineProperty(e.prototype,"head",{get:function(){return this._head},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tail",{get:function(){return this._tail},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.append=function(e){this._tail?(this._tail.next=e,e.prev=this._tail,this._tail=e):this._head=this._tail=e,this._length++},e.prototype.toArray=function(){var e=[],t=this._head;if(!t)return e;do e.push(t),t=t.next;while(t);return e},e.prototype.toArrayWithoutBookends=function(){var e=this.toArray().map(function(e){return e.getSubSteps()||[e]}).reduce(function(e,t){return e.concat(t)},[]);return e.filter(function(e){return e.step.config.betweenBookends&&!e.hasSubSteps()})},e.prototype.toArrayOfAccounts=function(){var e=this;return this.getAccountList().map(function(t){return __assign({},t,{asuBookendSteps:e.toArrayWithoutBookends().filter(function(e){return e.step.account&&e.step.account.referenceId===t.referenceId&&!e.hasSubSteps()})})})},e.prototype.getRemainingSteps=function(){return this.toArrayWithoutBookends().filter(function(e){return!e.step.precompleted}).filter(function(e){return!e.step.completed}).filter(function(e){return!e.step.error})},e.prototype.hasRemainingSteps=function(){return!!this.getRemainingSteps().length},e.prototype.getAccountList=function(){
return this.toArrayWithoutBookends().map(function(e){return e.step.account}).filter(function(e,t,n){return e&&n.indexOf(e)===t})},e.prototype.isMultiAccountSetup=function(){return this.getAccountListLength()>1},e.prototype.isSingleAccountSetup=function(){return 1===this.getAccountListLength()},e.prototype.getAccountListLength=function(){return this.toArrayOfAccounts().length},e}();t.AsuBookendStepList=a});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("stepUtils",["require","exports","angular","./stepUtils-step","./stepUtils-asuBookendStepList"],function(e,t,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;!function(e){e.challengeApp="ChallengeApp"}(o=t.StepsLaunchSource||(t.StepsLaunchSource={})),t.AccountSetupLOBMap={coaf:["AL"],card:["CC"],bank:["SA","DDA","MMA","CD","LOC","ILA"]};var s;!function(e){e.autoLoan="AL",e.card="CC"}(s=t.AccountCategory||(t.AccountCategory={}));var i=function(){function e(e,i,c,l,u,d,p,f,g,m,h,v,y,b,C,S,E,A,k,D,T,_){var P=this;this.summaryService=e,this.Restangular=i,this.EaseConstant=c,this.featureToggleFactory=l,this.$state=u,this.customerPlatformDetailsFactory=d,this.$log=p,this._=f,this.EASEUtilsFactory=g,this.$rootScope=m,this.$ocLazyLoad=h,this.$timeout=v,this.i18nContent=y,this.easeUIModalService=b,this.easeCoreTemplates=C,this.easeCoreFiles=S,this.StepsConfig=E,this.$injector=A,this.pubsubService=k,this.$q=D,this.otpService=T,this._adobeCampaignUtils=_,this.contactInfoCompleted=!1,this.isStepsFinished=!1,this.showAccountSetUpWidget=!1,this.adobeTargetModalOptions={showCloseButton:!0,allowBackgroundClose:!0},this.isUserAtAppropriateLevel=!1,this._isHarmonyAsu=!1,this._isInitialized=!1,this._stateChangeStartListener=void 0,this._stateChangeListener=void 0,this._stepFlowMode=null,this._isUserInStepsFlow=!1,this._stepsStatusUpdates=[],this._isInABModalExperience=!1,this.openAreYouSureModal=function(){var e=P.$rootScope.$new();n.extend(e,{i18nContent:P.i18nContent,exitSteps:P.exitSteps,stay:P.$state.reload}),P.easeUIModalService.showModal({templateUrl:P.easeCoreTemplates.get("Bookends","","leaveStepsConfirmation"),scope:e}).then(function(e){P.pubsubService.pageView({levels:["steps "+P.stepFlowMode,"are you sure"]}),P._stateChangeListener=P.$rootScope.$on("$stateChangeStart",function(){e.scope.close(),P._stateChangeListener()})})},this.stepsRouteGuard=function(){var e=P.$q.defer();return P._isUserInStepsFlow?e.resolve():P.$timeout(function(){P.$state.go(P.EaseConstant.states.kAccountSummary),e.reject()},0),e.promise},this.unsubscribeToAllListeners=function(){P._stateChangeStartListener=P._stateChangeStartListener?P._stateChangeStartListener():void 0,P._stateChangeListener=P._stateChangeListener?P._stateChangeListener():void 0},this.getIsInitialized=function(){return P._isInitialized},this.initSteps=function(e){return void 0===e&&(e={refreshAccountSummary:!1,stepFlowMode:"ftux"}),P.canTriggerHarmonyASU()?P.$q.when():(P.stepFlowMode=e.stepFlowMode||"ftux",P._initStepsPromise=new Promise(function(t,n){(P.summaryService.summary&&!e.refreshAccountSummary?P.summaryService.get():P.summaryService.set()).then(function(a){P._accounts=a.accounts;var r=P._formatInitStepsBody(a,e.unsupportedValidatorCodes),o=P._formatInitStepsHeaders(),s="ftux"===P.stepFlowMode?P.EaseConstant.kGetStepsUrl:P.EaseConstant.kGetStepsAllUrl;P.Restangular.all(s).withHttpConfig({timeout:1e4}).customPOST(r,"",{},o).then(function(r){var o=(void 0===r?{}:r).steps,s=void 0===o?[]:o;P._isInitialized=!0,s&&Array.isArray(s)&&s.length?P.customerPlatformDetailsFactory.initializeCustomerPlatform().then(function(r){P.isEaseM(r)?P.createSteps(s,a.accounts,e.challengeAppSteps,P.stepFlowMode,e.launchSource).then(function(){return P.validStepsExist()?t():n()},n):n()}).catch(function(e){P.$log.error("Steps Customer Platform Rest call Failure - "+e),n()}):n()}).catch(function(e){P._isInitialized=!0,P.$log.error(e),n()})}).catch(function(e){P._isInitialized=!0,P.$log.error(e),n()})}),P._initStepsPromise)},this.toggleSpinner=function(e){return P.$rootScope.$emit(P.EaseConstant.listeners.bookendsSpinner,e)},this.isSingleStep=function(){return 1===P.asuBookendStepList.toArrayWithoutBookends().length},this.exitSteps=function(){P.showAccountSetUpWidget&&(P._areThereRemainingOrderedWidgetSteps()?P._prepareStepsForSecondPassThrough():P.showAccountSetUpWidget=!1),P.unsubscribeToListeners(),P._isUserInStepsFlow=!1,P.$rootScope.$broadcast("refreshWidgetContent"),P.$state.go(P.EaseConstant.states.kAccountSummary)},this.startStepsExperience=function(e){return void 0===e&&(e="ftux"),(P._initStepsPromise||P.$q.when()).then(function(){var t="ftux"===e&&P.steps&&P.steps.contactInfo&&P.steps.contactInfo.length,n="ftux"===e&&P.asuBookendStepListFtux&&P.asuBookendStepListFtux.head,a="widget"===e&&P.asuBookendStepListWidget&&P.asuBookendStepListWidget.head;return!!(t||n||a)&&(P._isUserInStepsFlow=!0,P.stepFlowMode=e,t?P._getABTestGroup().then(function(){return P._isInABModalExperience?P.$state.go(P.EaseConstant.states.kContactInfoModal).then(function(){return!0}):P.$state.go(P.EaseConstant.states.kCampaign).then(function(){return!0})}):(P.asuBookendStepList="ftux"===e?P.asuBookendStepListFtux:P.asuBookendStepListWidget,P.initStateListeners(),P.asuBookendStepList.head.navigateTo().then(function(){return!0})))})},this.exitContactInfo=function(){P.steps&&P.steps.ftux&&P.steps.ftux.length?(P.asuBookendStepList=new(r.AsuBookendStepList.bind.apply(r.AsuBookendStepList,[void 0,P.$injector].concat(P.steps.ftux))),P.initStateListeners(),P._isUserInStepsFlow=!0,P.asuBookendStepList.head.navigateTo()):P.exitSteps()},this.buildOriginalProductName=function(e){var t=this.getAccountByReferenceId(e);return t?t.originalProductName:null},this.buildLastFour=function(e){var t=this.getAccountByReferenceId(e);return t?t.accountNumberTLNPI?t.accountNumberTLNPI.slice(-4):"":null},this.buildOriginalProductNameAndLastFour=function(e){var t=P.getAccountByReferenceId(e);return t?P.buildOriginalProductName(e)+" ..."+P.buildLastFour(e):null},this.buildLocalizedNumberContentKey=function(e){var t={1:"ease.common.one",2:"ease.common.two",3:"ease.common.three"},n=t[e];return P.i18nContent[n]||""},this.buildDynamicContent=function(e,t){var n=[{key:"#originalProductName#",builder:function(){return P.buildOriginalProductName(t)}},{key:"#lastFour#",builder:function(){return P.buildLastFour(t)}},{key:"#originalProductNameAndLastFour#",builder:function(){return P.buildOriginalProductNameAndLastFour(t)}},{key:"#widgetStepCount#",builder:function(){return P.steps.widget.filter(function(e){return e.config.betweenBookends}).length.toString()}},{key:"#numberOfAccountsBookend#",builder:function(){var e=P.asuBookendStepList.getAccountListLength();return P.buildLocalizedNumberContentKey(e)}},{key:"#numberOfAccountsWidget#",builder:function(){var e=P.asuBookendStepListWidget.getAccountListLength();return P.buildLocalizedNumberContentKey(e)}}];return n.filter(function(t){return e&&e.indexOf(t.key)!==-1}).forEach(function(t){e=e.replace(new RegExp(t.key,"g"),t.builder()).replace(/  +/g," ")}),e},this.getLobByProductTypeCode=function(e){if(!e)return"";for(var n in t.AccountSetupLOBMap)if(t.AccountSetupLOBMap[n].indexOf(e)>-1)return n;return P.$log.error("No match found this productTypeCode: "+e+"."),""},this.getPubSubLevels=function(e,t){var n=P.asuBookendStepList.isMultiAccountSetup()?P.EaseConstant.pubsub.multiASU:P.getLobByProductTypeCode(t),a=P.stepFlowMode;return[[P.EaseConstant.pubsub.accountSetup,n,a].filter(function(e){return e}).join(" "),e]},this.stateChangeListener=function(e,t,n,a,r){if(t.name===P.EaseConstant.states.kAccountSummary)return e.preventDefault(),P.asuBookendStepList.hasRemainingSteps()&&[P.EaseConstant.states.kBackBookEnd,P.EaseConstant.states.kWelcome].indexOf(P.$state.current.name)===-1?P.openAreYouSureModal():P.exitSteps();if(Object.keys(P.config).map(function(e){return P.config[e].state}).indexOf(t.name)===-1&&t.name!==P.EaseConstant.states.kContactInfoModal)return e.preventDefault(),P.exitSteps();var o=n.accountReferenceId,s=t.name,i=P.asuBookendStepList.getStepByStateAndAccountReferenceId(s,o);i&&(t.data=__assign({},t.data,{stepStart:{currentStep:i.step,updateStep:function(e,n){void 0===n&&(n=""),i.step.updateStatus({status:e,content:n}),e!==P.EaseConstant.kStepsStatus.displayed&&i.goToNextStep(),t.data.stepStart.updateStep=function(){}},footerButton:{label:P.i18nContent["ease.core.bookend.front.dismissbutton"],callback:function(){i.goToNextStep()}}}}))},this.initStateListeners=function(){P.asuBookendStepList&&P.asuBookendStepList.toArrayWithoutBookends().length&&(P._stateChangeStartListener=P.$rootScope.$on("$stateChangeStart",P.stateChangeListener))},this.unsubscribeToListeners=function(){P._stateChangeStartListener&&P._stateChangeStartListener()},this.createStepsForAllAccounts=function(e,t){var n=function(e,t){var n=e.steps.ftux.length>0,a=t.steps.ftux.length>0;return n&&a||!n&&!a?new Date(e.account.openDate)>new Date(t.account.openDate)?-1:1:n?-1:1};return t.map(function(t){return P.createStepsForUser(e,t)}).sort(n)},this.getContactInfoSteps=function(e,t){return e.filter(function(e){return e.config.contactInfo}).filter(function(e){return!t||!e.accountReferenceId||e.accountReferenceId===t})},this.createStepsForUser=function(e,t){var n=e.filter(function(e){return!e.accountReferenceId||e.accountReferenceId===t.referenceId}),a=n.filter(function(e){return e.config.betweenBookends});return a=P._handleStepExclusions(a),{account:t||void 0,otpCheckRequired:!!P._getOtpStep(a),steps:{contactInfo:P.getContactInfoSteps(e,t?t.referenceId:void 0),ftux:a.filter(P._ftuxFilter),adSpace:e.filter(P._backBookendAdSpaceFilter),widget:a.filter(P._widgetFilter)}}},this._getParentStep=function(e){var t=e.filter(function(e){return e.resultData&&e.resultData.length})[0];return t&&(t.config=P.config[t.stepCode]),t},this._buildSubSteps=function(e,t){if(e)return e.resultData=e.resultData.map(function(e){return P._formatSteps([e],t)[0]}),e},this.createSteps=function(e,t,n,r,s){void 0===n&&(n=null),void 0===r&&(r="ftux");var i=P._getParentStep(e);i&&(i=P._buildSubSteps(i,t));var c=P._formatSteps(e,t);if(s===o.challengeApp&&"ftux"===r&&c.forEach(function(e){n.forEach(function(t){e.stepCode===t.stepCode&&e.accountReferenceId===t.accountRefId&&(e.applicationData.placement="ftux")})}),P.multiAccountSetupEnabled)return P.createMultiAccountSteps(c,t,r,n,s);var l=P._getStepsForAccounts(c,t),u=0===l.length,d=u?[P.createStepsForUser(c)]:P.createStepsForAllAccounts(c,l),p=d[0],f=d.filter(function(e){return e.account&&e.account.referenceId===(n?n[0].accountRefId:null)})[0],g=P._pickUpStepAccountToUse(p,f),m=P._getFtuxStepsOverWidget(g);return P._checkUserOtpLevelForSteps(m).then(function(e){P.isUserAtAppropriateLevel=e;var t=d[0];m=P._getFtuxStepsOverWidget(t);var n=!e,r=P._combineBookEnds(m,n),o=!!t.steps.ftux.length;P.steps={contactInfo:(P._clearOutContactInfoSteps(t.steps.contactInfo)?[]:t.steps.contactInfo).map(function(e){return new a.Step(P.$injector,e)}),adSpace:t.steps.adSpace.map(function(e){return new a.Step(P.$injector,e)}),ftux:(o?r:[]).map(function(e){return new a.Step(P.$injector,e)}),widget:(o?[]:r).map(function(e){return new a.Step(P.$injector,e)})},P.asuBookendStepListFtux=P._instantiateAsuBookendStepList("ftux"),P.asuBookendStepListWidget=P._instantiateAsuBookendStepList("widget"),P.showAccountSetUpWidget=!!P.steps.widget.length&&0===P.steps.ftux.length})},this.validStepsExist=function(){return!P._.isEmpty(P.steps.ftux)||!P._.isEmpty(P.steps.widget)||!P._.isEmpty(P.steps.contactInfo)},this.isSessionCOAF=function(){var e=P.asuBookendStepList.toArrayOfAccounts()[0].category;return"AL"===e},this.getAccountByReferenceId=function(e){return e?P._accounts.filter(function(t){return t.referenceId===e}).pop():null},this.createMultiAccountSteps=function(e,t,n,r,o){return P.containsNonAutoLoanAccounts(e)&&e.filter(function(e){return!e.account||e.account.category!==s.autoLoan}),P._checkUserOtpLevelForSteps(e).then(function(n){P.isUserAtAppropriateLevel=n;var r=P.createBookendMultiAccountSteps(e,t,"ftux",!P.isUserAtAppropriateLevel),o=P.createBookendMultiAccountSteps(e,t,"widget",!P.isUserAtAppropriateLevel),s=e.filter(function(e){return e.config.contactInfo}).map(function(e){return new a.Step(P.$injector,e)}),i=e.filter(function(e){return e.config.backBookendAdSpace}).map(function(e){return new a.Step(P.$injector,e)});P.steps={contactInfo:s,adSpace:i,ftux:r,widget:o},P.asuBookendStepListFtux=P._instantiateAsuBookendStepList("ftux"),P.asuBookendStepListWidget=P._instantiateAsuBookendStepList("widget"),P.showAccountSetUpWidget=!!P.steps.widget.length})},this.createBookendMultiAccountSteps=function(e,t,n,r){void 0===r&&(r=!1);var o=e.filter(function(e){return e.config.betweenBookends}).filter(function(e){return e.accountReferenceId||e.resultData&&e.resultData.length}).filter(function(e){return e.applicationData.placement===n}),s=P._combineBookEnds(o,r);return s.map(function(e){return new a.Step(P.$injector,e)})},this.containsNonAutoLoanAccounts=function(e){return!!e.filter(function(e){return e.account&&e.account.category!==s.autoLoan}).length},this._getStepByStateAndAccountReferenceId=function(e,t){var n=P._.findIndex(P.asuBookendStepList.toArray(),function(n){return n.step.accountReferenceId===t&&n.step.state===e});return P.asuBookendStepList.get(n)},this._handleStepExclusions=function(e){var t=e.filter(function(e){return e.config.excludeStepsIfPresentList}).map(function(e){return e.config.excludeStepsIfPresentList}),n=t.length?t.reduce(function(e,t){return e.concat(t)}):[];return n&&(e=e.filter(function(e){return n.indexOf(e.stepCode)===-1})),e},this._FilterOutRepeatedRequests=function(e){return function(t){return t[e.toLowerCase()]===!1}},this._featureToggleFilterByStepObject=function(e){var t=e.config&&e.config.featureToggle||[];return P._featureToggleFilter(t)},this._featureToggleFilterByStepCode=function(e){var t=P.config[e]&&P.config[e].featureToggle||[];return P._featureToggleFilter(t)},this._featureToggleFilter=function(e){var t=P.featureToggleFactory.getFeatureToggleData();return e.every(function(e){return t[e]})},this._showFilter=function(e){return["show"].indexOf(e.status.toLowerCase())>-1},this._ftuxFilter=function(e){return e.applicationData&&/ftux/i.test(e.applicationData.placement)},this._widgetFilter=function(e){return e.applicationData&&/widget/i.test(e.applicationData.placement)&&e.config.widget},this._noRefIdProvidedFilter=function(e){return!/NOT_PROVIDED/i.test(e.accountReferenceId)},this._backBookendAdSpaceFilter=function(e){return e&&e.config&&e.config.backBookendAdSpace},this._clearAllHydrationPromises=function(){P.asuBookendStepList&&P.asuBookendStepList.toArray().forEach(function(e){return e.step.hydrationPromise=null})},this.isEaseM=function(e){return e.customerPlatform.indexOf("EASEM")>-1},this._addPropertiesToSteps=function(e,t){return e.map(function(e){return __assign({},e,{account:t.filter(function(t){return t.referenceId===e.accountReferenceId})[0],config:P.config[e.stepCode],state:P.config[e.stepCode].state,displayed:!1,completed:!1,dismissed:!1,precompleted:e.completionStatus===P.EaseConstant.kStepsStatus.precompleted})})},this._formatInitStepsBody=function(e,t){return void 0===t&&(t=[]),{accountInfos:P._formatAccountInfos(e.accounts),compositeNeeded:!!P.multiAccountSetupEnabled,showFailed:!0,hideProfileLevelSteps:!1,setDisplayed:!1,showHidden:!0,showCompleted:!0,supportedValidatorCodes:Object.keys(P.config).filter(function(e){return t.indexOf(e)===-1}).filter(function(e){return e!==P.EaseConstant.stepType.frontBook}).filter(function(e){return e!==P.EaseConstant.stepType.backBook}).filter(P._featureToggleFilterByStepCode)}},this._formatAccountInfos=function(e){var t=P.EaseConstant.kStepsEntitlementAct;return e.filter(function(e){return t.indexOf(e.accountStatus)<0}).map(function(e){return{customerRole:e.customerRole,openDate:e.openDate,isCancelled:!1,accountReferenceId:e.referenceId||"",productName:e.displayName||"",productTypeCode:e.category||""}})},this._formatInitStepsHeaders=function(){return{Accept:"application/json; v=3",appName:P.EaseConstant.requestHeaders.appName,"Content-Type":"application/json",disableErrorInterceptor:!0,EVT_SYNCH_TOKEN:P.EASEUtilsFactory.generateSyncId(),"api-key":P.EaseConstant.requestHeaders.stepsApiKey}},this._combineBookEnds=function(e,t){if(e.length<1)return e;var n=e.some(function(e){return e.resultData&&e.resultData.length});if(e.length>1||n||t){var a=P._createBookObject(P.EaseConstant.stepType.frontBook);e.unshift(a)}var r=P._createBookObject(P.EaseConstant.stepType.backBook);return e.push(r),e},this._createBookObject=function(e){return{displayed:!1,completed:!1,stepCode:e,state:P.config[e].state,config:P.config[e]}},this._formatSteps=function(e,t){e=e.filter(function(e){return!!P.config[e.stepCode]});var n=P._addPropertiesToSteps(e,t).filter(P._featureToggleFilterByStepObject).filter(P._showFilter).filter(P._noRefIdProvidedFilter);return P.multiAccountSetupEnabled||n.sort(function(e,t){return e.order-t.order}),P._.uniq(n,function(e){return e.stepCode+":"+e.accountReferenceId})},this._getOtpStep=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.config&&n.config.otpLevelCheckRequired)return n}},this._checkUserOtpLevelForSteps=function(e,t){var n=P._getOtpStep(e);return n&&t!==o.challengeApp?P.otpService.hasUserCorrectOtpLevel(P.otpService.OtpFeature.ACCT_SETUP).then(function(e){return e},function(){return!1}):P.$q.when(!0)},this._getFtuxStepsOverWidget=function(e){return e.steps.ftux.length?e.steps.ftux:e.steps.widget},this._pickUpStepAccountToUse=function(e,t){return t||e},this._clearOutContactInfoSteps=function(e){return e.contactInfo&&1===e.contactInfo.length&&!P.isSessionCOAF()&&e.contactInfo[0].stepCode===P.EaseConstant.stepType.autoLink},this._getStepsForAccounts=function(e,t){var n=e.filter(function(e){return e.accountReferenceId}).map(function(e){return e.accountReferenceId});n=P._.uniq(n,function(e){return e});var a=t.filter(function(e){return n.indexOf(e.referenceId)>=0});return P._.uniq(a,function(e){return e.referenceId})},this._instantiateAsuBookendStepList=function(e){return"ftux"===e?new(r.AsuBookendStepList.bind.apply(r.AsuBookendStepList,[void 0,P.$injector].concat(P.steps.ftux))):new(r.AsuBookendStepList.bind.apply(r.AsuBookendStepList,[void 0,P.$injector].concat(P.steps.widget)))},this._getABTestGroup=function(){return P._adobeCampaignUtils.globalOffersCall(P.EaseConstant.kAdobeTargetGlobalMbox,{baseline:"core"}).then(function(e){return P._adobeCampaignUtils.parseAdobeTargetFullResponse(e,"contactInfoModal",!0)},function(e){}).then(function(e){P._isInABModalExperience=!!(e&&e[0]&&e[0].hasOwnProperty("closeButton"))})},this.config=this.StepsConfig.config}return Object.defineProperty(e.prototype,"stepFlowMode",{get:function(){return this._stepFlowMode},set:function(e){this._stepFlowMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiAccountSetupEnabled",{get:function(){return this.featureToggleFactory.getFeatureToggleData()["ease.core.steps.multiAccount"]},enumerable:!0,configurable:!0}),e.prototype.launchHarmonyAsu=function(e){var t=this;return this.config[this.EaseConstant.stepType.cardactivation].hideSkip=!0,this.summaryService.get().then(function(n){return t._accounts=n.accounts,t.createSteps(e,n.accounts).then(function(){return t._isInitialized=!0,t._isHarmonyAsu=!0,t.startStepsExperience()})})},e.prototype.postStatusToSteps=function(e){var t=this;return this._isHarmonyAsu?this.$q.when():(this._stepsStatusUpdates.push(e),this.$q(function(e,n){t.$timeout(function(){if(t._stepsStatusUpdates.length){var a={changes:t._stepsStatusUpdates,returnSteps:!0,showCompleted:!0,showHidden:!0};t._stepsStatusUpdates=[];var r={Accept:"application/json; v=3",appName:t.EaseConstant.requestHeaders.appName,disableErrorInterceptor:!0,EVT_SYNCH_TOKEN:t.EASEUtilsFactory.generateSyncId(),"api-key":t.EaseConstant.requestHeaders.stepsApiKey};return t.Restangular.all(t.EaseConstant.kPostStepsStateUrl).customPOST(a,"",{},r).then(e).catch(n)}e()})}))},e.prototype.canTriggerHarmonyASU=function(){var e=this.featureToggleFactory.getFeatureToggleData();return!(!e||!e[this.EaseConstant.features.enableHarmonyAsu])},e.prototype._areThereRemainingOrderedWidgetSteps=function(){return this.asuBookendStepListWidget&&this.asuBookendStepListWidget.hasRemainingSteps()},e.prototype._prepareStepsForSecondPassThrough=function(){this.isStepsFinished=!1,this._clearAllHydrationPromises()},e.$inject=["summaryService","Restangular","EaseConstant","featureToggleFactory","$state","customerPlatformDetailsFactory","$log","_","EASEUtilsFactory","$rootScope","$ocLazyLoad","$timeout","i18nContent","easeUIModalService","easeCoreTemplates","easeCoreFiles","StepsConfig","$injector","pubsubService","$q","otpService","adobeCampaignUtils"],e}();t.StepService=i,n.module("easeAppUtils").service("stepService",i).constant("StepsLaunchSourceEnum",o)});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("stepsConfigProvider",["require","exports","angular"],function(e,t,n){"use strict";function a(e,t){var n,a=this,s={cssPrefix:"steps-front-bookend",state:e.states.kFrontBookEnd,betweenBookends:!1,setDisplayedOnStateChange:!1},i={cssPrefix:"steps-back-bookend",state:e.states.kBackBookEnd,betweenBookends:!1,setDisplayedOnStateChange:!1},c={stepName:"phone",cssPrefix:"steps-contactinfo-phone",state:e.states.kCampaign,featureToggle:[e.features.enablePhoneOnCampaign,e.features.enableEditPhone],betweenBookends:!1,contactInfo:!0,setDisplayedOnStateChange:!1,contactInfoIndex:0},l={stepName:"email",cssPrefix:"steps-contactinfo-email",state:e.states.kCampaign,featureToggle:[e.features.enableEmailOnCampaign,e.features.enableEditEmail],betweenBookends:!1,contactInfo:!0,setDisplayedOnStateChange:!1,contactInfoIndex:1},u={stepName:"coaf terms",cssPrefix:"steps-coaf-tscs",state:e.states.kCampaign,featureToggle:[e.features.enableCoafSteps,e.features.enableCoafAutoLinking],betweenBookends:!1,contactInfo:!0,setDisplayedOnStateChange:!1,contactInfoIndex:2},d={stepName:"add external account",cssPrefix:"steps-add-external-account",state:e.states.kAddExtAccountSteps,featureToggle:[e.features.enableCardSteps,e.features.enablePaymentOnCampaign],url:"/addpymnt",betweenBookends:!0,bookedContent:{default:{title:"ease.core.bookend.paymacct.title",description:"ease.core.bookend.paymacct.description"},success:{title:"ease.core.bookend.success.paymacct.title",description:"ease.core.bookend.success.paymacct.description"},error:{description:"ease.core.bookend.error.paymacctbankaddtransfer.description"}},dependencies:{componentDependencies:[t.get("component","AddPaymentAccount")],componentName:"addPaymentAccountDirective"},componentized:!0,element:{selector:"c1-element-core-features-account-setup-add-payment",amdModuleName:"ease-web-core-add-payment",iconName:"feature:external-payment",featureToggle:"ease.core.addPaymentAccount.asu.angular"},componentBindings:[{attribute:"businessEventId",value:e.busEvtId.addStepsExternalAccount}],iconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-external-payment.svg",templateUrl:"/ease-ui/dist/features/Step/html/components/AddPaymentAccount.html",setDisplayedOnStateChange:!0,widget:!0,hideSkip:!1,allowDoubleWide:!1,otpLevelCheckRequired:!1},p={stepName:"auto pay",cssPrefix:"steps-auto-pay",state:e.states.kAsuAutoPay,featureToggle:[e.features.enableCardSteps,e.features.enableAsuAutoPay,"ease.core.steps.featureElements"],url:"/autoPay",betweenBookends:!0,bookedContent:{default:{title:"ease.core.bookend.choosepay.default.title",description:"ease.core.bookend.choosepay.partial.description"},success:{title:"ease.core.bookend.autopay.success.title",description:"ease.core.bookend.choosepay.success.description"},error:{description:"ease.core.bookend.choosepay.error.description"}},componentized:!0,element:{selector:"c1-element-core-features-account-setup-auto-pay",amdModuleName:"ease-web-core-account-setup-auto-pay",iconName:"feature:external-payment"},componentBindings:[{attribute:"accountSetup",value:!0}],iconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-external-payment.svg",templateUrl:"",setDisplayedOnStateChange:!0,widget:!0,hideSkip:!1,allowDoubleWide:!1,otpLevelCheckRequired:!1},f={stepName:"choose how you pay",cssPrefix:"steps-choose-how-you-pay",state:e.states.kCombinedChoosePay,featureToggle:[e.features.enableCardSteps,e.features.enableAsuChoosePay,"ease.core.steps.featureElements"],url:"/choosePay",betweenBookends:!0,bookedContent:{default:{title:"ease.core.bookend.choosepay.default.title",description:"ease.core.bookend.choosepay.default.description"},success:{title:"ease.core.bookend.choosepay.success.title",description:"ease.core.bookend.choosepay.success.description"},error:{description:"ease.core.bookend.choosepay.error.description"}},componentized:!0,element:{selector:"c1-element-core-features-account-setup-choose-how-you-pay",amdModuleName:"ease-web-core-choose-how-you-pay",iconName:"feature:external-payment"},componentBindings:[{attribute:"accountSetup",value:!0}],iconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-external-payment.svg",templateUrl:"",setDisplayedOnStateChange:!0,widget:!0,hideSkip:!1,allowDoubleWide:!1,otpLevelCheckRequired:!1},g=__assign({},o,{stepName:"card paperless",widget:!0,state:e.states.kPaperlessModal,featureToggle:[e.features.enableCardSteps,e.features.enablePaperless]}),m=__assign({},o,{widget:!0,stepName:"canada card paperless",state:e.states.kCndaPaperless,featureToggle:[e.features.enableCardSteps,e.features.enableCndaPaperless]}),h={stepName:"card activation",cssPrefix:"steps-card-activation",state:e.states.kCardActivation,featureToggle:[e.features.enableCardSteps,e.features.enableCardActivation],url:"/cardactivation",betweenBookends:!0,hideModalTitleSubText:!0,bookedContent:{default:{title:"ease.core.bookend.skipanderror.ccactcrd.title",description:"ease.core.bookend.ccactcrd.description"},success:{title:"ease.core.bookend.success.ccactcrd.title",description:"ease.core.bookend.success.ccactcrd.description"},error:{title:"ease.core.bookend.skipanderror.ccactcrd.title",description:"ease.core.bookend.skipanderror.ccactcrd.description"},skip:{title:"ease.core.bookend.skipanderror.ccactcrd.title",description:"ease.core.bookend.skipanderror.ccactcrd.description"}},dependencies:{componentDependencies:[r.CreditCard],componentName:"c1CcActivationMainDirective",service:{name:"ActivationWrapperService",method:"getActivationData"}},iconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-activate-card.svg",componentized:!0,templateUrl:"/ease-ui/dist/features/Step/html/components/CardActivation.html",setDisplayedOnStateChange:!0,widget:!0,hideSkip:!1,allowDoubleWide:!1,otpLevelCheckRequired:!1},v={stepName:"card add user",cssPrefix:"steps-card-add-user",state:e.states.kAddUserV2,featureToggle:[e.features.enableCardSteps,e.features.enableAddUser],url:"/addauthorizeuser",bookedContent:{default:{title:"ease.core.bookend.authuser.title",description:"ease.core.bookend.authuser.description"},success:{title:"ease.core.bookend.success.authuser.title",description:"ease.core.bookend.success.authuser.description"},error:{description:"ease.core.bookend.error.authuser.description"}},dependencies:{componentDependencies:[r.CreditCard],componentName:"c1CcAddAccountUsersContextDirective"},componentized:!0,iconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-add-authorized-user.svg",betweenBookends:!0,templateUrl:"/ease-ui/dist/features/Step/html/components/AddAuthUser.html",setDisplayedOnStateChange:!0,widget:!0,hideSkip:!1,allowDoubleWide:!1,otpLevelCheckRequired:!1},y={stepName:"download app",backBookendAdSpace:!0,cssPrefix:"steps-mobile-cta",state:e.states.kBackBookEnd,featureToggle:[e.features.enableBackBookend,e.features.enableMobileCTA],betweenBookends:!1,setDisplayedOnStateChange:!0},b={stepName:"alerts",cssPrefix:"steps-coaf-alerts",state:e.states.kBookEndAlerts,featureToggle:[e.features.enableCoafSteps,e.features.enableCoafAlerts],bookedContent:{default:{title:"ease.core.bookend.alalert.title",description:"ease.core.bookend.alalert.description"},success:{title:"ease.core.bookend.success.alalert.title",description:"ease.core.bookend.success.alalert.description"}},iconUrl:"/ease-ui/dist/images/modal-icons/modal-icons-notifications.svg",betweenBookends:!0,setDisplayedOnStateChange:!0,widget:!1,componentized:!1,otpLevelCheckRequired:!1,setDismissedOnFrontBookendClose:!0},C={stepName:"coaf paperless",cssPrefix:"steps-coaf-paperless",state:e.states.kCoafPaperless,featureToggle:[e.features.enableCoafSteps,e.features.enableCoafPaperless],bookedContent:{default:{title:"ease.core.bookend.alpless.title",description:"ease.core.bookend.alpless.description"},success:{title:"ease.core.bookend.success.alpless.title",description:"ease.core.bookend.success.alpless.title"}},iconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-paperless.svg",betweenBookends:!0,setDisplayedOnStateChange:!0,dependencies:{stateDependencies:["js!AutoLoan"]},widget:!1,componentized:!1,otpLevelCheckRequired:!1,setDismissedOnFrontBookendClose:!0},S={stepName:"set pin",cssPrefix:"steps-card-setPin",state:e.states.kSetPin,featureToggle:[e.features.enableShowSetPin,e.features.enableCardSteps],url:"/setpin",bookedContent:{default:{title:"ease.core.bookend.setpin.title",description:"ease.core.bookend.setpin.description"},success:{title:"ease.core.bookend.success.setpin.title",description:"ease.core.bookend.success.setpin.description"}},dependencies:{componentDependencies:[r.CreditCard]},element:{selector:"c1-element-core-features-account-setup-set-pin",amdModuleName:"ease-web-core-set-pin",iconName:"feature:edit-privacy-pref"},componentBindings:[{attribute:"calCode",value:e.busEvtId.setPinInSteps}],iconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-edit-privacy-pref.svg",templateUrl:"",componentized:!0,betweenBookends:!0,setDisplayedOnStateChange:!0,widget:!0,otpLevelCheckRequired:!1,hideSkip:!0,allowDoubleWide:!1},E={stepName:"add transfer account",cssPrefix:"steps-bank-add-transfer",state:e.states.kBankAddExternalTransferAccount,featureToggle:[e.features.enableBankSteps,e.features.enableBankAddExternalTransferAccount],url:"/addtransfer",bookedContent:{default:{title:"ease.core.bookend.bankaddtransfer.title",description:"ease.core.bookend.bankaddtransfer.description"},success:{title:"ease.core.bookend.success.bankaddtransfer.title",description:"ease.core.bookend.success.bankaddtransfer.description"},error:{description:"ease.core.bookend.error.paymacctbankaddtransfer.description"},widget:{description:"ease.core.widget.bankaddtransfer.description"}},dependencies:{componentDependencies:[t.get("component","AddPaymentAccount")],componentName:"addPaymentAccountDirective"},iconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-link-account.svg",successIconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-waiting.svg",templateUrl:"/ease-ui/dist/features/Step/html/components/BankAddTransfer.html",componentized:!0,betweenBookends:!0,setDisplayedOnStateChange:!0,widget:!0,otpLevelCheckRequired:!0,hideSkip:!1,allowDoubleWide:!1},A={stepName:"verify external account",cssPrefix:"steps-bank-verify-transfer",state:e.states.kBankVerifyTransferAccount,featureToggle:[e.features.enableBankSteps,e.features.enableBankVerifyTransferAccount],url:"/verifytransfer",bookedContent:{default:{title:"ease.core.bookend.bankverifytransfer.title",description:"ease.core.bookend.bankverifytransfer.description"},success:{title:"ease.core.bookend.success.bankverifytransfer.title",description:"ease.core.bookend.success.bankverifytransfer.description"
},error:{description:"ease.core.bookend.error.bankverifytransfer.description"},widget:{description:"ease.core.widget.bankverifytransfer.description"}},dependencies:{componentDependencies:[t.get("verify-component","TransferExternalAccount"),t.get("service","TransferExternalAccount")],componentName:"transferExternalAccountVerifyComponentDirective"},element:{selector:"c1-element-core-features-account-setup-verify-transfer-account",amdModuleName:"ease-web-core-verify-transfer-account",featureToggle:"ease.core.verify.transfer.asu.angular",iconName:"feature:link-account"},componentBindings:[{attribute:"calCode",value:e.busEvtId.transferExternalAccountInSteps}],iconUrl:"/ease-ui/dist/images/modal-icons/modal-icons-verify-account.svg",templateUrl:"/ease-ui/dist/features/Step/html/components/VerifyTransferAccount.html",componentized:!0,betweenBookends:!0,setDisplayedOnStateChange:!0,widget:!0,excludeStepsIfPresentList:[e.stepType.paymentAccount,e.stepType.addBankTransfer],otpLevelCheckRequired:!1,hideSkip:!1,allowDoubleWide:!1},k={stepName:"combined add account",cssPrefix:"steps-combined-add-account-wrapper",state:e.states.kAddAccountExperience,featureToggle:[e.features.enableMultiAccountSetup,e.features.enableCombinedStepExperience],url:"/addacct",bookedContent:{default:{title:"",description:""},success:{title:"",description:""},error:{description:""},widget:{description:""}},dependencies:{componentDependencies:[t.get("component","CombinedStepWrapper"),t.get("component","AddPaymentAccount"),t.get("component","AddAccountSelectionOptions")],componentName:"combinedStepWrapperComponentDirective"},iconUrl:"",templateUrl:"/ease-ui/dist/features/Step/html/components/CombinedStepWrapper.html",componentized:!0,betweenBookends:!0,setDisplayedOnStateChange:!0,widget:!0,otpLevelCheckRequired:!0,hideSkip:!0,allowDoubleWide:!1,hideModalTitleSubText:!0},D=(n={},n[e.stepType.frontBook]=s,n[e.stepType.backBook]=i,n[e.stepType.phoneNumber]=c,n[e.stepType.primeEmail]=l,n[e.stepType.autoLink]=u,n[e.stepType.paymentAccount]=d,n[e.stepType.autoPay]=p,n[e.stepType.paperless]=g,n[e.stepType.cndaPaperless]=m,n[e.stepType.cardactivation]=h,n[e.stepType.addUser]=v,n[e.stepType.mobileCTA]=y,n[e.stepType.alerts]=b,n[e.stepType.coafPaperless]=C,n[e.stepType.addBankTransfer]=E,n[e.stepType.setPin]=S,n[e.stepType.verifyTransferAccount]=A,n[e.stepType.combinedStepExperience]=k,n[e.stepType.chooseHowYouPay]=f,n);this.config=D,this.$get=function(){return a}}Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.CreditCard="js!CreditCard"}(r||(r={}));var o={cssPrefix:"steps-card-paperless",url:"/paperless",bookedContent:{default:{title:"ease.core.bookend.paprless.title",description:"ease.core.bookend.paprless.description"},success:{title:"ease.core.bookend.paprless.title",description:"ease.core.bookend.success.paprless.description"}},dependencies:{componentDependencies:[r.CreditCard],componentName:"ccPaperlessAccountSetupDirective",service:{name:"CCPaperlessService",method:"getPaperlessAccountSetupData"}},element:{selector:"c1-element-core-features-account-setup-paperless",amdModuleName:"ease-web-core-account-setup-paperless",iconName:"feature:paperless",featureToggle:"ease.core.cardPaperless.asu.angular"},componentBindings:[{attribute:"accountSetup",value:!0}],componentized:!0,iconUrl:"/ease-ui/dist/images/modal-icons/modal-icon-paperless.svg",betweenBookends:!0,templateUrl:"/ease-ui/dist/features/Step/html/components/Paperless.html",setDisplayedOnStateChange:!0,hideSkip:!0,allowDoubleWide:!0,otpLevelCheckRequired:!1};a.$inject=["EaseConstant","easeCoreFilesProvider"],n.module("easeAppUtils").provider("StepsConfig",a)}),define("errorHandler-enums",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){e.callback="callback",e.inline="inline",e.inlineAndCallback="inlineAndCallback"}(n=t.ErrorHandlerStrategy||(t.ErrorHandlerStrategy={}))});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("errorStrategyService",["require","exports","angular","./errorHandler-enums"],function(e,t,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.EaseErrorMessageFactory=e,this.getHandledErrorSummary=function(e,n,a){var r=t.EaseErrorMessageFactory.getEaseDisplayError(e),o=!r,s=r?r.severity:null,i=t.EaseErrorMessageFactory.getErrorMessage(e),c=t._getCustomErrorFields(i,n),l=t._getErrorStrategy(a,s);return __assign({errorStrategy:l,severity:s,hasEaseDisplayError:o},i,c)},this._getCustomErrorFields=function(e,t){if(!t)return null;var n={};return t.errorTitle&&(n[t.errorTitle]=e.headerMessage),t.errorMessage&&(n[t.errorMessage]=e.displayMessage),n},this._getErrorStrategy=function(e,t){return t&&e?e["severity"+t]||a.ErrorHandlerStrategy.callback:a.ErrorHandlerStrategy.callback}}return e.$inject=["EaseErrorMessageFactory"],e}();t.ErrorStrategyService=r,n.module("easeAppUtils").service("errorStrategyService",r).constant("ErrorHandlerStrategy",a.ErrorHandlerStrategy)}),define("environmentUtils",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a;!function(e){e[e.QA=0]="QA",e[e.REG=1]="REG",e[e.GREEN=2]="GREEN",e[e.PROD=3]="PROD",e[e.DOCKER=4]="DOCKER",e[e.DEV1=5]="DEV1",e[e.DEV2=6]="DEV2",e[e.DEV3=7]="DEV3"}(a||(a={}));var r=function(){function e(e,t){var n=this;this.$window=e,this._=t,this.Environments=a,this._envStrings=["1","2","3","reg","qa","dev"],this.determineCurrentEnvironment=function(){var e=n.$window.location.hostname;switch(n._checkHostString(e)){case"1":n._setCurrentEnvironment(n.Environments.DEV1);break;case"2":n._setCurrentEnvironment(n.Environments.DEV2);break;case"3":n._setCurrentEnvironment(n.Environments.DEV3);break;case"dev":n._setCurrentEnvironment(n.Environments.DOCKER);break;case"reg":n._setCurrentEnvironment(n.Environments.REG);break;case"myaccounts-verify.capitalone.com":n._setCurrentEnvironment(n.Environments.GREEN);break;case"myaccounts-test.capitalone.com":n._setCurrentEnvironment(n.Environments.GREEN);break;case"myaccounts.capitalone.com":n._setCurrentEnvironment(n.Environments.PROD);break;case"qa":n._setCurrentEnvironment(n.Environments.QA);break;default:n._setCurrentEnvironment(n.Environments.PROD)}},this.getCurrentEnvironment=function(){return n._currentEnv},this._setCurrentEnvironment=function(e){n._currentEnv=e},this._checkHostString=function(e){for(var t=0,a=n._envStrings;t<a.length;t++){var r=a[t];if(n._.includes(e,r))return r}return e}}return e.$inject=["$window","_"],e}();n.module("easeAppUtils").service("environmentUtils",r)}),define("usabillaUtils",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a,r){var o=this;this.$window=e,this.$document=t,this.languagePreferencesFactory=n,this.featureToggleFactory=a,this.EaseConstant=r,this.usabillaData={},this.formLocales=function(){var e=o.languagePreferencesFactory.getCurrentLocale().toLowerCase(),t="",n="";switch(e){case"es-us":t="EASEWebSPUS",n="EASEMOBILESPUS";break;case"en-ca":t="EASEWebENCA",n="EASEMOBILEENCA";break;case"fr-ca":t="EASEWebFRCA",n="EASEMOBILEFRCA"}o.$window.navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"usabilla_live"in o.$window&&o.$window.usabilla_live("setForm",n):("usabilla_live"in o.$window&&o.$window.usabilla_live("setForm",t),"en-ca"===e&&"usabilla_live"in o.$window&&o.$window.usabilla_live("trigger","canada_cemp_web_study_english_desktop"))},this.sendUsabillaCustomData=function(e){for(var t in e)o.usabillaData[t]=e[t];"usabilla_live"in o.$window&&(o.$window.usabilla_live("data",{custom:o.usabillaData}),o.$window.usabilla_live("setEventCallback",function(e,t,n,a){function r(e){var t=JSON.parse(e);t.comment=t.comment.replace(new RegExp("[0-9]","g"),"X");var n=t.comment.match(/(\S+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);null!==n&&n.forEach(function(e){t.comment=t.comment.replace(e,"XXXX")}),arguments[0]=JSON.stringify(t),o.apply(this,arguments)}if("Feedback:Open"===t){var o=XMLHttpRequest.prototype.send;this.$window.ub_window=this.$document[0].getElementById("lightningjs-frame-usabilla_live_feedback").contentWindow,this.$window.ub_window.XMLHttpRequest.prototype.send=r}}.bind(o)))},this.sendStateChangeEvent=function(e){"usabilla_live"in o.$window&&(o.$window.usabilla_live("virtualPageView"),o.sendUsabillaCustomData(e))},this.showUsabillaButton=function(){o._isUsabillaAvailable()&&o.$window.usabilla_live("show")},this.hideUsabillaButton=function(){o._isUsabillaAvailable()&&o.$window.usabilla_live("hide")},this.openFeedback=function(){"usabilla_live"in o.$window&&o.$window.usabilla_live("click")},this.setUsabillaForm=function(e){"usabilla_live"in o.$window&&o.$window.usabilla_live("setForm",e)},this._isUsabillaAvailable=function(){return o.featureToggleFactory.getFeatureToggleData()[o.EaseConstant.features.usabillaFeature]&&"usabilla_live"in o.$window}}return e.$inject=["$window","$document","languagePreferencesFactory","featureToggleFactory","EaseConstant"],e}();n.module("easeAppUtils").service("usabillaUtils",a)});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("adobeCampaignUtils",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a,r,o,s,i,c,l,u,d,p){var f=this;this.$q=e,this._=t,this.$window=n,this.$document=a,this.usabillaUtils=r,this.easeVendorLogger=o,this.EaseConstant=s,this.featureToggleFactory=i,this.$log=c,this.languagePreferencesFactory=l,this.summaryService=u,this.i18nContent=d,this.appCookie=p,this.offers=[],this.offersObj={},this.$document[0].addEventListener(this.$window.adobe.target.event.REQUEST_SUCCEEDED,function(e){var n=[],a=[],o=e.detail.responseTokens;if(!t.isEmpty(o)){var s=f.distinct(o);s.forEach(function(t){a.push({campaign:t["activity.name"],experience:t["experience.name"],RecipeId:t["experience.id"],OfferId:t["option.id"],OfferName:t["option.name"],MboxName:e.detail.mbox}),f.offers.push(t)}),a.length>0&&a.forEach(function(e){t.isEmpty(e.campaign)||n.push(e.campaign+" - "+e.experience)}),""!==n.toString()?r.sendUsabillaCustomData({AdobeTarget:n.toString()}):null,f.easeVendorLogger.logToTleaf("",s)}})}return e.prototype.getOffers=function(e,t,n){var a=this;return void 0===n&&(n=""),this.$q.all([this.featureToggleData(),this.getLobsAsKeymasterCodes()]).then(function(r){r[1]&&(t=__assign({},t,{lobs:r[1]}));var o=a.$q.defer(),s=!n||r[0][n];return r[0][a.EaseConstant.features.AdobeTargetGlobal]&&s&&a.$window.adobe&&a.$window.adobe.target&&a.languagePreferencesFactory.getCurrentLocale()===a.EaseConstant.kEnglishLocale?adobe.target.getOffer({mbox:e,params:t,success:function(e){a.easeVendorLogger.logToTleaf(t,e),o.resolve(e)},error:function(e,t){var n={message:t,line:120,stack:e};a.easeVendorLogger.logToTleaf("",n),a.easeVendorLogger.logToNewRelic(n),a.$log.error("Issue with the getOffer",t),o.resolve()}}):(o.resolve(),a.$log.error("adobe not defined")),o.promise})},e.prototype.adobeGetOffers=function(e,t,n){var a=this;return void 0===n&&(n=""),this.appCookie.getProfileRefId(this.EaseConstant.cookies.kProfRefIdCookie).then(function(n){return a.$q.all([a.featureToggleData(),a.getLobsAsKeymasterCodes()]).then(function(n){t=__assign({},t,{lobs:n[1]?n[1]:null,locale:a.languagePreferencesFactory.getCurrentLocale()});var r=a.$q.defer();return n[0][a.EaseConstant.features.AdobeTargetGlobal]&&a.$window.adobe&&a.$window.adobe.target?adobe.target.getOffer({mbox:e,params:t,success:function(e){a.easeVendorLogger.logToTleaf(t,e),r.resolve(e)},error:function(e,t){var n={message:t,line:120,stack:e};a.easeVendorLogger.logToTleaf("",n),a.easeVendorLogger.logToNewRelic(n),a.$log.log("Issue with the getOffer",t),r.resolve()}}):(r.resolve(),a.$log.log("adobe not defined")),r.promise})})},e.prototype.globalOffersCall=function(e,t){var n=(t||{}).baseline||"";return this.offersObj[n+"Complete"]?this.offersObj[n]:(this.offersObj[n+"Complete"]=!0,this.promiseObj=this.adobeGetOffers(e,t),this.offersObj[n]=this.promiseObj,this.offersObj[n])},e.prototype.getCachedBaselineOffers=function(e){var t=this.offersObj[e];return t?t:null},e.prototype.getCachedOfferByActivity=function(e,t){var n=this.parseAdobeTargetFullResponse(this.offersObj[e],t);return n?n:null},e.prototype.parseAdobeTargetFullResponse=function(e,t,a){void 0===a&&(a=!1);var r;if(n.isArray(e))for(var o=0,s=e;o<s.length;o++){var i=s[o];if(i.action&&i.content&&"setJson"===i.action){var c=i.content.filter(function(e){return e.activity&&e.activity===t});if(c.length){r=a?c:c[0];break}}}return r},e.prototype.parseAdobeTargetResponse=function(e,t){var a="";return n.isArray(e)&&e.forEach(function(e){e.action&&e.content&&"setJson"===e.action&&e.content.forEach(function(e){e.activity&&e.activity===t&&(a=e.experience)})}),a},e.prototype.getLobsAsKeymasterCodes=function(){var e=this,t=this.$q.defer(),n=this.summaryService.getLobArray();if(0===n.length)this.$q.when(this.summaryService.get()).then(function(){n=e.summaryService.getLobArray();var a=e.mapLobToKeymaster(n).join(",");t.resolve(a)});else{var a=this.mapLobToKeymaster(n).join(",");t.resolve(a)}return t.promise},e.prototype.mapLobToKeymaster=function(e){var t=this;return e.reduce(function(e,n){var a="string"==typeof n?n.toLowerCase().replace(/\s/g,""):n,r=t.EaseConstant.kKeymasterMapping[a];return r&&e.push(r),e},[])},e.prototype.overrideI18nContent=function(e,t,n){var a=this;void 0===n&&(n=!1);var r=this.parseAdobeTargetFullResponse(e,t,n);r&&r.length&&r.forEach(function(e){var t=a._.get(e,["i18nContent",a.languagePreferencesFactory.getCurrentLocale().toLowerCase()]);t&&Object.keys(t).forEach(function(e){a.i18nContent[e]&&(a.i18nContent[e]=t[e])})})},e.prototype.cleanObject=function(e){return Object.keys(e).map(function(t){return t+""+e[t]}).sort().join("")},e.prototype.distinct=function(e){var t=this,n=e.reduce(function(e,n){return e[t.cleanObject(n)]=n,e},{});return Object.keys(n).map(function(e){return n[e]})},e.prototype.featureToggleData=function(){return this.featureToggleFactory.initializeFeatureToggleData()},e.$inject=["$q","_","$window","$document","usabillaUtils","easeVendorLogger","EaseConstant","featureToggleFactory","$log","languagePreferencesFactory","summaryService","i18nContent","appCookie"],e}();n.module("easeAppUtils").service("adobeCampaignUtils",a)}),define("deeplinkUtils",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="UniversalDeeplink",r={INVALID_RESPONSE:"InvalidResponse",API_FAILURE:"ApiFailure"},o=function(){function e(e,t,n,a,r,o,s,i,c,l){this._=e,this.$window=t,this.$document=n,this.EaseConstant=a,this.$log=r,this.EaseCoreRestangular=o,this.$location=s,this.EASEUtilsFactory=i,this.easeExceptionsService=c,this.i18nContent=l}return e.prototype.detokenizeDeeplinkUrl=function(e){var t=this,n=new t.$window.URL(t.$location.absUrl()).origin+e,o={url:n},s={Accept:"application/json;v=1"};this.EaseCoreRestangular.all(this.EaseConstant.deeplinkTokenUrl).post(o,{},s).then(function(e){if(e&&e.url){var n=t.processEncodedUrl(e.url);t.$log.info(a,t.sanitizeDeepLinkUrl(n)),t.$window.location.href=n}else t.$log.error(a,r.INVALID_RESPONSE,JSON.stringify(e)),t.handleDetokenizationError()}).catch(function(e){t.$log.error(a,r.API_FAILURE,e),t.handleDetokenizationError()})},e.prototype.processEncodedUrl=function(e){return e.split("%2F").join("%252F")},e.prototype.sanitizeDeepLinkUrl=function(e){var t=/:\/\//,n=t.test(e),a=n?4:2,r=e.split("/");return r[a]="{accountReferenceId}",r.join("/")},e.prototype.handleDetokenizationError=function(){this.easeExceptionsService.displayErrorHandler(this.i18nContent["core.common.snag.modal.header"],this.i18nContent["ease.core.deeplink.error"]),this.$location.url("/accountSummary")},e.$inject=["_","$window","$document","EaseConstant","$log","EaseCoreRestangular","$location","EASEUtilsFactory","easeExceptionsService","i18nContent"],e}();n.module("easeAppUtils").service("deeplinkUtils",o)}),define("easeVendorLogger",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a;!function(e){e.TeaLeaf="TLT",e.NewRelic="newrelic"}(a||(a={}));var r=function(){function e(e){this.$window=e}return e.prototype.logToTleaf=function(e,t){this.teaLeafProvider=this.$window[a.TeaLeaf],this.teaLeafProvider&&this.teaLeafProvider.isInitialized()&&this.teaLeafProvider.logCustomEvent("customMsg",{request:e,response:t})},e.prototype.logToNewRelic=function(e){this.newRelicProvider=this.$window[a.NewRelic];var t={logLevel:"error",line:e.line};e.stack&&(t.status=e.stack),this.newRelicProvider&&this.newRelicProvider.noticeError(e.message,t)},e.$inject=["$window"],e}();n.module("easeAppUtils").service("easeVendorLogger",r)});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("enoChatUtils",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a,r,o,s,i,c,l,u,d,p,f,g,m){var h=this;this.EaseConstant=e,this.EaseCoreRestangular=t,this.$document=n,this.i18nContent=a,this.easeHttpInterceptor=r,this.$location=o,this.easeUIModalService=s,this.pluginsService=i,this.$q=c,this.summaryService=l,this.$stateParams=u,this.EASEUtilsFactory=d,this.featureToggleFactory=p,this.$log=f,this.detectBrowser=g,this.adobeCampaignUtils=m,this.accountRefIds=[],this.ocLazyLoadConfig={name:"enoChat",files:["enums","controller-modal","controller-unavailable-modal"],pathName:"EnoChat"},this.postEnoChat=function(e,t){var n="launch"===t?h.EaseConstant.kEnoChatLaunchUrl:h.EaseConstant.kEnoChatUrl,a=__assign({channel:"EASE_DESKTOP_WEB",locale:"EN_US"},e,{context:h._getHeaderContext(e.context)}),r={Accept:"application/json;v=1","Customer-User-Agent":h.detectBrowser.browsers().userAgent},o=h.EaseCoreRestangular.all(n).customPOST(a,"","",r).then(function(e){if(null!=e)return e;throw new Error("Response is null")}).catch(function(e){if("launch"!==t){h.$log.error("EnoChat error",e);var n=e.statusText||h.contentData["ease.core.eno.chat.error.label"],a={messages:[{type:"ERROR",title:n}]};return a}h.$log.error("Launch error",e),h.goToUnavailable()});return o},this._findStateParamAccountRefId=function(){var e=Object.keys(h.$stateParams).map(function(e){return h.$stateParams[e]}),t=e.filter(function(e){return h.accountRefIds.indexOf(e)!==-1});return 0===t.length?void 0:t[0]},this._getHeaderContext=function(e){return __assign({page:h.$location.absUrl(),entities:{origin:"EASE_DESKTOP_WEB",accountReferenceId:h._findStateParamAccountRefId()},os:h.detectBrowser.browsers().osType,application:"WEB APP",fromPage:h.$location.path().replace("/",""),fromFeature:"ease.core.web.eno.header",browser:h.detectBrowser.browsers().browserType,isTouch:h.detectBrowser.browsers().hasTouchScreen},e)},this.q=c,this.contentData=a,this.EASEUtilsFactory=d,this.summaryService.get().then(function(e){e.accounts&&Array.isArray(e.accounts)&&e.accounts.length>0&&(h.accountRefIds=e.accounts.map(function(e){return e.referenceId}))}).catch(function(e){h.$log.error("Error determining accountRefId for EnoChat: ",e)}),this.$q.all([this.featureToggleFactory.initializeFeatureToggleData(),this.adobeCampaignUtils.globalOffersCall(e.kAdobeTargetGlobalMbox,{baseline:"core"})]).then(function(e){void 0===e&&(e=[]);var t=e[0]||{},n=e[1]||void 0,a=t[h.EaseConstant.features.enableEnoFeedback];h.showEnoUsabilla=a&&h.adobeCampaignUtils.parseAdobeTargetFullResponse(n,"ENOFEEDEBACK")}).catch(function(e){return h.$log.error("Error checking feature toggle registry or with a/b test",e),h.showEnoUsabilla=!1,h.$q.reject(e)})}return e.prototype.isUserEnoEligible=function(){var e=this;return this.featureToggleFactory.initializeFeatureToggleData().then(function(t){return t[e.EaseConstant.features.enableEnoChat]}).catch(function(t){return e.$log.error("Error encountered when determining user eno eligibility:",t),e.$q.reject(t)})},e.prototype.launchEnoModal=function(){this.isEnoClicked||(this.isEnoClicked=!0,this.pluginsService.loadAndCallback(this.ocLazyLoadConfig,this.launchModalCallback.bind(this)))},e.prototype.launchModalCallback=function(){var e=this,t={timestamp:(new Date).toISOString(),context:{conversationSequence:"start"}};this.postEnoChat(t,"launch").then(function(t){e.easeUIModalService.showModal({templateUrl:"/ease-ui/dist/features/EnoChat/html/EnoChat-modal.html",controller:"EnoChatModalController as ctrl",inputs:{messages:t.messages}}).then(function(){e.isEnoClicked=!1})})},e.prototype.goToUnavailable=function(){var e=this;this.easeUIModalService.showModal({templateUrl:"/ease-ui/dist/features/EnoChat/html/EnoChat-unavailable-modal.html",controller:"EnoChatUnavailableModalController as ctrl"}).then(function(){e.isEnoClicked=!1})},e.$inject=["EaseConstant","EaseCoreRestangular","$document","i18nContent","easeHttpInterceptor","$location","easeUIModalService","pluginsService","$q","summaryService","$stateParams","EASEUtilsFactory","featureToggleFactory","$log","detectBrowser","adobeCampaignUtils"],e}();n.module("easeAppUtils").service("enoChatUtils",a)}),define("pluginsService",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a){this.EaseConstant=e,this.$location=t,this.$ocLazyLoad=n,this.easeFiles=a,this.pluginMap={}}return e.$inject=["EaseConstant","$location","$ocLazyLoad","easeFiles"],e.prototype.loadAndCallback=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){}),this.$ocLazyLoad.load({name:e.name,serie:!0,files:this._fileLoader(e.pathName,e.files)}).then(function(){t()},function(){n()})},e.prototype.handlePlugins=function(){var e=this.$location.search(),t=e.plugin;e&&e.plugin&&this.pluginMap[t]()},e.prototype._fileLoader=function(e,t){var n=this;return void 0===t&&(t=[]),t.map(function(t){return n.easeFiles.get(t,[e])})},e.prototype.registerQueryParam=function(e,t){return void 0===t&&(t=function(){}),this.pluginMap[e]=t},e}();n.module("easeAppUtils").service("pluginsService",a)}),define("modalUtils",["easeUtils"],function(e){"use strict";var t=function(){function e(e,t){var n=this;this.$rootScope=e,this.easeUIModalService=t,this.showModal=function(e,t){var a=n.$rootScope.$new();return angular.extend(a,t),n.easeUIModalService.showModal({templateUrl:e,scope:a}).then(function(e){return n.stateChangeListener=n.$rootScope.$on("$stateChangeStart",function(){e.scope.close(),n.stateChangeListener()}),n.close=function(){e.scope.close(),n.stateChangeListener()},e.close})}}return e.$inject=["$rootScope","easeUIModalService"],e}();e.service("modalUtils",t)}),define("easeSimpleSelect",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){var t=this;this.$document=e,this.isOpen=!1,this.autoPopulatedArray=[],this.selectHandler=function(e){var n=t.config&&t.config.id?"ease-dropdown-filter-"+t.config.id:"",a=t.$document[0].getElementById(n);a&&(a.focus(),a.blur()),t.value=e,t.onSelect(e)}}return e.$inject=["$document"],e.componentName="easeSimpleSelect",e.componentOptions={transclude:!0,bindings:{value:"=",items:"=",onSelect:"=",config:"=",locked:"=?"},controller:e,template:'<div role="application">\n                <ease-ui-dropdown\n                    is-open = "$ctrl.isOpen"\n                    persist-items = "$ctrl.items"\n                    items = "$ctrl.autoPopulatedArray"\n                    model-value = "$ctrl.value"\n                    disable-search = "true"\n                    select = "$ctrl.selectHandler(item)"\n                    combobox = "$ctrl.config"\n                    is-locked = "$ctrl.locked"\n                    required = "false">\n                    <ease-ui-dropdown-menu\n                        select = "$ctrl.selectHandler(item)"\n                        items = "$ctrl.autoPopulatedArray"\n                        template = "false"\n                        is-open = "$ctrl.isOpen"\n                        component-id = "{{$ctrl.config.id}}">\n                    </ease-ui-dropdown-menu>\n                </ease-ui-dropdown>\n                </div>'},e}();t.EaseSimpleSelectComponent=a,n.module("easeAppUtils").component(a.componentName,a.componentOptions)}),define("easeRadioButton",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.componentName="easeRadioButton",e.componentOptions={transclude:!0,bindings:{inputId:"@",name:"@",labelId:"@",header:"=",expandedContent:"=?",inputVal:"=",value:"="},controller:e,templateUrl:"/ease-ui/dist/partials/ease-radio-button.html"},e}();t.EaseRadioButtonComponent=a,n.module("easeAppUtils").component(a.componentName,a.componentOptions)}),define("easeButton",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){var e=this;this.getButtonType=function(){return e.type||"button"}}return e.componentName="easeButton",e.componentOptions={bindings:{isDisabled:"=?",onClick:"&",showSpinner:"=?",text:"@",type:"@?"},controller:e,templateUrl:"/ease-ui/dist/partials/ease-button.html"},e}();t.EaseButtonComponent=a,n.module("easeAppUtils").component(a.componentName,a.componentOptions)}),define("easeOrderedContainer",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.errorMessageConfig={closeAlert:!0,alertIcon:!0,alertContent:this.errorMessage}}return e.componentName="easeOrderedContainer",e.componentOptions={transclude:!0,bindings:{errorMessage:"=?",displayError:"=?",headerValue:"=?",subHeaderLeft:"=?",subHeaderRight:"=?",defaultContent:"=?",displayDefaultContent:"=?",invalid:"=?"},controller:e,template:'\n    <div class="ease-ordered-container" ng-class="{\'no-header\': !$ctrl.headerValue}">\n      <div class="header-container" ng-if="$ctrl.headerValue" role="heading" aria-level="2">\n        <div class="header-text">{{$ctrl.headerValue}}</div>\n      </div>\n      <div class="error-container" ng-if="$ctrl.displayError">\n        <ease-error-message error-options="$ctrl.errorMessageConfig"></ease-error-message>\n      </div>\n      <div class="sub-header-container">\n        <span class="sub-header-left" role="heading" aria-level="3">\n          {{$ctrl.subHeaderLeft}}\n        </span>\n        <span class="sub-header-right">\n          <a\n            ng-if="$ctrl.subHeaderRight.value"\n            href="#"\n            id="{{$ctrl.subHeaderRight.id}}"\n            data-ng-click="$ctrl.subHeaderRight.onClick()"\n          >\n            {{$ctrl.subHeaderRight.value}}\n          </a>\n          <span ng-if="$ctrl.subHeaderRight && !$ctrl.subHeaderRight.value">{{$ctrl.subHeaderRight}}</span>\n        </span>\n      </div>\n      <ng-transclude ng-if="!$ctrl.displayDefaultContent"></ng-transclude>\n      <p class="default-content" ng-class="{\'invalid\': $ctrl.invalid}" ng-if="$ctrl.displayDefaultContent">{{$ctrl.defaultContent}}</p>\n    </div>\n    '},e}();t.EaseOrderedContainer=a,n.module("easeAppUtils").component(a.componentName,a.componentOptions)});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("lazyLoadedStatesProvider",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=this;this.EaseConstant=e,this.$stateProvider=t,this.addPhoneStatesOnParent=function(e){var t=e.parentState,a=e.phoneStateData,r={phone:null,phoneType:null,initPhoneScreen:null,startingPoint:null,businessAccount:null,hideSetPrimary:null,onPhoneModalSave:null,onDeletePhoneNumber:null,saveConfig:null},o={url:"/{phoneType:home|work|mobile}",name:t.name+"."+n.EaseConstant.states.kPhone,parent:t,params:r,data:__assign({},a),onEnter:["PhoneModalService","$stateParams","$state",function(e,n,a){var r=!n.phone||!n.startingPoint;r?a.go(t.name):e.launchPhoneModal(n)}]};n.$stateProvider.state(o)},this.addEmailStatesOnParent=function(e){var t={name:e.name+"."+n.EaseConstant.states.kEmail,url:"/email",parent:e,params:{saveOnClick:!1},onEnter:["EmailManagementService","$stateParams","$state",function(t,n,a){a.current.name?t.launchEmailModal(n):a.go(e.name)}],data:{disableDeeplink:!0}};n.$stateProvider.state(t)},this.addManageBankAutoAddressStatesOnParent=function(e){var t=e.parentState,a=e.dependencies,r={url:"/manageAddress",name:t.name+".manageAddress",parent:t,resolve:{featureToggleBankAddressModal:["featureToggleFactory","$state","EaseConstant","$log","$q",function(e,n,a,r,o){var s=o.defer();return e.initializeFeatureToggleData().then(function(e){var r=e[a.features.enableEditBankAutoAddressModal]&&e[a.features.enableEditBankAddress];r?s.resolve(!0):(n.go(t.name),s.reject())}).catch(function(e){r.error("Feature toggle failure ",e),n.go(t.name),s.reject()}),s.promise}],BankDependencies:["featureToggleBankAddressModal","$ocLazyLoad",function(e,t){return t.load({serie:!0,files:a})}],ManageAddressService:["BankDependencies","ManageAddressState","$injector",function(e,t,n){return t.then(function(){return n.get("ManageAddressService")})}],loadModal:["ManageAddressService",function(e){e.launchModal()}]}};n.$stateProvider.state(r)},this.addProfilePagePhoneState=function(e){var t=e.parentState,a=e.phoneStateData,r=e.phoneType,o=e.initPhoneScreen,s={phone:null,phoneType:r,initPhoneScreen:o,startingPoint:null,businessAccount:null,hideSetPrimary:null,onDeletePhoneNumber:null,saveConfig:null,onPhoneModalSave:null},i={url:"/"+r,name:t.name+"."+r,parent:t,params:s,data:__assign({},a),resolve:{featureToggleData:["featureToggleFactory",function(e){return e.initializeFeatureToggleData()}],angularDependencies:["angularElementsUtils","featureToggleData","EaseConstant",function(e,t,n){return!(!t[n.features.enableShowPhoneAngular]||!t[n.features.enableShowPhone])&&e.getAngularElementsDependencies().then(function(){return e.getAngularElementsFeature(["ease-web-core-profile-phone"]).then(function(){return!0})}).catch(function(){return!1})}]},onEnter:["PhoneModalService","PhoneApiService","$stateParams","phoneNumberData","StartPhoneMode","$rootScope","EASEUtilsFactory","$state","$log","angularDependencies",function(e,a,r,o,s,i,c,l,u,d){if(!d){var p=void 0;if(r.phone)e.launchPhoneModal(r);else if(r.phoneType)if(p=n.getProfilePhoneStateParams(i,r.phoneType,r.initPhoneScreen,o,s,a,c),p.phone){var f=c.isCanada();p.saveConfig=n.getSaveConfig(p.phone,f),e.launchPhoneModal(p)}else u.error("No phone data when launching phone modal"),l.go(t.name);else u.error("Invalid $stateParams when launching phone modal"),l.go(t.name)}}],templateUrl:"/ease-ui/dist/features/CustomerSettings/PersonalInformation/html/PersonalInformation-phone-angular.html",controller:"ProfilePhoneAngularController"};n.$stateProvider.state(i)},this.getSaveConfig=function(e,t){var n="mobile"===e.phoneType,a=!t||n;return{enableSuccess:a,enableError:!0}},this.getProfilePhoneStateParams=function(e,t,a,r,o,s,i){var c={phone:null,phoneType:t,initPhoneScreen:a,
startingPoint:null,hideSetPrimary:null,onDeletePhoneNumber:null,saveConfig:null,onPhoneModalSave:null},l={MobilePhone:function(){c.phone=r.mobile,c.startingPoint=o.PhoneNumber},WorkPhone:function(){c.phone=r.work,c.startingPoint=o.PhoneNumber},HomePhone:function(){c.phone=r.home,c.startingPoint=o.PhoneNumber},EditMobileTCPA:function(){c.phone=r.mobile,c.startingPoint=o.TcpaOnly},EditWorkTCPA:function(){c.phone=r.work,c.startingPoint=o.TcpaOnly},EditHomeTCPA:function(){c.phone=r.home,c.startingPoint=o.TcpaOnly}};return c.onPhoneModalSave=function(t){return n._updateProfilePhone(e,t,s,i.generateSyncId())},c.onDeletePhoneNumber=function(t){return n._deleteProfilePhone(e,t,s,i.generateSyncId())},l[t](),c},this._emitUpdatePhone=function(e,t){return e.$emit("deepLinkUpdatePhone",t)},this._emitUpdateError=function(e,t){throw e.$emit("deepLinkPhoneException",t),t},this._updateProfilePhone=function(e,t,a,r){var o=n._generateHeader(n.EaseConstant.busEvtId.managePhone,r);return"Add"===t.phoneMode?a.addNewPhoneNumber(t,o).then(function(){return n._emitUpdatePhone(e,t)},function(t){return n._emitUpdateError(e,t)}):a.savePhoneNumber(t,o).then(function(){return n._emitUpdatePhone(e,t)},function(t){return n._emitUpdateError(e,t)})},this._deleteProfilePhone=function(e,t,a,r){var o=n._generateHeader(n.EaseConstant.busEvtId.deletePhone,r);return a.deletePhoneNumber(t,o).then(function(){return n._emitUpdatePhone(e,t)},function(t){return n._emitUpdateError(e,t)})},this.$get=function(){return n}}return e.prototype._generateHeader=function(e,t){return{BUS_EVT_ID:e,EVT_SYNCH_TOKEN:t}},e.$inject=["EaseConstant","$stateProvider"],e}();n.module("easeAppUtils").provider("LazyLoadedStates",a)}),define("angularJSRouteProvider",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){var t=this;this.$stateProvider=e,this.addAngularJSRouteForNGElement=function(e){var n=e.parentState,a=e.stateName,r=e.stateUrl,o=e.featureToggles,s=void 0===o?[]:o,i=e.angularJSDependencies,c=void 0===i?[]:i,l=e.angularDependencies,u=void 0===l?[]:l,d=e.templateUrl,p=e.template,f=e.redirectStateName,g=void 0===f?"accountSummary":f,m=e.throwFeatureUnavailable,h=void 0!==m&&m,v=e.title,y=void 0===v?"Capital One Online Servicing":v,b=e.pageViewObject,C=e.controller,S=e.data,E=e.params,A=t.generateStateName(n,a),k=C?C:t.getAngularJSRouteController,D={url:r?"/"+r:null,name:A,parent:n,title:y,pageViewObject:b,templateUrl:d,template:p,controller:k,data:S,params:E,resolve:{featureToggleData:["featureToggleFactory",function(e){return e.initializeFeatureToggleData()}],checkFeatureToggle:["featureToggleData","$state","$q","easeExceptionsService",function(e,t,a,r){return a(function(a,o){for(var i=0,c=s;i<c.length;i++){var l=c[i];e[l]||(h?r.throwFeatureUnavailableSnag():n?t.go(n.name):t.go(g),o())}a()})}],loadAngularJSDependencies:["checkFeatureToggle","$ocLazyLoad",function(e,t){return t.load({serie:!0,files:c}).then(function(){return!0},function(){return!1})}],loadAngularDependencies:["loadAngularJSDependencies","angularElementsUtils",function(e,t){return t.getAngularElementsDependencies().then(function(){return t.getAngularElementsFeature(u)}).then(function(e){return!!e}).catch(function(){return!1})}]}};t.$stateProvider.state(D)},this.generateStateName=function(e,t){return e?e.name+"."+t:t},this.getAngularJSRouteController=function(e,t){e.stateParams=t},this.$get=function(){return t}}return e.$inject=["$stateProvider"],e}();t.AngularJSRouteProvider=a,n.module("easeAppUtils").provider("AngularJSRoute",a)});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};define("angularDynamicRouteProvider",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){var t=this;this.$stateProvider=e,this.state=function(e){var n=t.createState(e);t.$stateProvider.state(n)},this.createState=function(e){var n=e.url,a=e.name,r=e.parent,o=e.title,s=e.data,i=e.params,c=e.controllerAs,l=e.angularFeatureToggles,u=e.angularDependencies,d=e.resolve,p=t.getStateDefinitions(e),f=p.angularState,g=p.angularJsState,m=t.createResolve(g,!1),h=t.createResolve(f,!0),v=t.createSharedResolve(d),y={url:n,name:a,parent:r,title:o,data:s,params:i,controllerAs:c,pageViewObject:null,resolve:__assign({AngularDynamicRouteProvider_isAngularEnabled:["$stateParams","featureToggleFactory",function(e,n){return t.isAngularEnabled(n,l).then(function(t){return e.AngularDynamicRouteProvider_isAngularEnabled=t,t})}],AngularDynamicRouteProvider_loadAngularDependencies:["AngularDynamicRouteProvider_isAngularEnabled","angularElementsUtils",function(e,t){if(e&&u&&u.length)return t.getAngularElementsDependencies().then(function(){return t.getAngularElementsFeature(u)}).then(function(e){return!!e}).catch(function(){return!1})}],AngularDynamicRouteProvider_setPageViewObject:["AngularDynamicRouteProvider_isAngularEnabled",function(e){y.pageViewObject=e?f.pageViewObject:g.pageViewObject}]},m,h,v),templateProvider:["featureToggleFactory",function(e){return t.isAngularEnabled(e,l).then(function(e){return e?t.buildTemplate(f):t.buildTemplate(g)})}],controllerProvider:["$stateParams",function(e){var t=e.AngularDynamicRouteProvider_isAngularEnabled;return t?f.controller||null:g.controller||null}],onEnter:["AngularDynamicRouteProvider_isAngularEnabled"].concat(t.getDependencyInjectionList(g.onEnter),t.getDependencyInjectionList(f.onEnter),[function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var r=t.getDependencyInjectionList(g.onEnter).length;if(e&&f.onEnter){var o=t.getResolveOrOnEnterFn(f.onEnter),s=n.slice(r);return o.apply(void 0,s)}if(!e&&g.onEnter){var o=t.getResolveOrOnEnterFn(g.onEnter),i=n.slice(0,r);return o.apply(void 0,i)}}])};return y},this.$get=function(){return t}}return e.prototype.isAngularEnabled=function(e,t){return e.initializeFeatureToggleData().then(function(e){if("string"==typeof t)return e[t];for(var n=0,a=t||[];n<a.length;n++){var r=a[n];if(!e[r])return!1}return!0})},e.prototype.buildTemplate=function(e){return e.templateUrl?"<ng-include data-src=\"'"+e.templateUrl+"'\"></ng-include>":e.template?e.template:""},e.prototype.objectMap=function(e,t){return Object.keys(e).reduce(function(n,a){return n[a]=t(e[a]),n},{})},e.prototype.getResolveOrOnEnterFn=function(e){return e?Array.isArray(e)?e[e.length-1]:e:null},e.prototype.getDependencyInjectionList=function(e){return e&&Array.isArray(e)?e.slice(0,-1):[]},e.prototype.createResolve=function(e,t){var n=this;return this.objectMap(e.resolve||{},function(e){var a=n.getResolveOrOnEnterFn(e),r=n.getDependencyInjectionList(e);return["AngularDynamicRouteProvider_isAngularEnabled"].concat(r,[function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(t===e)return a.apply(void 0,n)}])})},e.prototype.createSharedResolve=function(e){var t=this;return this.objectMap(e||{},function(e){var n=t.getResolveOrOnEnterFn(e),a=t.getDependencyInjectionList(e);return a.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(void 0,e)}])})},e.prototype.getStateDefinitions=function(e){var t=e.angularState,n=e.angularJsState;t=t||{},n=n||{};var a=e.resolve||{},r=t.resolve||{},o=n.resolve||{};return this.validateAllResolves(a,r,o),{angularState:t,angularJsState:n}},e.prototype.validateAllResolves=function(e,t,n){this.validateResolves(e,t,"Shared","Angular"),this.validateResolves(e,n,"Shared","AngularJs"),this.validateResolves(t,n,"Angular","AngularJs")},e.prototype.validateResolves=function(e,t,n,a){var r=Object.keys(e),o=Object.keys(t),s=r.filter(function(e){return o.indexOf(e)!==-1});if(s.length)throw Error(n+" and "+a+" resolve cannot use the same keys. The following keys are duplicated: "+s.join(", "))},e.$inject=["$stateProvider"],e}();t.AngularDynamicRouteProvider=a,n.module("easeAppUtils").provider("angularDynamicRoute",a)}),define("addDebitCardRouteProvider",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=this;this.AngularJSRouteProvider=e,this.EaseConstant=t,this.addState=function(e){var t=n.EaseConstant.pubsub.addDebitPaymentCard;n.AngularJSRouteProvider.addAngularJSRouteForNGElement({parentState:e,title:"Add Debit Card",stateName:"addDebitCard",angularDependencies:["ease-web-core-debit-payment"],featureToggles:["ease.core.addDebitCard"],template:"<c1-element-debit-payment-modal-wrapper></c1-element-debit-payment-modal-wrapper>",throwFeatureUnavailable:!0,pageViewObject:{levels:[t]}})},this.$get=function(){return n}}return e.$inject=["AngularJSRouteProvider","EaseConstant"],e}();t.AddDebitCardRouteProvider=a,n.module("easeAppUtils").provider("AddDebitCardRoute",a)}),define("easeFocusIf",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.factory=function(){var t=function(){return new e};return t},e.prototype.link=function(e,t,n){var a=t[0];e.$watch(n.easeFocusIf,function(e){e&&a.focus()})},e}();n.module("easeAppUtils").directive("easeFocusIf",a.factory())}),define("creditKeeperUtils",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a){var r=this;this.EaseConstant=e,this.EaseCoreRestangularFullResponse=t,this.EASEUtilsFactory=n,this.languagePreferencesFactory=a,this.isUserCKEligible=function(){var e=r.EaseConstant.kRegExpFrench.test(r.languagePreferencesFactory.getCurrentLanguage());return e?Promise.resolve(!1):r.getCreditKeeperPromise().then(function(e){var t=e.status;return t&&null!==t&&403!==t&&500!==t})}}return e.prototype.getCreditKeeperPromise=function(){return this.creditKeeperPromise?this.creditKeeperPromise:this.initializeCreditKeeperPromise()},e.prototype.initializeCreditKeeperPromise=function(){var e=this.EaseConstant.kCreditKeeperUrl,t={BUS_EVT_ID:this.EaseConstant.busEvtId.creditKeeper.getCreditScore,EVT_SYNCH_TOKEN:this.EASEUtilsFactory.generateSyncId(),Accept:this.EaseConstant.requestHeaders.jsonContentTypeV1};return this.creditKeeperPromise=this.EaseCoreRestangularFullResponse.one(e).withHttpConfig({timeout:4e3}).customGET("",{},t),this.creditKeeperPromise},e.$inject=["EaseConstant","EaseCoreRestangularFullResponse","EASEUtilsFactory","languagePreferencesFactory"],e}();n.module("easeAppUtils").service("creditKeeperUtils",a)}),define("angularElementsUtils",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.$ocLazyLoad=e,this.EaseConstant=t,this.ANGULAR_ELEMENTS_HOME="elements/",this.ANGULAR_DEPENDENCIES=["ng-custom-element.umd.js"]}return e.prototype.getAngularElementsDependencies=function(){return this.$ocLazyLoad.load({serie:!0,files:this._createAngularElementsFilenames(this.ANGULAR_DEPENDENCIES)})},e.prototype.getAngularElementsFeature=function(e){return this.$ocLazyLoad.load({serie:!0,files:e.map(function(e){if(!window.__EASE_SHARED_CONTEXT__||!window.__EASE_SHARED_CONTEXT__.easeWebRuntimeManifest||!window.__EASE_SHARED_CONTEXT__.easeWebRuntimeManifest.paths)return null;var t=window.__EASE_SHARED_CONTEXT__.easeWebRuntimeManifest.paths[e];return t?t+".js":null}).filter(Boolean)})},e.prototype.getAngularElementsEntryPointModules=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.getAngularElementsDependencies().then(function(){return e.getAngularElementsFeature(t.slice())}).catch(function(){return console.error("Error loading Angular Elements EntryPoints "+t+".")})},e.prototype.getAngularElementsEntryPointFeature=function(e){return this.getAngularElementsDependencies().then(function(){return window.__EASE_SHARED_CONTEXT__.entryPointFeatureModuleLoader.load(e)}).catch(function(){return console.error("Error loading Angular Elements for EntryPoint Feature "+e+".")})},e.prototype._createAngularElementsFilename=function(e){return"/ease-ui"+this.EaseConstant.kBuildVersionPath+"/dist/"+this.ANGULAR_ELEMENTS_HOME+e},e.prototype._createAngularElementsFilenames=function(e){var t=this;return e.map(function(e){return t._createAngularElementsFilename(e)})},e.$inject=["$ocLazyLoad","EaseConstant"],e}();n.module("easeAppUtils").service("angularElementsUtils",a)}),define("globalNavigationUtils",["require","exports","angular"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a;!function(e){e.ExperienceA="experienceA",e.ExperienceB="experienceB"}(a||(a={}));var r;!function(e){e.Control="A",e.Horizontal="B",e.Side="C"}(r||(r={}));var o;!function(e){e.Home="home",e.UppMenu="uppMenu"}(o||(o={}));var s=function(){function e(e,t,n,a,s,i,c,l,u,d,p,f,g,m,h,v,y,b){var C=this;this.pubsubService=e,this.$state=t,this._=n,this.$q=a,this.$window=s,this.EaseConstant=i,this.profilePreferencesFactory=c,this.$rootScope=l,this.EASEUtilsFactory=u,this.pluginsService=d,this.i18nContent=p,this.featureToggleFactory=f,this.LogoutInterstitialService=g,this.$timeout=m,this.summaryService=h,this.enoChatUtils=v,this.adobeCampaignUtils=y,this.$log=b,this.globalNavigationMenuItemArr=[],this.isProfileExpanded=!1,this.sidebarPartial="/ease-ui/dist/features/SummaryHeader/html/partials/sidebarPartial.html",this.mobileMaxScreenWidth=696,this.tabletMaxScreenWidth=1220,this.shouldShowGlobalNav=!1,this.AB_TEST={global_nav:{centerLogo:!1,experience:"",showBackButton:!0,showDropDown:!1,selectedNav:o.Home,eno:!1,home:{icon:{current:this.EaseConstant.easeFooterOptions.houseActive,states:{active:this.EaseConstant.easeFooterOptions.houseActive,inactive:this.EaseConstant.easeFooterOptions.houseInActive}},routes:["accountsummary"]},uppMenu:{expanded:!1,routes:["profile","security","settings","alerts","documentcenter","changeaddress","virtualcards","address"]}},bottom_nav:{experience:null,centerLogo:!1,showBackButton:!0,showDropDown:!1}},this._globalNavClassName="global-navigation-sidebar",this._profileIconStates=["/Profile","/security","/Settings","/alerts","/profileHub","profileHub","/VirtualCards","/ChangeAddress","/documentCenter"],this.shouldShowGlobalNav=!1,this._setUpRootScopeListeners(),this.enoChatUtils.isUserEnoEligible().then(function(e){return C._isUserEnoEligible=e,C.$q.all([C.featureToggleFactory.initializeFeatureToggleData(),C.profilePreferencesFactory.getProfilePreferences(C.EaseConstant.busEvtId.acctSummary,C.EASEUtilsFactory.generateSyncId()),C.summaryService.get(),C.adobeCampaignUtils.globalOffersCall(i.kAdobeTargetGlobalMbox,{baseline:"core"}),C.adobeCampaignUtils.globalOffersCall(i.kAdobeTargetGlobalMbox,{baseline:"core-AccountSummary",eno:!!C._isUserEnoEligible})])}).catch(this._handleErrorScenario.bind(this)).then(function(e){void 0===e&&(e=[]),C._featureToggleData=e[0]||{};var t=e[1]||{},n=e[3]||{},a=e[4]||{};C.AB_TEST.bottom_nav.experience=(C.adobeCampaignUtils.parseAdobeTargetFullResponse(n,"NavigationBottomBar")||{}).experience,C.setProfilePreferencesDataOrFallback(t),C.isShowDocumentCenter=C._featureToggleData[C.EaseConstant.features.enableShowDocumentCenter];var o=C.adobeCampaignUtils.parseAdobeTargetFullResponse(a,"GlobalNavigation")||{},s=o.experience||"A";C._cachedGlobalNavExperience=s,l.$broadcast("profileHubExp",C.AB_TEST.bottom_nav.experience||s),C.shouldShowGlobalNav===!0&&(C.AB_TEST.global_nav.experience=s?s:r.Control,C.$rootScope.globalNavigationState=s),C.AB_TEST.global_nav.eno=C._isUserEnoEligible,C.setProfilePreferencesDataOrFallback(),C.setNavigationData()}).catch(this._handleErrorScenario.bind(this))}return e.$inject=["pubsubService","$state","_","$q","$window","EaseConstant","profilePreferencesFactory","$rootScope","EASEUtilsFactory","pluginsService","i18nContent","featureToggleFactory","LogoutInterstitialService","$timeout","summaryService","enoChatUtils","adobeCampaignUtils","$log"],e.prototype.navigateToAccSummary=function(){var e=this;this.pubsubService.pubsubTrackAnalytics({name:"nav home:button"}),this.setCurrentState("accountSummary"),this.toggleAllItemsExpansionStates(!1),this.shouldShowGlobalNav&&this.$state.go("accountSummary").then(function(){e.$window.scrollTo(0,0)})},e.prototype.navigateToUPPMenu=function(){var e=this;this.pubsubService.pubsubTrackAnalytics({name:"nav profile:button"}),this.setCurrentState("profileHub"),this.$state.go("profileHub").then(function(){e.$window.scrollTo(0,0)})},e.prototype.navigateGenericallyTo=function(e,t){var n=this;return function(a){n._getIsTabletFromEvent(a)&&(n.isProfileExpanded=!1,n.toggleAllItemsExpansionStates(!1)),t&&n.pubsubService.pubsubTrackAnalytics(t),n.$state.go(e).then(function(){n.$window.scrollTo(0,0)})}},e.prototype.openEnoChat=function(){this.pubsubService.pubsubTrackAnalytics({name:"eno:button"}),this.pluginsService.pluginMap[this.EaseConstant.enoChat]()},e.prototype.getProfilePicture=function(){return this._storedProfilePicture?this._storedProfilePicture:this._profileIconStates.indexOf(this._currentState)>-1?this.EaseConstant.easeFooterOptions.profileActive:this.EaseConstant.easeFooterOptions.profileInActive},e.prototype.getHomeIcon=function(){return this._profileIconStates.indexOf(this._currentState)>-1?this.EaseConstant.easeFooterOptions.houseInActive:this.EaseConstant.easeFooterOptions.houseActive},e.prototype.toggleAllItemsExpansionStates=function(e){var t=!1;this.globalNavigationMenuItemArr.forEach(function(n){return void 0!==e&&void 0!==n.isExpanded?(n.isExpanded=e,void(t=e)):(n.isExpanded!==!0&&n.isExpanded!==!1||(n.isExpanded=!n.isExpanded),void(t=t||n.isExpanded))}),this.isProfileExpanded=t},e.prototype.toggleSidebar=function(){this.toggleAllItemsExpansionStates()},e.prototype.getIsAnyItemExpanded=function(){return(this.globalNavigationMenuItemArr||[]).reduce(function(e,t){return e?e:!!t.isExpanded},!1)},e.prototype.isProfileActive=function(){return this._profileIconStates.indexOf(this._currentState)>-1},e.prototype.isHomeActive=function(){return this._profileIconStates.indexOf(this._currentState)===-1},e.prototype.setCurrentState=function(e){this._currentState=e},e.prototype.setProfilePreferencesDataOrFallback=function(e){var t=e||{};this._storedProfilePicture=t.profilePictureData||this._storedProfilePicture||this.EaseConstant.defaultProfilePicture,this.greetingName=t.greetingName||this.greetingName||this.profilePreferencesFactory.defaultGreetingName,this._cachedGlobalNavExperience!==r.Side&&this._cachedGlobalNavExperience!==r.Horizontal||this.greetingName||(this.greetingName=this.i18nContent[this.EaseConstant.customerSettings.kPersonalInfo])},e.prototype.toggleItemExpansion=function(e){var t=e||{};void 0!==t.isExpanded&&(t.isExpanded=!t.isExpanded),this.isProfileExpanded=this.getIsAnyItemExpanded()},e.prototype.checkProfile=function(){var e=n.element(document.getElementById("name_drop"));return"uppMenu"===this.AB_TEST.global_nav.selectedNav&&e.hasClass("slideup")?"highlight":"not-highlight"},e.prototype.setNavigationData=function(){this.globalNavigationMenuItemArr=[{getIsActive:this.isHomeActive.bind(this),getIcon:this.getHomeIcon.bind(this),text:this.i18nContent["ease.common.home"],onClick:this.navigateGenericallyTo("accountSummary",{name:"nav home:button"}).bind(this)},{icon:this.EaseConstant.enoIcon,isDisplay:this._isUserEnoEligible,text:this.i18nContent["ease.core.eno.chat.launchbtn.label"],onClick:this.openEnoChat.bind(this)},{ariaLabel:this.greetingName+" "+this.i18nContent[this.EaseConstant.customerSettings.kPersonalInfo],class:this._globalNavClassName+"__icon--profile",getIcon:this.getProfilePicture.bind(this),getIsActive:this.isProfileActive.bind(this),text:this.greetingName,onClick:this.toggleItemExpansion.bind(this),isExpanded:this.isProfileExpanded,children:[{text:this.i18nContent["ease.common.profile"],subtext:this.i18nContent["ease.common.profile.subheader"].replace(/and/gi,"&"),onClick:this.navigateGenericallyTo(this.EaseConstant.states.kProfile).bind(this),getIsActive:this._getIsProvidedStateActive(this.EaseConstant.states.kProfile).bind(this)},{text:this.i18nContent["ease.common.security"],subtext:this.i18nContent["ease.common.security.subheader"].replace(/and/gi,"&"),onClick:this.navigateGenericallyTo(this.EaseConstant.states.kSecurity).bind(this),getIsActive:this._getIsProvidedStateActive(this.EaseConstant.states.kSecurity).bind(this)},{text:this.i18nContent["ease.common.settings"],subtext:this.i18nContent["ease.common.settings.subheader"].replace(/and/gi,"&"),onClick:this.navigateGenericallyTo(this.EaseConstant.states.kAccountPreferences).bind(this),getIsActive:this._getIsProvidedStateActive(this.EaseConstant.states.kAccountPreferences).bind(this)},{text:this.i18nContent["ease.common.alerts"],subtext:this.i18nContent["ease.common.alerts.subheader"].replace(/and/gi,"&"),onClick:this.navigateGenericallyTo(this.EaseConstant.states.kAlerts).bind(this),isDisplay:this.EASEUtilsFactory.isShowAlerts(this._featureToggleData,this.summaryService.getLobArray()),getIsActive:this._getIsProvidedStateActive(this.EaseConstant.states.kAlerts).bind(this)},{text:this.i18nContent["ease.common.documentcenter"],subtext:this.i18nContent["ease.common.documentcenter.subheader"].replace(/and/gi,"&"),onClick:this.navigateGenericallyTo(this.EaseConstant.states.kDocumentCenter).bind(this),isDisplay:this.isShowDocumentCenter,getIsActive:this._getIsProvidedStateActive(this.EaseConstant.states.kDocumentCenter).bind(this)},{text:this.i18nContent["ease.common.signout"],onClick:this.launchPostInterstitial.bind(this)}]}]},e.prototype.logout=function(){this.pubsubService.pubsubTrackAnalytics({name:"sign out:link"}),this.$state.go("logout",{},{location:!1})},e.prototype.launchPostInterstitial=function(){var e=this;if(!this._disableClick)try{if(this._featureToggleData[this.EaseConstant.features.enableInterstitialMsgLogout]&&this._featureToggleData[this.EaseConstant.features.enableInterstitialModal])return this._disableClick=!0,this.LogoutInterstitialService.launchInterstitialModal().then(function(){var t=4e3;return e.$timeout(function(){return e._disableClick=!1},t)},function(){e.logout()});this.logout()}catch(e){this.logout()}},e.prototype.toggleBottomNavTestUI=function(e){var t=this.$rootScope.globalNavigationState;if(t===a.ExperienceA)this.AB_TEST.bottom_nav.centerLogo=!1,this.AB_TEST.bottom_nav.showDropDown=!1;else if(t===a.ExperienceB)switch(e){case"accountSummary":this.AB_TEST.bottom_nav.centerLogo=!0,this.AB_TEST.bottom_nav.showDropDown=!1;break;default:this.AB_TEST.bottom_nav.centerLogo=!1,this.AB_TEST.bottom_nav.showDropDown=!1}else this.AB_TEST.bottom_nav.centerLogo=!1,this.AB_TEST.bottom_nav.showBackButton=!0,this.AB_TEST.bottom_nav.showDropDown=!1},e.prototype.updateHighlighter=function(e){this.AB_TEST.global_nav.selectedNav=this._isUppMenu(e)?o.UppMenu:o.Home},e.prototype.updateHomeIcon=function(e){var t=this.AB_TEST.global_nav.home.icon.states;this.AB_TEST.global_nav.home.icon.current=this._isUppMenu(e)?t.inactive:t.active},e.prototype.collapseMenu=function(){var e=n.element(document.getElementById("name_drop"));e.hasClass("slidedown")&&this.$timeout(function(){e.removeClass("slidedown"),e.addClass("slideup"),e.off("keydown"),n.element(document.getElementById("profileLink")).removeClass("clicked")},200)},e.prototype.highlightUPPMenu=function(){this.AB_TEST.global_nav.experience===r.Horizontal&&(this.AB_TEST.global_nav.uppMenu.expanded=!this.AB_TEST.global_nav.uppMenu.expanded)},e.prototype.isUserEnoEligible=function(){return this._isUserEnoEligible},e.prototype._setUpRootScopeListeners=function(){var e=this;this.$rootScope.$on("profilePreferencesLoaded",function(t,n){e.setProfilePreferencesDataOrFallback(n),e.setNavigationData()}),this.$rootScope.$on("$stateChangeStart",function(t,n,a,r){e._currentState=n.parent&&n.parent.url?n.parent.url:n.url}),this.$rootScope.$on("$stateChangeSuccess",function(t,n,a,r){var o=["logout","welcome",e.EaseConstant.states.kVerify,"ContactInfo","escid",e.EaseConstant.states.kUpdateInfo,e.EaseConstant.states.kLinkAccount],s=((e.$state.current||{}).parent||{}).name,i=(e.$state.current||{}).name;o.indexOf(s||i)>-1?(e.AB_TEST.global_nav.experience="A",e.$rootScope.globalNavigationState="A",e.shouldShowGlobalNav=!1):(e.shouldShowGlobalNav=!0,e._cachedGlobalNavExperience&&(e.AB_TEST.global_nav.experience=e._cachedGlobalNavExperience,e.$rootScope.globalNavigationState=e._cachedGlobalNavExperience))})},e.prototype._getIsProvidedStateActive=function(e){var t=this;return function(){return t.$state.current.name.indexOf(e)>=0}},e.prototype._getIsTabletFromEvent=function(e){var t=e.view.innerWidth,n=t>this.mobileMaxScreenWidth&&t<this.tabletMaxScreenWidth;return n},e.prototype._handleErrorScenario=function(e){var t=e?e.message:"A promise was not successful in GlobalNavigationUtils";this.$log.error(t),this.AB_TEST.global_nav.experience=r.Control,this.setProfilePreferencesDataOrFallback(),this.setNavigationData()},e.prototype._isUppMenu=function(e){if(e&&"/*path"!==e.url){var t=e.parent?e.parent.url:e.url,n=!1;if(t){var a=RegExp(t.toLowerCase().substring(1));this.AB_TEST.global_nav.uppMenu.routes.forEach(function(e){a.test(e)&&(n=!0)})}return n}return!1},e}();n.module("easeAppUtils").service("globalNavigationUtils",s)}),define("CodecService",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._defaultTimesToEncode=2}return e.prototype.decode=function(e){for(;e&&e.indexOf("%")!==-1;)try{e=decodeURIComponent(e)}catch(t){console.error('Attempted to decode "'+e+'" but was unsuccessful... returning "'+e+'".',t);break}return e},e.prototype.encode=function(e,t){for(void 0===t&&(t=this._defaultTimesToEncode);e&&t>0;)t--,e=encodeURIComponent(e);return e},e.prototype.isUnsafe=function(t){var n=this._escapeRegexCharacters(e.urlUnsafeCharacters.concat(e.urlReservedCharacters)),a=new RegExp("["+n.join("|")+"]","g");return!!t.match(a)},e.prototype._escapeRegexCharacters=function(t){return t.map(function(t){return e.regexSpecialCharacters.indexOf(t)>-1?"\\"+t:t})},e.TOKEN="codec.service",e.regexSpecialCharacters=["[","]","\\","^","$",".","|","?","*","+","(",")"],e.urlReservedCharacters=[";","/","?",":","@","=","&"],e.urlUnsafeCharacters=["<",">","#",'"',"{","}","|","\\","^","~","[","]","`"],e}();t.CodecService=n}),define("CodecModule",["angular","CodecService"],function(e,t){var n=t.CodecService;e.module("easeAppUtils").service(n.TOKEN,n)}),define("easeUtils-module",["require","tmhDynamicLocale","LogOutLinks","CreditCardCosLink","EaseProperties","optional","numeral","moment","moment-timezone","ContentProperties","errorDetailsService","easeLocalize","easeInterceptor","easeUtils","chatUtils","customerPlatformDetailsUtils","displayModals","exposeInternalStateDecorator","featureToggleUtils","harmonyAccountSetupUtils","harmonyAccountSetup-constants","messageUtils","prefetchUtils","easeDateUtils","validationUtil","commonModule","commonServices","errorCaptureModule","pubsubServiceModule","UniversalTranslate","easeDropdownModule","dropdown","easeAccordion","accountServices","easeModal","EaseTooltip","EaseDatePicker","easeMultiDateSelector","easeDateRangePicker","filterComponent","dateLocalization","easeCustomerProperty","easeCustomerUtils","interPageUtils","routingUtils","stepUtils","stepsConfigProvider","errorStrategyService","environmentUtils","usabillaUtils","adobeCampaignUtils","deeplinkUtils","easeVendorLogger","enoChatUtils","pluginsService","modalUtils","easeSimpleSelect","easeRadioButton","easeButton","easeOrderedContainer","lazyLoadedStatesProvider","angularJSRouteProvider","angularDynamicRouteProvider","addDebitCardRouteProvider","easeFocusIf","creditKeeperUtils","angularElementsUtils","globalNavigationUtils","CodecModule"],function(e){e(["easeLodash"],function(){})}),require(["easeUtils-module"]);