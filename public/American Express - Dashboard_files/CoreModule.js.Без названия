!function r(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,r,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){var i,o;i=this,o=function(){"use strict";var me=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],Se=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],Ie=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],ve=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],ye=["#text"],Qe=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],we=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],be=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],Te=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"];function Ee(e,t){for(var n=t.length;n--;)"string"==typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e}function Oe(e){var t={},n=void 0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var De=/\{\{[\s\S]*|[\s\S]*\}\}/gm,Ae=/<%[\s\S]*|[\s\S]*%>/gm,ke=/^data-[\-\w.\u00B7-\uFFFF]/,Ce=/^aria-[\-\w]+$/,xe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Re=/^(?:\w+script|data):/i,Ne=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Pe(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var He=function(){return"undefined"==typeof window?null:window};return function t(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:He(),c=function(e){return t(e)};if(c.version="1.0.3",c.removed=[],!l||!l.document||9!==l.document.nodeType)return c.isSupported=!1,c;var u=l.document,o=!1,r=!1,d=l.document,p=l.DocumentFragment,e=l.HTMLTemplateElement,f=l.Node,n=l.NodeFilter,i=l.NamedNodeMap,a=void 0===i?l.NamedNodeMap||l.MozNamedAttrMap:i,s=l.Text,h=l.Comment,g=l.DOMParser,m=l.XMLHttpRequest,S=void 0===m?l.XMLHttpRequest:m,I=l.encodeURI,v=void 0===I?l.encodeURI:I;if("function"==typeof e){var y=d.createElement("template");y.content&&y.content.ownerDocument&&(d=y.content.ownerDocument)}var Q=d,w=Q.implementation,b=Q.createNodeIterator,T=Q.getElementsByTagName,E=Q.createDocumentFragment,O=u.importNode,D={};c.isSupported=w&&void 0!==w.createHTMLDocument&&9!==d.documentMode;var A=De,k=Ae,C=ke,x=Ce,R=Re,N=Ne,M=xe,P=null,H=Ee({},[].concat(Pe(me),Pe(Se),Pe(Ie),Pe(ve),Pe(ye))),_=null,L=Ee({},[].concat(Pe(Qe),Pe(we),Pe(be),Pe(Te))),F=null,B=null,W=!0,z=!0,U=!1,j=!1,q=!1,J=!1,V=!1,G=!1,X=!1,Y=!1,K=!1,$=!0,Z=!0,ee={},te=Ee({},["audio","head","math","script","style","template","svg","video"]),ne=Ee({},["audio","video","img","source","image"]),ie=Ee({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),oe=null,re=d.createElement("form"),ae=function(e){"object"!==(void 0===e?"undefined":Me(e))&&(e={}),P="ALLOWED_TAGS"in e?Ee({},e.ALLOWED_TAGS):H,_="ALLOWED_ATTR"in e?Ee({},e.ALLOWED_ATTR):L,F="FORBID_TAGS"in e?Ee({},e.FORBID_TAGS):{},B="FORBID_ATTR"in e?Ee({},e.FORBID_ATTR):{},ee="USE_PROFILES"in e&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,z=!1!==e.ALLOW_DATA_ATTR,U=e.ALLOW_UNKNOWN_PROTOCOLS||!1,j=e.SAFE_FOR_JQUERY||!1,q=e.SAFE_FOR_TEMPLATES||!1,J=e.WHOLE_DOCUMENT||!1,X=e.RETURN_DOM||!1,Y=e.RETURN_DOM_FRAGMENT||!1,K=e.RETURN_DOM_IMPORT||!1,G=e.FORCE_BODY||!1,$=!1!==e.SANITIZE_DOM,Z=!1!==e.KEEP_CONTENT,M=e.ALLOWED_URI_REGEXP||M,q&&(z=!1),Y&&(X=!0),ee&&(P=Ee({},[].concat(Pe(ye))),_=[],!0===ee.html&&(Ee(P,me),Ee(_,Qe)),!0===ee.svg&&(Ee(P,Se),Ee(_,we),Ee(_,Te)),!0===ee.svgFilters&&(Ee(P,Ie),Ee(_,we),Ee(_,Te)),!0===ee.mathMl&&(Ee(P,ve),Ee(_,be),Ee(_,Te))),e.ADD_TAGS&&(P===H&&(P=Oe(P)),Ee(P,e.ADD_TAGS)),e.ADD_ATTR&&(_===L&&(_=Oe(_)),Ee(_,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&Ee(ie,e.ADD_URI_SAFE_ATTR),Z&&(P["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(e),oe=e},se=function(t){c.removed.push({element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=""}},le=function(e,t){c.removed.push({attribute:t.getAttributeNode(e),from:t}),t.removeAttribute(e)},ce=function(e){var t=void 0,n=void 0;if(G&&(e="<remove></remove>"+e),r){try{e=v(e)}catch(e){}var i=new S;i.responseType="document",i.open("GET","data:text/html;charset=utf-8,"+e,!1),i.send(null),t=i.response}if(o)try{t=(new g).parseFromString(e,"text/html")}catch(e){}return t&&t.documentElement||((n=(t=w.createHTMLDocument("")).body).parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e),T.call(t,J?"html":"body")[0]};c.isSupported&&function(){var e=ce('<svg><g onload="this.parentNode.remove()"></g></svg>');e.querySelector("svg")||(r=!0);try{(e=ce('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">')).querySelector("svg img")&&(o=!0)}catch(e){}}();var ue=function(e){return b.call(e.ownerDocument||e,e,n.SHOW_ELEMENT|n.SHOW_COMMENT|n.SHOW_TEXT,function(){return n.FILTER_ACCEPT},!1)},de=function(e){return"object"===(void 0===f?"undefined":Me(f))?e instanceof f:e&&"object"===(void 0===e?"undefined":Me(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},pe=function(e,t,n){D[e]&&D[e].forEach(function(e){e.call(c,t,n,oe)})},fe=function(e){var t,n=void 0;if(pe("beforeSanitizeElements",e,null),!((t=e)instanceof s||t instanceof h||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof a&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute))return se(e),!0;var i=e.nodeName.toLowerCase();if(pe("uponSanitizeElement",e,{tagName:i,allowedTags:P}),P[i]&&!F[i])return!j||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(c.removed.push({element:e.cloneNode()}),e.innerHTML=e.textContent.replace(/</g,"&lt;")),q&&3===e.nodeType&&(n=(n=(n=e.textContent).replace(A," ")).replace(k," "),e.textContent!==n&&(c.removed.push({element:e.cloneNode()}),e.textContent=n)),pe("afterSanitizeElements",e,null),!1;if(Z&&!te[i]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return se(e),!0},he=function(e){var t=void 0,n=void 0,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0;if(pe("beforeSanitizeAttributes",e,null),a=e.attributes){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_};for(s=a.length;s--;){if(n=(t=a[s]).name,i=t.value.trim(),o=n.toLowerCase(),l.attrName=o,l.attrValue=i,l.keepAttr=!0,pe("uponSanitizeAttribute",e,l),i=l.attrValue,"name"===o&&"IMG"===e.nodeName&&a.id)r=a.id,a=Array.prototype.slice.apply(a),le("id",e),le(n,e),a.indexOf(r)>s&&e.setAttribute("id",r.value);else{if("INPUT"===e.nodeName&&"type"===o&&"file"===i&&(_[o]||!B[o]))continue;"id"===n&&e.setAttribute(n,""),le(n,e)}if(l.keepAttr&&(!$||"id"!==o&&"name"!==o||!(i in d||i in re))){if(q&&(i=(i=i.replace(A," ")).replace(k," ")),z&&C.test(o));else if(W&&x.test(o));else{if(!_[o]||B[o])continue;if(ie[o]);else if(M.test(i.replace(N,"")));else if("src"!==o&&"xlink:href"!==o||0!==i.indexOf("data:")||!ne[e.nodeName.toLowerCase()])if(U&&!R.test(i.replace(N,"")));else if(i)continue}try{e.setAttribute(n,i),c.removed.pop()}catch(e){}}}pe("afterSanitizeAttributes",e,null)}},ge=function e(t){var n=void 0,i=ue(t);for(pe("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)pe("uponSanitizeShadowNode",n,null),fe(n)||(n.content instanceof p&&e(n.content),he(n));pe("afterSanitizeShadowDOM",t,null)};return c.sanitize=function(e,t){var n=void 0,i=void 0,o=void 0,r=void 0,a=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!de(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!c.isSupported){if("object"===Me(l.toStaticHTML)||"function"==typeof l.toStaticHTML){if("string"==typeof e)return l.toStaticHTML(e);if(de(e))return l.toStaticHTML(e.outerHTML)}return e}if(V||ae(t),c.removed=[],e instanceof f)1===(i=(n=ce("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===i.nodeName?n=i:n.appendChild(i);else{if(!X&&!J&&-1===e.indexOf("<"))return e;if(!(n=ce(e)))return X?null:""}G&&se(n.firstChild);for(var s=ue(n);o=s.nextNode();)3===o.nodeType&&o===r||fe(o)||(o.content instanceof p&&ge(o.content),he(o),r=o);if(X){if(Y)for(a=E.call(n.ownerDocument);n.firstChild;)a.appendChild(n.firstChild);else a=n;return K&&(a=O.call(u,a,!0)),a}return J?n.outerHTML:n.innerHTML},c.setConfig=function(e){ae(e),V=!0},c.clearConfig=function(){oe=null,V=!1},c.addHook=function(e,t){"function"==typeof t&&(D[e]=D[e]||[],D[e].push(t))},c.removeHook=function(e){D[e]&&D[e].pop()},c.removeHooks=function(e){D[e]&&(D[e]=[])},c.removeAllHooks=function(){D={}},c}()},"object"==typeof n&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):i.DOMPurify=o()},{}],2:[function(e,t,n){try{try{void 0===QSI.DOMPurify&&(QSI.DOMPurify=e("dompurify"))}catch(e){}QSI.windowHandler={optInIDsAndTargetOrigins:"QSI_OptInIDsAndTargetOrigins",optInIDsAndWindowNames:"QSI_OptInIDsAndWindowNames",getWin:function(e,t){if("string"!=typeof e)return null;var n=QSI.windows;if(n){var i=n[e];if(i)return i.closed?(QSI.windowHandler.removeWindowHandle(e),null):i}return t?window.open("",e):null},getWindowOrigin:function(e){var t;try{if(null!=e&&!(t=e.origin)&&e.location)if(e.location.origin)t=e.location.origin;else{var n=e.location;t=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")}}catch(e){QSI.dbg.e(e)}return t},addOptInIDAndWindowName:function(e,t,n){var i=this.getOptInIDsAndWindowNames()||{},o=this.getOptInIDsAndTargetOrigins()||{};i[e]=t,i=JSON.stringify(i),o[e]=n,o=JSON.stringify(o),window.sessionStorage.setItem(this.optInIDsAndWindowNames,i),window.sessionStorage.setItem(this.optInIDsAndTargetOrigins,o)},getOptInIDsAndWindowNames:function(){var t=window.sessionStorage.getItem(this.optInIDsAndWindowNames)||{};try{"string"==typeof t&&(t=JSON.parse(t))}catch(e){QSI.dbg.e(e),t={}}return t},getOptInIDsAndTargetOrigins:function(){var t=window.sessionStorage.getItem(this.optInIDsAndTargetOrigins)||{};try{"string"==typeof t&&(t=JSON.parse(t))}catch(e){QSI.dbg.e(e),t={}}return t},removeOptInIDAndWindowName:function(e){var t=this.getOptInIDsAndWindowNames()||{},n=this.getOptInIDsAndTargetOrigins()||{};for(var i in t)t[i]===e&&(delete t[i],delete n[i]);window.sessionStorage.setItem(this.optInIDsAndWindowNames,JSON.stringify(t)),window.sessionStorage.setItem(this.optInIDsAndTargetOrigins,JSON.stringify(n))},setupWindowHandles:function(){var e=this.getOptInIDsAndWindowNames()||{};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t],i=QSI.windowHandler.getWin(n,!0);i?QSI.windowHandler.addWindowHandle(n,i):QSI.windowHandler.removeOptInIDAndWindowName(n)}},addWindowHandle:function(e,t){var n=QSI.windows||{};n[e]=t,QSI.windows=n},removeWindowHandle:function(e){var t=QSI.windows;t&&delete t[e]},removeClosedWindowHandles:function(){var e=QSI.windows;if(e)for(var t in e)e[t].closed&&(delete e[t],QSI.windowHandler.removeOptInIDAndWindowName(t))}},(void 0===window.QSI.LatencyLog||window.QTest)&&(QSI.LatencyLog={send:function(e,t,n){try{if(void 0===e||void 0===t)return void QSI.dbg.e("Incomplete Latency Data Provided");var i=QSI.baseURL+"Ajax.php?action=LatencyLog";void 0!==QSI.Orchestrator&&void 0!==QSI.Orchestrator.getClientVersionQueryString&&(i=i+"&"+QSI.Orchestrator.getClientVersionQueryString());var o="";for(var r in QSI.reqID)Object.prototype.hasOwnProperty.call(QSI.reqID,r)&&(o+=r+" ");var a=navigator.userAgent,s={Latency:e,MetricID:t,Message:"url: "+n+", Zone/Intercept ID: "+o+", clientURL: "+QSI.currentURL+", userAgent: "+a+", brandID: "+QSI.global.brandID+", brandDC: "+QSI.global.brandDC+", time: "+e};QSI.util.sendHttpRequest({type:"POST",url:i,header:{"Content-type":"application/x-www-form-urlencoded"},includeCookies:!1,data:QSI.util.buildQueryString(s)})}catch(e){QSI.dbg.e()}},sampledSend:function(e,t,n,i){try{Math.random()<=i/100==!0&&this.send(e,t,n)}catch(e){QSI.dbg.e()}}}),QSI.util={creativeTypes:{EMPTY:"Empty",FEEDBACK_LINK:"FeedbackLink",HTTP_REDIRECT:"HTTPRedirect",IFRAME:"IFrame",INFO_BAR:"InfoBar",LINK:"Link",NO_CREATIVE:"NoCreative",POP_OVER:"PopOver",POP_UNDER:"PopUnder",POP_UP:"PopUp",RELAY:"Relay",SLIDER:"Slider",SOCIAL_MEDIA:"SocialMedia",USER_DEFINED_HTML:"UserDefinedHTML"},originalDocumentOverflow:"auto",$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},setStyle:function(n,i){QSI.util.forOwn(i,function(e,t){try{n.style[t]=i[t]}catch(e){QSI.dbg.e(e)}})},getStyle:function(e,t){var n,i=this.getStyles(e);try{n=i?i[t]||i.getPropertyValue(t):void 0}catch(e){n=void 0}return void 0===n?n:n+""},getStyles:function(e){return window.getComputedStyle?e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):document.documentElement.currentStyle?e.currentStyle:void 0},prependElement:function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},getTempID:function(){return"QSI_"+Math.floor(1e5*Math.random()+1)},isValidID:function(e,t){if(e){if("zone"===t)return"ZN"===e.substring(0,2);if("intercept"===t)return"SI"===e.substring(0,2)}return!1},getDateNow:function(){return Date.now?Date.now():(new Date).valueOf()},getElementHTML:function(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},getOriginInterceptOfMessage:function(e){if(!QSI.reg)return null;for(var t in QSI.reg)if(Object.prototype.hasOwnProperty.call(QSI.reg,t)){var n=QSI.reg[t];if(n.embeddedTargets)for(var i=0;i<n.embeddedTargets.length;i++)if(n.embeddedTargets[i].contentWindow===e)return QSI.reg[t];if(n.embeddedWindows)for(var o=0;o<n.embeddedWindows.length;o++)if(n.embeddedWindows[o].targetIframe.contentWindow===e)return QSI.reg[t]}return null},tryGetTarget:function(){var e=QSI.reg,t=QSI.id;if(e&&t)return e[t].getTarget()},addToStyleElements:function(e){QSI.styleElements=QSI.styleElements||[],QSI.styleElements.push(e)},buildQueryString:function(n){var i=[];return QSI.util.forOwn(n,function(e,t){i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]))}),i.join("&")},waitForFocus:function(){var e=QSI.util.Deferred();return document.hasFocus()?e.resolve():QSI.util.observe(window,"focus",function(){try{e.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),e.promise()},waitForExitIntent:function(){var t=QSI.util.Deferred();return QSI.util.observe(window,"mouseout",function(e){try{if(!document.hasFocus()||0<e.clientY)return;t.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),t.promise()},truncateString:function(e,t){return null==e?null:e.length<=t?e:e.slice(0,t)+"..."},ScriptLoader:function(t){var s=this,l=document.getElementsByTagName("script")[0];this.getScriptURL=function(e){return t+e},this.load=function(e,t){var n=i(e,t,!1);return n?n.promise():null},this.loadAndManualResolve=function(e,t){return i(e,t,!0)};var i=function(e,t,n){if(null==e)return null;var i="";t&&(i=c(t));var o,r,a=QSI.util.Deferred();return r=s.getScriptURL(e)+i,o=QSI.util.build("script",{src:r,"data-qsimodule":"script"}),!0!==n&&(QSI.util.observe(o,"load",function(){try{a.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),QSI.util.observe(o,"readystatechange",function(){try{"loaded"!==o.readyState&&"complete"!==o.readyState||a.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})),l.parentNode.insertBefore(o,l),a},c=function(n){var i=[];return QSI.util.forOwn(n,function(e,t){i.push(t+"="+n[t])}),"?"+i.join("&")}},generateRandomID:function(e){return e+"_"+Math.round(1e8*Math.random())},build:function(e,n,t){var i=document.createElement(e);if(n){var o=this;QSI.util.forOwn(n,function(e,t){switch(t){case"style":o.setStyle(i,n[t]);break;case"className":i.className=n[t];break;case"id":i.id=n[t];break;default:i.setAttribute(t,n[t])}})}if(t)if(QSI.util.isString(t))"style"===e&&i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(String(t)));else if(QSI.util.isArray(t))for(var r=0,a=t.length;r<a;r++){var s=t[r];"string"==typeof s||"number"==typeof s?i.appendChild(document.createTextNode(String(s))):s&&s.nodeType&&i.appendChild(s)}return i},showTrialIcon:function(){if(!this.trialIcon){var e=this.build("div",{},[this.build("img",{src:QSI.global.imagePath+"/siteintercept/logo.png"})]);this.trialIcon=e,QSI.util.setStyle(e,{opacity:.5,padding:"20px",bottom:"0",right:"0",position:"fixed"}),document.body.appendChild(e)}},createArrayFromArguments:function(e){return e?Array.prototype.slice.call(e):[]},createArrayFromIterable:function(e){for(var t=e.length||0,n=new Array(t);t--;)n[t]=e[t];return n},sendHttpRequest:function(e){var t=new XMLHttpRequest;for(var n in t.open(e.type,e.url),e.timeout&&(t.timeout=e.timeout,e.timeoutCallback&&(t.ontimeout=function(){try{e.timeoutCallback.apply(this,arguments)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})),e.header)Object.prototype.hasOwnProperty.call(e.header,n)&&t.setRequestHeader(n,e.header[n]);e.includeCookies&&(t.withCredentials=!0,t.setRequestHeader("Access-Control-Allow-Credentials","true")),t.onreadystatechange=function(){try{if(4===t.readyState)if(200===t.status){if(!e.successCallback)return;e.successCallback(t)}else if(e.errorCallback)return void e.errorCallback(t)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},t.send(e.data)},Class:function(){function i(){try{this.initialize&&this.initialize.apply(this,arguments)}catch(e){QSI.dbg.e(e)}}function e(n){QSI.util.forOwn(n,function(e,t){i.prototype[t]=n[t]})}for(var t=QSI.util.createArrayFromArguments(arguments),n=0,o=t.length;n<o;n++)e(t[n]);return i},Creative:function(){var e=this.Class.apply(this,arguments);return e.prototype.globalInitialize=function(e){var t;if(this.displayed=QSI.util.Deferred(),this.willShow=QSI.util.Deferred(),this.cookiesEnabled=QSI.util.Deferred(),this.preventRepeatedDisplay=QSI.util.Deferred(),this.localStorageEnabled=QSI.util.Deferred(),this.options=e||{},this.id=this.options.id,this.type=this.options.type,this.displayOptions=this.options.displayOptions||{},this.displayOptions.displayed=this.displayed.promise(),this.interceptDisplayOptions=this.options.interceptDisplayOptions||{},this.actionOptions=this.options.actionOptions||{},this.actionOptions.actionSetJavaScriptBeforeDisplay&&this.shouldShow()&&(t=this.actionOptions.actionSetJavaScriptBeforeDisplay,this.evalJS(t)),this.actionOptions.actionSetJavaScript){var n=this;t=this.actionOptions.actionSetJavaScript,this.displayed.done(function(){n.evalJS(t)})}this.actionOptions.actionSetEvents&&QSI.util.processElementEvents(this.actionOptions.actionSetEvents,null,this),this.getType()!==QSI.util.creativeTypes.POP_UNDER&&this.killPopUnder()},e.prototype.evalJS=function(e){QSI.dbg.e("Error: JavaScript Evaluation has been disabled. Attempted to execute: '"+e+"'")},e.prototype.getType=function(){return this.type},e.prototype.getTarget=function(e){var t=this.options.targetURL,n=QSI.EmbeddedData.getEmbeddedDataAsQueryStringParam(this.id,e);return n&&(n=encodeURIComponent(n),"Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<9&&(n=n.substring(0,2050-t.length)),t+="&Q_ED="+n),t},e.prototype.getTargetHelper=function(e){var t=this;return function(){return t.getTarget(e)}},e.prototype.resetStyles=function(){if(this.options.resetStyle){var e=QSI.util.build("style",{type:"text/css"});if(e.styleSheet){document.getElementsByTagName("head")[0].appendChild(e),e.styleSheet.cssText=this.options.resetStyle}else{document.body.appendChild(e);var t=document.createTextNode(this.options.resetStyle);e.appendChild(t)}QSI.util.addToStyleElements(e)}},e.prototype.killPopUnder=function(){try{var e="QSIPopUnder_"+this.id;if(QSI.cookie.get(e)){var t=QSI.util.openWin("",e);t&&t.w&&(t.w.popunderDead=!0),t.close(),QSI.cookie.erase(e)}}catch(e){}},e.prototype.shouldShow=function(){var e=!0;return this.interceptDisplayOptions.hideOnCookiesDisabled&&(QSI.cookie.areCookiesEnabled()?this.cookiesEnabled.resolve():(this.cookiesEnabled.reject(),e=!1)),this.interceptDisplayOptions.hideOnLocalStorageDisabled&&(QSI.localStorage.isLocalStorageEnabled()?this.localStorageEnabled.resolve():(this.localStorageEnabled.reject(),e=!1)),this.shouldPreventRepeatedDisplay()?(this.preventRepeatedDisplay.resolve(),e=!1):this.preventRepeatedDisplay.reject(),e?(this.willShow.resolve(),!0):(this.willShow.reject(),!1)},e.prototype.shouldPreventRepeatedDisplay=function(){var e=!1;if(0!=this.interceptDisplayOptions.noshow)try{null!==QSI.cookie.get(this.id+"_intercept")?(e=!0,QSI.cookie.erase(this.id+"_intercept")):null!==QSI.cookie.get("QSI_"+this.id+"_intercept")&&(e=!0)}catch(e){QSI.dbg.e(e)}else QSI.cookie.erase("QSI_"+this.id+"_intercept");return e},e.prototype.setPreventRepeatedDisplayCookie=function(){if(this.interceptDisplayOptions&&this.interceptDisplayOptions.noshow&&0!=this.interceptDisplayOptions.noshow&&null===QSI.cookie.get("QSI_"+this.id+"_intercept"))try{QSI.cookie.set("QSI_"+this.id+"_intercept",!0,this.interceptDisplayOptions.noshow,this.interceptDisplayOptions.cookieDomain,{force:!0})}catch(e){QSI.dbg.e(e)}},e.prototype.impress=function(){this.impressElement=QSI.util.impress(this.options.impressionURL);try{var e=(new Date).getTime()/1e3,t=JSON.parse(QSI.localStorage.get("Q_INTER"));null===t&&(t={}),t[this.id]=e,QSI.localStorage.set("Q_INTER",JSON.stringify(t))}catch(e){QSI.dbg.e(e)}this.setPreventRepeatedDisplayCookie()},e.prototype.cleanupImpressElement=function(){QSI.util.remove(this.impressElement)},e.prototype.close||(e.prototype.close=function(){this.cleanupImpressElement()}),e.prototype.remove||(e.prototype.remove=e.prototype.close),e},isString:function(e){return"string"==typeof e},isArray:function(e){return"object"==typeof e&&e instanceof Array},isFunction:function(e){return"function"==typeof e||!1},isIE8:function(){return this.isIE(8)},isIE:function(e){return"Internet Explorer"===QSI.Browser.name&&(!e||e===QSI.Browser.version)},isChrome:function(){return"Chrome"===QSI.Browser.name},isOpera:function(){return"Opera"===QSI.Browser.name},isFF:function(){return"Firefox"===QSI.Browser.name},isAndroid:function(){return"Android"===QSI.OS.name},removePx:function(e){var t=(e=e||"").indexOf("px");return 0<t&&(e=e.substr(0,t)),e},getDimensions:function(e){var t=!0;e.parentNode&&e.parentNode.tagName||(document.body.appendChild(e),t=!1);var n=e.style.display||this.getComputedStyle(e).display;if("none"!==n&&null!==n){var i={width:e.offsetWidth,height:e.offsetHeight};return t||e.parentNode.removeChild(e),i}var o=e.style,r=o.visibility,a=o.position,s=o.display;o.visibility="hidden",o.position="absolute",o.display="block";var l=e.clientWidth,c=e.clientHeight;return o.display=s,o.position=a,o.visibility=r,t||e.parentNode.removeChild(e),{width:l,height:c}},convertPercentToPixel:function(e,t){return Math.round(e/100*t)},convertPixelToPercent:function(e,t){return Math.round(e/t*100)},cumulativeOffset:function(e){var t,n={top:0,left:0},i=e&&e.ownerDocument;if(i)return t=i.documentElement,void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),{top:n.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},getTimeout:function(e){var t=QSI.util.Deferred();return e=1e3*parseFloat(e),window.setTimeout(function(){try{t.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},e),t.promise()},getComputedStyle:function(e){return e.currentStyle||window.getComputedStyle(e,null)},getWindowSize:function(e){var t=e||window,n=this.getPageSize(e);return{width:t.outerWidth||n.width,height:t.outerHeight||n.height}},getPageSize:function(e){var t=(e=e||window).document.documentElement||{};return{width:t.clientWidth||e.innerWidth,height:t.clientHeight||e.innerHeight}},getBrowserViewHeight:function(e){var t=e||window,n=t.document.documentElement;return"Chrome"===QSI.Browser.name&&QSI.Browser.isMobile&&"Android"===QSI.OS.name?t.outerHeight:QSI.Browser.isMobile&&1<n.clientWidth/t.innerWidth?n.clientHeight:t.innerHeight},getScrollOffsets:function(){var e=window,t=e.document.documentElement,n="pageYOffset",i="pageXOffset";return{left:i in e?e[i]:t.scrollLeft,top:n in e?e[n]:t.scrollTop}},startScrolling:function(){if("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<8){var e=document.getElementsByTagName("html")[0];QSI.util.setStyle(e,{overflow:this.originalDocumentOverflow})}else QSI.util.setStyle(document.body,{overflow:this.originalDocumentOverflow});document.ontouchmove=QSI.touchScrollEvent,QSI.touchScrollEvent=null},stopScrolling:function(){if("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<8){var e=document.getElementsByTagName("html")[0];this.originalDocumentOverflow=this.originalDocumentOverflow||this.getStyle(e,"overflow"),QSI.util.setStyle(e,{overflow:"hidden"})}else this.originalDocumentOverflow=this.originalDocumentOverflow||this.getStyle(document.body,"overflow"),QSI.util.setStyle(document.body,{overflow:"hidden"});document.ontouchmove&&(QSI.touchScrollEvent=document.ontouchmove),document.ontouchmove=function(e){e.preventDefault()}},hasVerticalScrollbar:function(){var e=document.documentElement;return"Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<8||("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<9?6<e.offsetWidth-e.scrollWidth:e.clientWidth<window.innerWidth)},hasHorizontalScrollbar:function(){var e=document.documentElement;return"Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<8||("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<9?6<e.offsetHeight-e.scrollHeight:e.clientHeight<window.innerHeight)},pageMode:function(){return"CSS1Compat"===document.compatMode?"Standards":"Quirks"},isFixed:function(){return!("Internet Explorer"===QSI.Browser.name&&"Standards"!==this.pageMode())},openWin:function(e,t,n){var i=[];return n=n||{},QSI.util.forOwn(n,function(e,t){i.push(t+"="+n[t])}),i=i.join(","),window.open(e,t,i)},impress:function(e){var t;return e&&(t=QSI.util.build("img",{src:e+"&r="+(new Date).getTime(),style:{display:"none"},alt:""}),document.body.appendChild(t)),t},getQueryParam:function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?"":n[1]},capFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},observe:function(e,t,n,i){this.obs=this.obs||[],e&&(this.obs.push({el:e,e:t,f:n,preventRemove:i||!1}),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+this.capFirst(t)]&&(e["on"+this.capFirst(t)]=n))},stopObserving:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+this.capFirst(t)]&&(e["on"+this.capFirst(t)]=null)},removeObservers:function(){var t=this;this.each(this.obs||[],function(e){e.preventRemove||t.stopObserving(e.el,e.e,e.f)})},hasReachedScrollPosition:function(e){var t=this.getScrollOffsets().top,n=this.getPageSize().height;return document.body.scrollHeight*(e/100)<=t+n},remove:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},removeAllByQuery:function(e,t){var n=e.querySelectorAll(t);Array.prototype.forEach.call(n,function(e){QSI.util.remove(e)})},buildWidget:function(e,t){var n="build"+e+"Widget";return this[n]?this[n](t):""},buildCCDWidget:function(e){if((e=e||{}).close&&0<parseInt(e.close,10)){var n=e.close,i=this.getTempID(),t=this.build("span",{id:i},n+""),o=this.build("span",{},[t]),r=this,a=function(){var t=function(){try{if(n<=0)return;var e=r.$(i);e&&(e.textContent=--n+""),setTimeout(t,1e3)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}};e.delay&&0<e.delay?setTimeout(function(){try{setTimeout(t,1e3)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},1e3*e.delay):setTimeout(t,1e3)};return e.displayed?e.displayed.done(function(){a()}):a(),this.getElementHTML(o)}return""},positionFixed:function(r,a,s){r.style.position="absolute";var e,l=0,c=this.getPageSize().height,u=document.body.scrollHeight,t=QSI.util.getScrollOffsets().top;0<t&&("auto"===s?(r.style.top=t+parseInt(a,10)+"px",r.style.bottom=s):"auto"===a&&(r.style.bottom=t+c-parseInt(a,10)+"px",r.style.top=a)),"string"==typeof a&&-1<a.indexOf("px")&&(a=parseInt(a,10)),"string"==typeof s&&-1<s.indexOf("px")&&(s=parseInt(s,10));var d=function(){try{clearTimeout(e),e=setTimeout(function(){try{var t=QSI.util.getScrollOffsets().top;if(t<0||u<t+c)return;var n,i=t+a,e=i-l,o=0<=e?20:-20;Math.abs(e)<10&&(o=e),l=i,"auto"===s?n=setInterval(function(){try{var e=parseInt(r.style.top,10)+o;r.style.top=e+"px",r.style.bottom=s,0<o?i<=e&&(clearInterval(n),QSI.util.observe(window,"scroll",d)):e<=i&&(clearInterval(n),QSI.util.observe(window,"scroll",d)),QSI.util.observe(window,"scroll",d)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},15):"auto"===a&&(n=setInterval(function(){try{var e=parseInt(r.style.bottom,10)+o;r.style.bottom=t+c-s+"px",r.style.top=a,r.style.bottom=e+"px",0<o?i<=e&&(clearInterval(n),QSI.util.observe(window,"scroll",d)):e<=i&&(clearInterval(n),QSI.util.observe(window,"scroll",d)),QSI.util.observe(window,"scroll",d)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},15))}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},60)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}};QSI.util.observe(window,"scroll",d)},each:function(e,t){var n=e.length;if(n)for(var i=0;i<n;i++)t(e[i],i)},forOwn:function(e,t){if(e&&e instanceof Object&&this.isFunction(t))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)},isObjectEmpty:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},filter:function(e,t){try{if(e.filter&&this.isFunction(e.filter))return e.filter(t)}catch(e){}var n=e.length,i=[];if(n)for(var o=0;o<n;o++)t(e[o])&&i.push(e[o]);return i},Deferred:function(){var n={},i="pending",o=[],r=[],a=[],s=[],l={state:function(){return i},then:function(e,t){return this.done(e).fail(t),this},done:function(e){if("pending"===i)a.push(e);else if("resolved"===i)try{e.apply(this,o)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}return this},fail:function(e){if("pending"===i)s.push(e);else if("rejected"===i)try{e.apply(this,r)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}return this},promise:function(){return l}};return QSI.util.forOwn(l,function(e,t){n[t]=l[t]}),n.resolve=function(){if("pending"===i){i="resolved";var t=QSI.util.createArrayFromArguments(arguments);o=t;var n=this;QSI.util.each(a,function(e){try{e.apply(n,t)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})}},n.reject=function(){if("pending"===i){i="rejected";var t=QSI.util.createArrayFromArguments(arguments);r=t;var n=this;QSI.util.each(s,function(e){try{e.apply(n,t)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})}},n},when:function(e){var t=QSI.util.createArrayFromArguments(arguments),n=t.length,i=n,o=1===i?e:QSI.util.Deferred(),r=function(t,n){return function(e){n[t]=1<arguments.length?e:QSI.util.createArrayFromArguments(arguments),--i||o.resolve(n)}};if(1<n)for(var a=0;a<n;a++)t[a]&&t[a].promise?t[a].promise().done(r(a,t)).fail(o.reject):i--;return i<1&&o.resolve(t),o.promise()},moveToBackground:function(){("Firefox"===QSI.Browser.name||"Internet Explorer"===QSI.Browser.name&&11<=QSI.Browser.version)&&window.open("javascript:window.focus();","_self","")},handleMailTo:function(e,t,n,i){this.addClickImg(t,n,i,function(){try{window.location.href=e}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})},addClickImg:function(e,t,n,i){var o=new Date,r=QSI.baseURL+"?Q_Click=1&Q_CID="+n+"&Q_SIID="+e+"&Q_ASID="+t+"&T="+o.getTime()+"&Q_LOC="+encodeURIComponent(window.location.href);this.addImage(r,i)},addImage:function(e,t){var n=QSI.util.build("img",{src:e,alt:""});QSI.util.isIE()&&QSI.util.setStyle(n,{display:"none"}),t&&QSI.util.observe(n,"load",t),document.body.appendChild(n)},processLocators:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];o.locators&&(QSI.PipedText.setLocators(o.locators),o.content=QSI.PipedText.evaluateLocators(o.content,t))}},getDocDimension:function(e){var t=document,n=t.documentElement;return Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])},getDocWidth:function(){return this.getDocDimension("Width")},getDocHeight:function(){return this.getDocDimension("Height")},getScroll:function(){var e=this.getScrollOffsets();return{width:this.getDocWidth(),height:this.getDocHeight(),left:e.left,top:e.top}},fireGoogleEventBeacon:function(e,t,n){e.search(/^UA-\d+-\d{1,2}$/)<0?QSI.dbg.c("Google Anylytics Account number is incorrect "+e):window.GoogleAnalyticsObject?this.googleEventAnyalytics(window.GoogleAnalyticsObject,e,t,n):this.googleEventGA(e,t,n)},googleEventGA:function(e,t,n){var i="SITracker"+this.getTempID(),o=window._gaq||[];o.push([i+"._setAccount",e]),o.push([i+"._trackEvent",t,n])},googleEventAnyalytics:function(e,t,n,i){var o="SITracker"+this.getTempID();window[e]("create",t,{name:o}),window[e](o+".send","event",n,i)},evalJS:function(e){return function(){QSI.dbg.e("Error: JavaScript Evaluation has been disabled. Attempted to execute: '"+e+"'")}},processElementEvents:function(e,t,n){if(!(!e||e.length<=0||e[0].length<=0)){for(var i=new QSI.ActionModule(n),o=e[0],r=0,a=o.length;r<a;r++)i.add(o[r]);i.addToElement(t)}},clickOnKeyDown:function(e){try{32!==e.which&&13!==e.which||e.target.click()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},stableSort:function(e,i){i=Boolean(i)?i:function(e,t){return e<t?-1:t<e?1:0};var t=e.map(function(e,t){return[e,t]});t.sort(function(e,t){var n=i(e[0],t[0]);return 0!==n?n:e[1]-t[1]});for(var n=0;n<e.length;n++)e[n]=t[n][0];return e}},QSI.Target=QSI.util.Class({initialize:function(e,t,n,i){this.el=e,this.options=n,this.urlCallback=t,this.deferred=QSI.util.Deferred(),this.parent=i,this.init()},init:function(){var e=this;QSI.util.observe(this.el,"click",function(){try{e.urlCallback&&(e.openTarget(),e.deferred.resolve())}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})},openTarget:function(){var e=this.urlCallback(),t=this.options;if(e&&0!==e.indexOf("&"))if(t.targetReplaceContents&&this.parent.getType()!==QSI.util.creativeTypes.USER_DEFINED_HTML&&(t.targetNewWindow=!0,t.targetReplaceContents=!1),t.targetNewWindow)try{var n,i=QSI.util.getPageSize(),o=t.targetFullScreen?screen.availWidth||screen.width||i.width:t.targetWidth,r=t.targetFullScreen?screen.availHeight||screen.height||i.height:t.targetHeight,a="targetwindow_"+(new Date).valueOf().toString(),s=QSI.util.openWin(e,a,{status:"yes",scrollbars:"yes",resizable:"yes",width:o,height:r});if(void 0!==this.parent&&null!==this.parent)void 0!==this.parent.options&&null!==this.parent.options&&(n=this.parent.options.targetURLOrigin),QSI.windowHandler.addOptInIDAndWindowName(this.parent.id,a,n||"*"),QSI.windowHandler.addWindowHandle(a,s);var l=function(){if(window.opener&&window.opener.sessionStorage){var e=window.opener.sessionStorage,t=e.getItem("QSI_OptInIDsAndWindowNames");if(t){try{t=JSON.parse(t)}catch(e){return void QSI.dbg.e(e)}for(var n in t)t[n]===window.name&&delete t[n];e.setItem("QSI_OptInIDsAndWindowNames",JSON.stringify(t))}}};s&&(s.onunload=l,s.onbeforeunload=l)}catch(e){QSI.dbg.e(e)}else t.targetEmbedded?new QSI.EmbeddedTarget(e,t,this.parent):t.targetPopUnder?new QSI.PopUnderTarget(e,t,this.parent):t.targetReplaceContents?this.handleReplaceCreative():window.location=e},handleReplaceCreative:function(){var e,t,n=this.parent.node;t=this.options.sameSizeAsCreative?(e=this.parent.options.size.width,this.parent.options.size.height):(e=this.options.targetWidth,this.options.targetHeight);var i={width:e+"px",height:t+"px",display:"block",border:"none",outline:"none",zIndex:2e9},o={src:this.urlCallback()};QSI.util.isIE(9)||(o.sandbox="allow-scripts allow-same-origin allow-popups");var r=QSI.util.build("iframe",o);QSI.util.setStyle(r,i),this.parent.node=r,this.parent.options.size={width:e,height:t},n.parentNode.replaceChild(r,n),this.parent.displayOptions.customPosition&&this.parent.position()},complete:function(){return this.deferred.promise()}}),QSI.ActionModule=QSI.util.Class({initialize:function(e){this.creative=e,this.actions={click:[],mouseout:[],mouseover:[],displayed:[]}},add:function(e){this.actions[e.triggeringEvent]&&this.actions[e.triggeringEvent].push(this.buildAction(e))},buildAction:function(e){var t=this;return{run:function(){t["run"+e.actionType+"Action"]&&t["run"+e.actionType+"Action"](e)}}},runAddCookieAction:function(e){QSI.cookie.set(e.cookieName,e.cookieValue,this.creative.interceptDisplayOptions.cookieDomain)},runRemoveCookieAction:function(e){QSI.cookie.erase(e.cookieName,this.creative.interceptDisplayOptions.cookieDomain)},runGoogleEventAction:function(e){QSI.util.fireGoogleEventBeacon(e.accountNumber,e.actionCategory,e.actionName)},runJavaScriptAction:function(e){QSI.util.evalJS(e.javaScriptString)()},addToElement:function(n){var i=this,o=function(e){var t=!1;return function(){try{t||(t=!0,i.runAction(e))}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}};QSI.util.forOwn(this.actions,function(e,t){i.actions[t].length&&("displayed"===t?i.creative.displayed.done(o(i.actions[t])):QSI.util.observe(n,t,o(i.actions[t])))})},runAction:function(e){for(var t=0;t<e.length;t++)e[t].run()}});var l=function(e,t){this.type=e,this.payload=t},c=function(e,t){if("string"==typeof e&&"string"==typeof t){var n=QSI.windowHandler.getWin(t);if(n){var i=new l("setEDinPlaceholderWindow",e),o=JSON.stringify(i),r=QSI.windowHandler.getWindowOrigin(window);n.postMessage(o,r)}}},u=function(e,t,n,i){if(void 0!==e&&void 0!==t&&"string"==typeof n&&"string"==typeof i){var o=QSI.windowHandler.getWin(n);if(o){var r=new l("setEmbeddedData",{key:e,value:t}),a=JSON.stringify(r);if(/targetwindow/.test(n))o.postMessage(a,i);else try{var s=o.document.getElementById("PopUnderTargetFrame");if(s&&s.contentWindow)s.contentWindow.postMessage(a,i)}catch(e){}}}};if(!QSI.util.isIE()){QSI.util.observe(window,"unload",function(){try{QSI.windowHandler.removeClosedWindowHandles();var e=QSI.windowHandler.getOptInIDsAndWindowNames()||{},t=QSI.windowHandler.getOptInIDsAndTargetOrigins()||{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n],o=t[n]||"*",r=QSI.EmbeddedData.getEmbeddedData(n),a=QSI.util.buildQueryString(r);if(0<a.length&&(a="&"+a),!r||QSI.util.isObjectEmpty(r))continue;if(/placeholderWindow/.test(i))return void c(a,i);for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&u(s,r[s],i,o)}}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},!0);try{QSI.windowHandler.setupWindowHandles()}catch(e){QSI.dbg.e(e)}}QSI.EmbeddedData&&!window.QTest||(QSI.EmbeddedData={getHTMLFromDOM:function(e){var t=QSI.util.$(e),n="";if(t)switch(t.tagName){case"TEXTAREA":case"INPUT":n=t.value;break;default:n=t.innerHTML}return n},getCookieVal:function(e){var t="",n=QSI.cookie.get(e);return n&&(t=n),t},getURLParameter:function(e){return QSI.util.getQueryParam(window.location.href,e)},getURLRegexMatch:function(e){var t=e.match(/^\/(.*)\/([gim]*)/);return(t=t&&t[1]?window.location.href.match(new RegExp(t[1],t[2])):window.location.href.match(new RegExp(e)))&&t[1]?t[1]:""},getJavaScriptValue:function(e){return QSI.dbg.e("Error: JavaScript Evaluation has been disabled. Attempted to execute: '"+e+"'"),""},getHistory:function(){return QSI.history.get()},getTimeOnSite:function(){return QSI.history.getTimeOnSite()},getCurrentPage:function(){return window.location},getReferer:function(){return QSI.history.getPageReferrer()},getSiteReferer:function(){return QSI.history.getSiteReferrer()},getSearchTerm:function(){return QSI.history.getSearch()},getPageCount:function(){return QSI.history.getPageCount().unique},getTotalPageCount:function(){return QSI.history.getPageCount().total},getPercentagePageViewed:function(){return QSI.history.getPageCount().unique},getSiteInterceptID:function(){return this.siid},getCreativeID:function(){if(QSI.global.intercepts[this.siid]&&QSI.global.intercepts[this.siid].CreativeID)return QSI.global.intercepts[this.siid].CreativeID},getEventTrackingData:function(e){return QSI.EventTracker.get(e)},getSiteCatalystValue:function(e){for(var t,n=e.split("."),i=QSI.adobeVar.split("."),o=window,r=0;r<i.length;r++)o=o[i[r]];for(var a=0,s=n.length;a<s;a++){if(o)o=o[(t=n[a]).charAt(0).toLowerCase()+t.slice(1)]||o[n[a]]}return o||null},getEmbeddedData:function(e,t){return t=t||[],QSI.ed[e]&&(t=t.concat(QSI.ed[e])),this.siid=e,this.generateDynamicEmbeddedData(t)},getEmbeddedDataAsQueryStringParam:function(e,t){var n=this.getEmbeddedData(e,t);return 0===Object.keys(n).length?"":"&"+QSI.util.buildQueryString(n)},generateDynamicEmbeddedData:function(e){var t={};"string"==typeof e&&(e=e.split(""));for(var n=0,i=e.length;n<i;n++)try{var o=e[n];if(o.type&&o.name){var r="";switch(o.type){case"StaticVal":r=o.value;break;case"HTML":r=this.getHTMLFromDOM(o.value);break;case"Cookie":r=this.getCookieVal(o.value);break;case"QueryParam":r=this.getURLParameter(o.value);break;case"URLRegex":r=this.getURLRegexMatch(o.value);break;case"JavaScriptVal":r=this.getJavaScriptValue(o.value);break;case"SiteCatalyst":r=this.getSiteCatalystValue(o.value);break;case"EventTracking":r=this.getEventTrackingData(o.value);break;default:r=this["get"+o.type]?this["get"+o.type](o.value):o.value}r=String(r),t[o.name]=r}}catch(e){QSI.dbg.e(e)}return t}}),QSI.history&&!window.QTest||(QSI.history={limit:2e3,logVisit:function(){this.logCurrentURL(),this.logSearch(),this.startFocusTracking(),this.logReferrer()},startFocusTracking:function(){if(!this.started)try{this.started=!0,this.focusTime=this.getFocusTimeFromBrowserStorage(),this.blurTime=this.getBlurTimeFromBrowserStorage();var e=this;setInterval(function(){try{e.focused?e.focusTime+=1:e.blurTime+=1}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},1e3);var t,n=function(){try{e.focused=!0}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}};n(),QSI.util.observe(window,"focus",n),QSI.util.observe(window,"blur",function(){try{e.focused=!1}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),t=QSI.Browser.isMobile?"pagehide":"unload",QSI.util.observe(window,t,function(){try{QSI.profile.set("History","BlurTime",e.blurTime),QSI.profile.set("History","FocusTime",e.focusTime)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})}catch(e){QSI.dbg.e(e)}},logSite:function(e,t){var n,i=QSI.cookie.get("QSI_HistorySession");if(i){var o=(i=decodeURIComponent(i)).split("|");n=o[o.length-1].split("~")[0],i+="|"}else n=i="";e!==n&&(i+=e+"~"+t,this.writeHistory(i))},writeHistory:function(t,n){if(null!=n&&n<=0)QSI.cookie.erase("QSI_HistorySession",encodeURIComponent(t),0);else{n=n||QSI.global.maxCookieSize||this.limit;var e=encodeURIComponent(t),i=this.limitSize(e,n);try{QSI.cookie.set("QSI_HistorySession",i,0)}catch(e){t=decodeURIComponent(i),this.writeHistory(t,n-500)}}},limitSize:function(e,t){if(!e.length)return e;for(t=t||this.limit;e.length>t;){var n=decodeURIComponent(e).split("|");n.splice(0,1),e=n.join("|"),e=encodeURIComponent(e)}return e},get:function(){var e=QSI.cookie.get("QSI_HistorySession");return e||(e=[]),e=this.limitSize(e),decodeURIComponent(e)},logCurrentURL:function(){var e=window.location.href,t=1*new Date;this.logSite(e,t)},getReferrer:function(){return document.referrer},logSearch:function(){var e,t,n=this.getReferrer();if(0<=n.search(/(google.com)|(bing.com)|(yahoo.com)/)){var i="";0<=n.search(/(google.com)|(bing.com)/)?(e=/q=(.*?)\&/,(t=n.match(e))&&t.length&&t[1]&&(i=t[1])):0<=n.search(/yahoo.com/)&&(e=/p=(.*?)\&/,(t=n.match(e))&&t.length&&t[1]&&(i=t[1])),i=unescape(i),QSI.profile.set("History","SearchTerm",i)}},logReferrer:function(){var e=this.getReferrer();e&&(QSI.util.build("a",{href:e}).hostname!==document.location.host&&QSI.profile.set("History","SiteReferrer",e),QSI.profile.set("History","PageReferrer",e))},logIntercept:function(e,t){t&&this.logActionSet(t)},logActionSet:function(e){if(0<=e.search("AS_")){var t=e,n=1*new Date;QSI.profile.set("ActionSetHistory",t,n),QSI.profile.set("ActionSetHistory",t,n,1)}},logSurvey:function(e,t){QSI.profile.set("QualtricsSurveyHistory",e,t,1)},getSiteReferrer:function(){return QSI.profile.get("History","SiteReferrer")},getPageReferrer:function(){return QSI.profile.get("History","PageReferrer")},getSearch:function(){var e=QSI.profile.get("History","SearchTerm");return e||(e=""),e},getTimeOnSite:function(){var e=this.focusTime;return e+this.blurTime+"|"+e},getFocusTimeFromBrowserStorage:function(){var e=QSI.profile.get("History","FocusTime");return e||(e=0),e},getBlurTimeFromBrowserStorage:function(){var e=QSI.profile.get("History","BlurTime");return e||(e=0),e},getActionSetHistory:function(e,t){var n=QSI.profile.get("ActionSetHistory",e,t);return n||(n=0),n},getPageCount:function(){var e,t,n=QSI.cookie.get("QSI_HistorySession"),i=0,o=[];if(n){var r=(n=decodeURIComponent(n)).split("|");for(t=r.length,e=0;e<t;e++)o.push(r[e].split("~")[0]);var a={};for(t=o.length,e=0;e<t;e++)a[o[e]]||(i++,a[o[e]]=!0)}return{unique:i,total:o.length}}}),QSI.profile||(QSI.profile={namespace:"QSI_",set:function(e,t,n,i){if(void 0===e||void 0===t||void 0===n)throw new Error("To few arguments");try{var o=this.getStorage(i),r=this.namespace+e,a=o.getItem(r);(a=a?JSON.parse(a):{})[t]=n,a=JSON.stringify(a),o.setItem(r,a)}catch(e){QSI.dbg.e("error setting profile item"),QSI.dbg.e(e)}},get:function(e,t,n){var i=this.getStorage(n),o=this.namespace+e,r=i.getItem(o);return r?(r=JSON.parse(r),t?r[t]?r[t]:null:r):null},erase:function(e,t,n){var i=this.getStorage(n),o=this.namespace+e;if(t){var r=JSON.parse(i.getItem(o));delete r[t],r=JSON.stringify(r),i.setItem(o,r)}else i.removeItem(o)},getStorage:function(e){if(this.hasSessionStorage())return e?localStorage:sessionStorage;if(QSI.UserDataStorage){var t=QSI.UserDataStorage;return e?t.isPermanent(!0):t.isPermanent(!1),t}return QSI.CookieStorage},hasSessionStorage:function(){var e="qualtricssessionstoragetestkey",t=window.sessionStorage;try{return t.setItem(e,e),t.removeItem(e),!0}catch(e){return!1}}}),QSI.EventTracker&&!window.QTest||(QSI.EventTracker={counts:{},cookieName:"QSI_CT",clicked:!1,loaded:!1,trackElements:function(){!1===this.loaded&&(this.loadCounts(),this.loaded=!0);var i=QSI.global.eventTrackers,o=this;QSI.util.forOwn(i,function(e,t){var n=i[t];o.trackElement(n,t)}),QSI.util.observe(window,"beforeunload",function(){try{o.storeCounts()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})},trackElement:function(e,t){var n=QSI.util.$(e);if(n){var i=this;QSI.util.observe(n,"click",function(){try{i.track(t)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})}},track:function(e){this.clicked=!0,this.counts[e]?this.counts[e]++:this.counts[e]=1},storeCounts:function(){if(!0===this.clicked){var e=JSON.stringify(this.counts);QSI.cookie.set(this.cookieName,e)}},loadCounts:function(){var e=QSI.cookie.get(this.cookieName);e&&(this.counts=JSON.parse(e))},get:function(e){return this.counts[e]?this.counts[e]:0},incrementEventList:function(){if("_qsie"in window&&QSI.util.isArray(window._qsie))for(var e=0,t=window._qsie.length;e<t;e++){var n=window._qsie[e];QSI.util.isString(n)&&this.track(n)}}}),QSI.localStorage={isLocalStorageEnabled:function(){try{var e="qsi_test_local_storage";return localStorage.setItem(e,"local_storage_test_value"),localStorage.removeItem(e),!0}catch(e){return!1}},set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},QSI.cookie={set:function(e,t,n,i,o){o=o||{};var r=this.getCookieSize(),a=this.get(e),s=QSI.global.maxCookieSize;a&&(r-=(e+"="+a).length);var l="";if(n){var c=new Date;c.setTime(c.getTime()+864e5*n),l="; expires="+c.toGMTString()}var u="";i?u="domain="+i:QSI.CookieDomain&&(u="domain="+QSI.CookieDomain);var d=e+"="+t,p=r+d.length;if(!(o.force||null!==s&&p<=s||null===s))throw new Error("Cannot exceed the specified maximum cookie size");o.erase?this.cookieSize=r:this.cookieSize=p,document.cookie=d+l+"; path=/; "+u},get:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0,o=n.length;i<o;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},erase:function(e,t){this.set(e,"",-1,t,{force:!0,erase:!0})},getCookieSize:function(){if(!this.cookieSize){this.cookieSize=0;for(var e=document.cookie.split(";"),t=0,n=e.length;t<n;t++){for(var i=e[t];" "===i.charAt(0);)i=i.substring(1,i.length);0<=i.indexOf("QSI")&&(this.cookieSize+=i.length)}}return this.cookieSize},areCookiesEnabled:function(){try{document.cookie="cookietest=1";var e=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}},QSI.CookieStorage=function(){var n={},t="QSI_DATA";function e(){try{var e=QSI.cookie.get(t);e&&(n=JSON.parse(e))}catch(e){n={}}}function i(){try{QSI.cookie.set(t,JSON.stringify(n))}catch(e){}}return e(),{setItem:function(e,t){n[e]=t,i()},getItem:function(e){return n[e]||null},removeItem:function(e){delete n[e],i()},reload:e,clear:function(){n={},i()}}}(),(void 0===window.QSI.LoadingAnimationElement||window.QTest)&&(QSI.LoadingAnimationElement=QSI.util.Class({initialize:function(){this.count=0,this.intervalID=0,this.animationDiv=null,this.animationBuilt=!1,this.animationStarted=!1},buildAnimation:function(e,t,n){var i=e/5*2;this.animationDiv=QSI.util.build("div",{style:{width:e+"px",height:e+"px",zindex:QSI.global.currentZIndex++,position:"absolute",top:t+"px",left:n+"px"}},[]);for(var o=0;o<8;o++){var r="rotate("+45*o+"deg) translate(0, -"+i+"px)",a=QSI.util.build("div",{style:{position:"absolute",top:e/2-e/6+"px",left:e/2-e/20+"px",width:e/10+"px",height:e/3+"px",background:"#000",transform:r,"-ms-transform":r,"-moz-transform":r,"-webkit-transform":r,opacity:.12*(o+1)}},[]);this.animationDiv.appendChild(a)}return this.animationBuilt=!0,this.animationDiv},startAnimation:function(e){var t=this;this.animationBuilt&&(this.intervalID=window.setInterval(function(){try{var e="rotate("+t.count+"deg)";QSI.util.setStyle(t.animationDiv,{transform:e,"-ms-transform":e,"-moz-transform":e,"-webkit-transform":e}),360===t.count&&(t.count=0),t.count+=45}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},e),this.animationStarted=!0)},stopAnimation:function(){this.animationStarted&&(window.clearInterval(this.intervalID),QSI.util.remove(this.animationDiv))}})),QSI.PipedText={locators:[],setLocators:function(e){this.locators=[];for(var t=0,n=e.length;t<n;t++){var i=e[t],o={locator:i[0],prefix:i[1],type:i[2],expression:i[3]};this.locators.push(o)}},evaluateLocators:function(e,t){if(0===this.locators.length)return"";for(var n=0,i=this.locators.length;n<i;n++){var o=this.locators[n],r=o.type,a=new RegExp("\\"+this.escapeRegex(o.locator));if("SI"===o.prefix)switch(r){case"J":e=e.replace(a,QSI.EmbeddedData.getJavaScriptValue(o.expression));break;case"H":e=e.replace(a,QSI.EmbeddedData.getHTMLFromDOM(o.expression));break;case"U":e=e.replace(a,QSI.EmbeddedData.getURLParameter(o.expression));break;case"C":e=e.replace(a,QSI.EmbeddedData.getCookieVal(o.expression));break;case"W":t&&(e=e.replace(a,QSI.util.buildWidget(o.expression,t)))}else e=e.replace(a,"")}return e},escapeRegex:function(e){var t=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return e.replace(t,"\\$&")}},QSI.BuildElementModule={buildElement:function(e){var t;if(e.unitsOfMeasurement||(e.unitsOfMeasurement={},e.unitsOfMeasurement.width="px",e.unitsOfMeasurement.height="px"),!e.type||!this["build"+e.type+"Element"])return null;(t=this["build"+e.type+"Element"](e)).tabIndex="0",QSI.util.observe(t,"keydown",QSI.util.clickOnKeyDown),e&&e.events&&QSI.util.processElementEvents(e.events,t,this);var n=QSI.util.createArrayFromIterable(t.getElementsByTagName("img"));if(!1===this.shouldPreloadImages)for(var i=0,o=n.length;i<o;i++){var r=n[i];r.setAttribute("data-src",r.src),r.src=""}var a=QSI.util.createArrayFromIterable(t.getElementsByTagName("iframe")),s=n.concat(a);return t.loadingDeferred=this.combineElementLoadEvents(s),t},combineElementLoadEvents:function(e){var t=QSI.util.Deferred(),n=e.length,i=function(){--n<=0&&t.resolve()};function o(e){try{var t=e.target||e.srcElement;!t.getAttribute("src")&&t.getAttribute("data-src")||i()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}for(var r=0,a=e.length;r<a;r++){var s=e[r];!s.complete||s.notComplete?QSI.util.observe(s,"load",o):n--}return 0===n&&t.resolve(),t.promise()},buildGenericElement:function(e){return this.buildBaseElement(e)},buildPopOverElement:function(e){return this.buildBaseElement(e)},buildTextElement:function(e){return this.buildBaseElement(e)},buildImageElement:function(e){return this.buildBaseElement(e)},buildTargetElement:function(e){var t=this.buildBaseElement(e);t.style.cursor="pointer",t.setAttribute("data-type","target");var n=this;return this.addEmbeddedDataToGlobalInstance(e),new QSI.Target(t,this.getTargetHelper(e.embeddedData||[]),this.actionOptions,this).complete().done(function(){n.closeOnTargetClick?n.closeOnTargetClick():n.close()}),t},addEmbeddedDataToGlobalInstance:function(e){if(QSI&&QSI.ed&&e&&e.embeddedData)for(var t=0;t<e.embeddedData.length;t++)QSI.ed[this.id].push(e.embeddedData[t])},buildSpanElement:function(e){this.position=e.positionAnchors.positionY;var t=this.buildBaseElement(e);return t.style.width="100%",t},buildTargetSpanElement:function(e){this.position=e.positionAnchors.positionY;var t=this.buildBaseElement(e);t.style.width="100%",t.style.cursor="pointer",this.addEmbeddedDataToGlobalInstance(e);var n=this;return new QSI.Target(t,this.getTargetHelper(e.embeddedData||[]),this.actionOptions).complete().done(function(){n.closeOnTargetClick?n.closeOnTargetClick():n.close()}),t},buildEmbeddedTargetElement:function(e){this.hasIframe=!0;var t=this.getTarget(e.embeddedData||[]),n=e.style.width,i=e.style.height;"%"===e.unitsOfMeasurement.width&&(n=100),"%"===e.unitsOfMeasurement.height&&(i=100);var o={"data-src":t,width:"100%",height:"100%",style:{},frameBorder:0};QSI.util.isIE(9)||(o.sandbox="allow-scripts allow-same-origin allow-popups");var r=QSI.util.build("iframe",o);this.getEmbeddedTargets().push(r);var a=QSI.util.build("div",{className:"scrollable",style:{width:n+e.unitsOfMeasurement.width,height:i+e.unitsOfMeasurement.height,overflow:"none"}},[r]);return QSI.Browser.isMobile&&QSI.util.setStyle(a,{overflow:"auto"}),this.displayed.then(function(){QSI.util.setStyle(a,{webkitTransform:"translateZ(0)"})}),e.content=a,this.buildBaseElement(e)},buildCloseButtonElement:function(e){var t=this.buildBaseElement(e);this.fixTransparentWithOpacity(t),t.style.cursor="pointer";var n=this;return t.onclick=function(){n.onCloseClick()},t},fixTransparentWithOpacity:function(e){var t,n,i;if(QSI.util.isIE(7)||QSI.util.isIE(8))for(i=(t=e.getElementsByTagName("img")).length,n=0;n<i;n++)t[n].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF, endColorstr=#00FFFFFF);"},buildBaseElement:function(e){var t,n,i=e.style,o=e.unitsOfMeasurement,r=e.position,a={style:this.getElementStyle(i,r,o)},s=this.getYPosition(r),l=this.getXPosition(r);return this.setPositionStyles(a,e),e.style.backgroundImage&&(a.style.backgroundImage="url("+e.style.backgroundImage+")"),100!==e.style.opacity&&(a.style.opacity=e.style.opacity/100,a.style.filter="alpha(opacity = "+e.style.opacity+")"),t=QSI.util.build("div",a,[this.getElementContents(e)]),e.dropShadow&&this.appendDropShadow(e,t),n=QSI.util.getDimensions(t),t.bc={x:l+n.width,y:s+n.height},t},getElementContents:function(e){var t=e.style,n=e.unitsOfMeasurement,i=this.getContentDims(t.width,t.height,n),o=QSI.util.build("div",{style:{position:"absolute",top:0,left:0,width:i.width,height:i.height,overflow:"hidden",display:t.display}});if(e.content)if("string"==typeof e.content){var r=e.content;QSI.global.enableJSSanitization&&void 0!==QSI.DOMPurify&&(r=QSI.DOMPurify.sanitize(r)),o.innerHTML=r}else"object"==typeof e.content&&o.appendChild(e.content);return o},getContentDims:function(e,t,n){var i=e,o=t;return"%"===n.width&&(i=100),"%"===n.height&&(o=100),{width:i+n.width,height:o+n.height}},appendDropShadow:function(e,t){var n=e.style,i=n.borderWidth,o=e.unitsOfMeasurement;isNaN(i)&&(i=0);var r=this.convertPercentStylesToPixels(n,o),a=Math.floor(1*r.width+2*i),s=Math.floor(1*r.height+2*i);t.insertBefore(this.buildDropShadow(a,s,i),t.childNodes[0])},buildDropShadow:function(e,t,n){var i,o,r=Math.ceil(-.1*t)-n,a=Math.ceil(-.1*e)-n;return o={width:(i=Math.floor(1.2*e))+"px",maxWidth:i+"px",height:Math.floor(1.2*t)+"px",top:r+"px",left:a+"px",position:"absolute"},QSI.util.build("img",{src:QSI.global.imagePath+"/siteintercept/popup_shadow_transparent.png",style:o,alt:""})},onCloseClick:function(){this.close()},buildIFrame:function(e,t){var n={style:{border:"none",position:"absolute",top:0,left:0,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"},width:e+"px",height:t+"px",frameBorder:"0",src:QSI.global.imagePath+"/blank.html"};return QSI.util.isIE(9)||(n.sandbox="allow-scripts allow-same-origin allow-popups"),QSI.util.build("iframe",n)},setPositionStyles:function(e,t){t.positionAnchors||(t.positionAnchors={positionX:"left",positionY:"top"}),this.shouldAnchor&&("left"===t.positionAnchors.positionX?e.style.left=t.position.left+"px":"right"===t.positionAnchors.positionX?e.style.right=t.position.right+"px":"center"===t.positionAnchors.positionX&&this.centerHorizontally(e,t),"top"===t.positionAnchors.positionY?e.style.top=t.position.top+"px":"bottom"===t.positionAnchors.positionY?e.style.bottom=t.position.bottom+"px":"center"===t.positionAnchors.positionY&&this.centerVertically(e,t))},centerHorizontally:function(e,t){this.centerDim(e,t.style.width,"width","left",t.unitsOfMeasurement)},centerVertically:function(e,t){this.centerDim(e,t.style.height,"height","top",t.unitsOfMeasurement)},centerDim:function(e,t,n,i,o){var r=QSI.util.getPageSize(),a=i.charAt(0).toUpperCase()+i.slice(1);"%"===o[n]&&(t=QSI.util.convertPercentToPixel(t,r[n])),e.style[i]="50%",e.style["margin"+a]="-"+Math.ceil(t/2)+"px"},convertPercentStylesToPixels:function(e,t){(e=JSON.parse(JSON.stringify(e))).width=parseInt(e.width,10),e.height=parseInt(e.height,10);var n=QSI.util.getPageSize();return"%"===t.width&&e.width&&(e.width=QSI.util.convertPercentToPixel(e.width,n.width)),"%"===t.height&&e.height&&(e.height=QSI.util.convertPercentToPixel(e.height,n.height)),e},getYPosition:function(e){return 1*e.top},getXPosition:function(e){return 1*e.left},getElementStyle:function(e,t,n){return{position:"absolute",zIndex:e.zIndex,width:e.width+n.width,height:e.height+n.height,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth+"px",borderColor:e.borderColor,borderStyle:"solid",borderRadius:e.borderRadius+"px",display:e.display}},initializeIframes:function(){var e,t,n,i,o=this.getEmbeddedTargets();for(t=o.length,e=0;e<t;e++)(i=(n=o[e]).getAttribute("data-src"))&&(n.src=i)},getEmbeddedTargets:function(){return this.embeddedTargets||(this.embeddedTargets=[]),this.embeddedTargets}},QSI.Animation&&!window.QTest||(QSI.Animation={supportedProperties:{top:"px",left:"px",right:"px",bottom:"px",width:"px",height:"px",opacity:0},tweens:[],animateStyle:function(e,t,n,i){n=0===n?1:n,this.setUpAnimationFrames();var o=this.getProperties(t,e);return this.startAnimating(o,n||1500,e,i||"easeto")},getProperties:function(n,i){var o={},r=this;return n.from&&(o=n.from,n=n.to),QSI.util.forOwn(n,function(e,t){t in r.supportedProperties&&(n[t]=n[t],void 0!==o[t]?i.style[t]=o[t]+r.supportedProperties[t]:o[t]=parseFloat(QSI.util.removePx(i.style[t])))}),{start:o,end:n}},startAnimating:function(e,t,i,n){var o=this,r=QSI.util.Deferred(),a=new this.Tween(e.start).to(e.end,t).onUpdate(function(){var n=this;QSI.util.forOwn(this,function(e,t){o.setElementStyle(i,t,n[t])})}).onComplete(function(){r.resolve()});return n&&(n=this.getTransitionFunction(n),a.transition(n)),a.start(),this.animating(),r.promise()},getTransitionFunction:function(e){return QSI.Animation.Transitions[e]?QSI.Animation.Transitions[e]:e},setElementStyle:function(e,t,n){e.style[t]=n+this.supportedProperties[t],"opacity"===t&&(e.style.filter="alpha(opacity = "+100*n+")")},animating:function(){try{0<QSI.Animation.tweens.length&&(QSI.Animation.update(),window.qsiRequestAnimationFrame(QSI.Animation.animating))}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},setUpAnimationFrames:function(){if(!window.qsiRequestAnimationFrame){for(var e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.qsiRequestAnimationFrame;++t)window.qsiRequestAnimationFrame=window[e[t]+"RequestAnimationFrame"];window.qsiRequestAnimationFrame||(window.qsiRequestAnimationFrame=this.animationFrameHelper())}},animationFrameHelper:function(){var o=0;return function(e){var t=QSI.util.getDateNow(),n=Math.max(0,20-(t-o)),i=window.setTimeout(function(){try{e(t+n)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},n);return o=t+n,i}},getAll:function(){return this.tweens},removeAll:function(){this.tweens=[]},addTween:function(e){this.tweens.push(e)},update:function(e){var t=0,n=this.tweens.length;for(e=void 0!==e?e:QSI.util.getDateNow();t<n;)this.tweens[t].update(e)?t++:(this.tweens.splice(t,1),n--)},Tween:function(e){var a=e,s={},l={},c=1e3,t=0,u=null,d=QSI.Animation.Transitions.easeto,p=null,f=null;this.to=function(e,t){return null!==t&&(c=t),l=e,this},this.start=function(e){return QSI.Animation.addTween(this),Date&&(u=void 0!==e?e:QSI.util.getDateNow()),u+=t,QSI.util.forOwn(l,function(e,t){if(null!==a[t]){if(l[t]instanceof Array){if(0===l[t].length)return;l[t]=[a[t]].concat(l[t])}s[t]=a[t]}}),this},this.delay=function(e){return t=e,this},this.transition=function(e){return d=e,this},this.onUpdate=function(e){return p=e,this},this.onComplete=function(e){return f=e,this},this.update=function(e){if(e<u)return!0;var t=(e-u)/c,n=d(t=1<t?1:t);for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){var o=s[i],r=l[i];a[i]=o+(r-o)*n}return null!==p&&p.call(a,n),1!==t||(null!==f&&f.call(a),!1)}}},QSI.Animation.Transitions={staticly:function(){return 1},linear:function(e){return e},inquad:function(e){return e*e},easeto:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},sinoidal:function(e){return-Math.cos(e*Math.PI)/2+.5},reverse:function(e){return 1-e},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){return e*e*(2.70158*e-1.70158)},swingTo:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)}}),QSI.ResolveTimeZone={prepare:function(){return"&Q_TZ="+-(new Date).getTimezoneOffset()/60}},QSI.ResolveTimeOnSite={prepare:function(){return"&Q_TOS="+QSI.history.getTimeOnSite()}},QSI.ResolveSiteCatalyst={prepare:function(e){var t="&Q_ASC=";if(e)if(QSI.util.isString(e))t+=encodeURIComponent(e+"*|*"+this.getValue(e));else{for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i];n.push(r+"*|*"+this.getValue(r))}t+=encodeURIComponent(n.join("*,*"))}return t},getValue:function(e){var t=e.split(".");this.adobeVar=this.rootName;for(var n=this.adobeVar.split("."),i=window,o=0;o<n.length;o++){if(!i[n[o]])return"";i=i[n[o]]}for(var r=0,a=t.length;r<a;r++)i&&(i=i[t[r]]);return i||""}},QSI.ResolveSearchTerm={prepare:function(){var e=QSI.history.getSearch();return"&Q_ST="+escape(e)}},QSI.ResolveResolution={prepare:function(){var e=QSI.util.getPageSize(),t="&Q_VPDIMS=";return t+=e.width,t+="|",t+=e.height,t+="&Q_SDIMS=",t+=screen.width,t+="|",t+=screen.height}},QSI.ResolveReferrer={prepare:function(){return"&Q_REFER="+encodeURIComponent(QSI.history.getPageReferrer())+"&Q_SREFER="+encodeURIComponent(QSI.history.getSiteReferrer())}},QSI.ResolveQualtricsSurvey={prepare:function(){}},QSI.ResolvePageCount={prepare:function(){var e="&Q_RPC=",t=QSI.history.getPageCount();return e+=t.total+"|"+t.unique}},QSI.ResolveJavaScript={prepare:function(e){var t="&Q_RJS=";if(e){var i=e,o=[];QSI.util.forOwn(i,function(e,t){var n=QSI.EmbeddedData.getJavaScriptValue(i[t]);o.push(t+"*:*"+n)}),t+=encodeURIComponent(o.join("*|*"))}return t}},QSI.ResolveIntercept={prepare:function(){var t="&Q_INTER=",e=null;try{e=JSON.parse(QSI.localStorage.get("Q_INTER"))}catch(e){return t}var n=[],i=0;if(null!==e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[i]=o+"*:*"+e[o],i++);t+=escape(n.join("*|*"))}return t}},QSI.ResolveHTML={prepare:function(e){var t="&Q_RHTML=";if(e){for(var n=e,i=[],o=0,r=n.length;o<r;o++){var a=QSI.EmbeddedData.getHTMLFromDOM(n[o]);i[o]=n[o]+"*:*"+escape(a)}t+=escape(i.join("*|*"))}return t}},QSI.ResolveHistory={prepare:function(){var e=QSI.history.get();return"&Q_HIST="+escape(e)}},QSI.ResolveEventTracking={prepare:function(e){var t="&Q_RET=";if(e){for(var n=e,i=[],o=0,r=n.length;o<r;o++){var a=QSI.EventTracker.get(n[o]);i[o]=n[o]+"*:*"+escape(a)}t+=escape(i.join("*|*"))}return t}},QSI.ResolveCookie={prepare:function(e){var t="&Q_COOK=";if(e){for(var n=e,i=[],o=0,r=n.length;o<r;o++){var a=QSI.cookie.get(n[o]);null===QSI.cookie.get(n[o])&&(a=""),i[o]=n[o]+"*:*"+a}t+=escape(i.join("*|*"))}return t}},QSI.ResolveActionSet={prepare:function(e){var t="&Q_RAS=";if(e){var i=e,o=[];QSI.util.forOwn(i,function(e,t){var n=QSI.history.getActionSetHistory(t,!i[t]);o.push(t+"|"+i[t]+"*:*"+escape(n))}),t+=escape(o.join("*|*"))}return t}}}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},{dompurify:1}]},{},[2]);