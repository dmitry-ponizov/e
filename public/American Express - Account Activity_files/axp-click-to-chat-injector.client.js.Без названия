!function(){var e=function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(1),i=(o=n)&&o.__esModule?o:{default:o};t.default=i.default,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=t.ClickToChatInjector=void 0;var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(2),i=_interopRequireDefault(r(3)),c=r(4),a=r(5),u=r(6),p=_interopRequireDefault(r(7)),l=_interopRequireDefault(r(8));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=t.ClickToChatInjector=function(e){function ClickToChatInjector(){return _classCallCheck(this,ClickToChatInjector),_possibleConstructorReturn(this,(ClickToChatInjector.__proto__||Object.getPrototypeOf(ClickToChatInjector)).apply(this,arguments))}return _inherits(ClickToChatInjector,n.Component),o(ClickToChatInjector,[{key:"componentDidMount",value:function(){this.configure()}},{key:"shouldComponentUpdate",value:function(e){return this.props.pathName!==e.pathName||this.props.locale!==e.locale}},{key:"componentDidUpdate",value:function(){this.configure()}},{key:"getEnvScriptUrl",value:function(){switch(this.props.environment){case"integration":return"https://cdaas-dev.americanexpress.com/cdaas/one/axp-script-supplier/";case"qa":return"https://qwww.aexp-static.com/cdaas/one/axp-script-supplier/";default:return"https://www.aexp-static.com/cdaas/one/axp-script-supplier/"}}},{key:"configure",value:function(){var e=this,t=l.default.markets[this.props.locale];t&&("all"===t.routes||t.routes.some(function(t){return t===e.props.pathName}))?setTimeout(function(){e.loadClickToChat()},6e3):this.removeClickToChat()}},{key:"loadClickToChat",value:function(){if(!document.getElementById("script-supplier")){window.scriptSupplierPreset=[{name:"clicktochat",version:"^1.0.0"}];var e=this.getEnvScriptUrl(),t=document.createElement("script");t.src=e+"1.0.0/script-supplier.js",t.id="script-supplier",t.async=!0,t.defer=!0,document.body.appendChild(t)}}},{key:"removeClickToChat",value:function(){var e=document.getElementById("script-supplier");e&&document.body.removeChild(e)}},{key:"render",value:function(){return null}}]),ClickToChatInjector}();s.propTypes={environment:i.default.string.isRequired,locale:i.default.string.isRequired,pathName:i.default.string.isRequired};var f=t.mapStateToProps=function(e){return{environment:e.config&&e.config.get("localeFilename"),locale:e.intl&&e.intl.get("activeLocale"),pathName:e.routing&&e.routing.locationBeforeTransitions&&e.routing.locationBeforeTransitions.pathname||null}},_=(0,c.compose)((0,p.default)("axp-click-to-chat-injector"),(0,a.connect)(f),(0,u.holocronModule)({name:"axp-click-to-chat-injector"}));t.default=_(s)},function(e,t){e.exports=React},function(e,t){e.exports=PropTypes},function(e,t){e.exports=Redux},function(e,t){e.exports=ReactRedux},function(e,t){e.exports=Holocron},function(e,t){e.exports=OneAmexWrapper},function(e,t){e.exports={markets:{"en-GB":{routes:["/dashboard"]}}}}]);Holocron.registerModule("axp-click-to-chat-injector",e)}();